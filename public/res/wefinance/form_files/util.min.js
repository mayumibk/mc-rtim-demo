(function(c,b){b.ns=b.ns||function(g){var l=g.split("."),j=window,f="";
for(var h=0,k=l.length;
h<k;
h++){f=l[h];
j[f]=j[f]||{};
j=j[f]
}return j
};
var a=b.ut.Class=function(f){this.options=c.extend({},this.options,f);
if(!this.options.jsonModel){this.options.jsonModel={}
}this.jsonModel=this.options.jsonModel;
this.initialize.apply(this,arguments)
};
c.extend(a.prototype,{initialize:function(){},xfaUtil:function(){return b.ut.XfaUtil.prototype
},copyArray:function(k,l,g){var f=this.getOrElse(g,"keepReference",true);
if(k instanceof Array){for(var h=0;
h<k.length;
h++){var j;
if(k[h] instanceof Array){j=this._createDestination(l,h,f,[]);
this.copyArray(k[h],j,g)
}else{if(typeof k[h]=="object"){j=this._createDestination(l,h,f,{});
this.copyObject(k[h],j,g)
}else{j=k[h]
}}l[h]=j
}if(l.length>k.length){l.splice(k.length,(l.length-k.length))
}}},copyObject:function(i,l,g){var f=this.getOrElse(g,"keepReference",true);
var h=this.getOrElse(g,"exceptions",[]);
var k=this.getOrElse(g,"transformMaps",{});
if(typeof i=="object"){for(var j in i){if(h.indexOf(j)==-1){if(i[j] instanceof Array){l[j]=this._createDestination(l,j,f,[]);
this.copyArray(i[j],l[j],g)
}else{if(typeof i[j]=="object"&&i[j]!=null){l[j]=this._createDestination(l,j,f,{});
this.copyObject(i[j],l[j],g)
}else{if(!c.isUndefined(k[j])){l[j]=k[j](i[j],g,i)
}else{l[j]=i[j]
}}}}}}},_createDestination:function(i,h,g,f){if(!g){return f
}else{if(c.isObject(i)&&!i.hasOwnProperty(h)){return f
}else{return i[h]||f
}}},getOrElse:function(i){var h=i;
if(arguments.length<2){return h
}else{if(arguments.length==2){if(!c.isUndefined(h)){return h
}else{return c.clone(arguments[1])
}}else{var g=(arguments[1]||"").split(".");
var f=arguments[2];
c.each(g,function(j){if(c.isObject(h)){h=h[j]
}else{h=undefined
}},this);
if(!c.isUndefined(h)){return h
}else{return c.clone(f)
}}}},logger:function(){return this.xfaUtil().getLogger()
},validateInput:function(g,f,h){if(typeof g!=="undefined"&&g!==null){switch(f){case"string":g=g+"";
break;
case"object":if(typeof g!=="object"){g=h
}break;
case"integer":g=parseInt(g);
if(isNaN(g)){g=h
}break;
case"measurement":break;
default:if(f instanceof Array){if(!~f.indexOf(g)){g=h
}}}}return g
}});
c.extend(a,{defineProps:function(f){c.each(f,function(g,h){if(g.resolve){if(!this.prototype.hasOwnProperty("resolveProperties")){if(this.prototype.resolveProperties){this.prototype.resolveProperties=c.clone(this.prototype.resolveProperties)
}else{this.prototype.resolveProperties=[]
}}this.prototype.resolveProperties.push(h)
}Object.defineProperty(this.prototype,h,g)
},this)
},extend:function(f){var g=e(this,f);
g.extend=this.extend;
return g
},addMixins:function(f){if(!c.isArray(f)){f=[f]
}c.each(f,function(g){if(g.normalProperties){c.extend(this.prototype,g.normalProperties)
}if(g.propertyDescriptors){this.defineProps(g.propertyDescriptors)
}},this)
}});
var d=function(){};
function e(h,g,j){var k;
var i=h.prototype;
if(g&&g.hasOwnProperty("constructor")){k=g.constructor
}else{k=function(){h.apply(this,arguments)
}
}c.extend(k,h);
d.prototype=h.prototype;
k.prototype=new d();
k._super=h.prototype;
k._superClass=h;
if(g){for(var f in g){if(f=="_defaults"){g[f]=c.extend({},i[f],g[f])
}k.prototype[f]=g[f]
}}if(j){c.extend(k,j)
}k.prototype.constructor=k;
k.__super__=h.prototype;
return k
}})(_,window.xfalib);
(function(c,b){var e={a:"xfa",b:"xfaView",c:"xfaPerf"},d=["off","console","server","consoleServer"];
var a=b.ut.Logger=b.ut.Class.extend({LOG_COUNT:{level:{FATAL:0,ERROR:0,WARN:0,INFO:0,DEBUG:0,TRACE:0,ALL:0},category:{xfa:0,xfaView:0,xfaPerf:0,Unknown:0}},OFF:0,FATAL:1,ERROR:2,WARN:3,INFO:4,DEBUG:5,TRACE:6,ALL:7,logLevelNames:["OFF","FATAL","ERROR","WARN ","INFO ","DEBUG","TRACE"," ALL "],initialize:function(){var g="",f=this;
a._super.initialize.call(this);
this.logs={};
this.logMessages="";
this.logServiceProxy=this.options.logServiceProxy;
this.contextPath=this.options.contextPath;
this.renderContext=this.options.renderContext;
if(this.jsonModel.logConfigString){c.extend(this.jsonModel,this.parse(this.jsonModel.logConfigString))
}c.each(this.jsonModel.category,function(h){f.LOG_COUNT.category[h]=0
})
},parse:function(j){var g=j.split("-"),h=c.first(g),f=c.rest(g),i={on:h==="0"?"false":"true",category:[],level:[],type:d[parseInt(h)]};
c.each(f,function(o,l){var k=o.match(/^([A-Za-z]+)(\d+)$/),m;
if(k&&k.length===3){m=this.getOrElse(e,k[1],this.getOrElse(this.jsonModel,"categoryAcronyms."+k[1],k[1]));
i.category.push(m);
i.level.push(parseInt(k[2]))
}else{this.consoleHandler(this.resolveMessage(b.locale.LogMessages["ALC-FRM-901-020"],[o,j]))
}},this);
return i
},resolveMessage:function(g,f){f=f||[];
return g.replace(/{(\d+)}/g,function(h,i){return typeof f[i]!="undefined"?f[i]:h
})
},log:function(g,f,w,v){var r=new Date();
var t=r.getDate();
var q=r.getMonth()+1;
var s=r.getFullYear();
var j=r.getMilliseconds();
var p=r.getSeconds();
var m=r.getMinutes();
var l=r.getHours();
var h=t+"."+q+"."+s+" "+l+":"+m+":"+p+":"+j;
if(this.jsonModel&&this.jsonModel.category){for(var o=0;
o<this.jsonModel.category.length;
o++){if(f!=0&&this.jsonModel.level[o]>=f&&this.jsonModel.category[o]==g&&this.jsonModel.on=="true"){var k=w;
if(v){k=this.resolveMessage(w,v)
}var u="";
u+=h;
u+=" *"+this.logLevelNames[f]+"*";
u+=" ["+g+"]";
u+="  "+k+"\r\n";
this.logMessages+=u;
if(this.jsonModel.type=="console"||this.jsonModel.type=="consoleServer"){++this.LOG_COUNT.category[g||"Unknown"];
++this.LOG_COUNT.level[this.logLevelNames[parseInt(f)<8?f:7]];
this.consoleHandler(u)
}}}}},consoleHandler:function(g){if(typeof console!="undefined"){console.log("\n\n\n"+g);
try{n.test
}catch(f){if(f.stack){console.log(f.stack.replace("ReferenceError: n is not defined",""))
}}}},_getLogServiceProxyUrl:function(){var f="";
if(this.logServiceProxy){f+=this.logServiceProxy
}else{f+=((this.contextPath&&this.contextPath!="/")?this.contextPath:"")+"/bin/xfaforms/logger"
}return f
},_invokeAtServer:function(f){var g=this._getLogServiceProxyUrl();
var h={async:true,url:g,type:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:f};
jQuery.ajax(h)
},isServerLoggingEnabled:function(){if((this.jsonModel.on=="true")&&(this.jsonModel.type=="server"||this.jsonModel.type=="consoleServer")){return true
}else{return false
}},serverHandler:function(){var f={logMessages:this.logMessages,renderContext:this.renderContext};
this._invokeAtServer(f);
this.logMessages=""
},fatal:function(h,g,f){this.log(h,this.FATAL,g,f)
},error:function(h,g,f){this.log(h,this.ERROR,g,f)
},warn:function(h,g,f){this.log(h,this.WARN,g,f)
},info:function(h,g,f){this.log(h,this.INFO,g,f)
},debug:function(h,g,f){this.log(h,this.DEBUG,g,f)
},trace:function(h,g,f){this.log(h,this.TRACE,g,f)
},isLogEnabled:function(f,h){if(this.jsonModel.on=="true"){var g=this.jsonModel.category.indexOf(f);
if(this.jsonModel.level[g]>=h){return true
}}return false
}})
})(_,xfalib);
(function(c,b){var a=/\s+/;
var d=b.ut.EventClass=b.ut.Class.extend({on:function(g,j,f){var e,i,k=true;
var l=c.isFunction(j)?j:null;
if(!j||(!j.handleEvent&&!l)){return false
}e=this._callbacks||(this._callbacks={});
i=e[g]||(e[g]=[]);
if(l){var h=c.find(i,function(m){return(m.fn==l&&m.context==f)
},this);
if(h){return false
}else{i.push({fn:l,context:f})
}}else{if(~i.indexOf(j)){return false
}else{i.push(j)
}}return true
},off:function(g,j,f){var i,e,h;
if(!(e=this._callbacks)){return
}if(!(g||j)){delete this._callbacks;
return this
}var k=c.isFunction(j)?j:null;
g=g?g.split(a):c.keys(e);
while(i=g.shift()){h=e[i];
e[i]=c.filter(e[i],function(l){if(typeof(j)!=="undefined"){if(k&&l.fn==k&&l.context==f){return false
}else{if(!k&&j===l){return false
}}}else{return false
}return true
});
if(!e[i].length){delete e[i]
}}return this
},trigger:function(f){var i,e,h;
if(!(e=this._callbacks)){return this
}f=f.split(a);
var g=c.rest(arguments);
while(i=f.shift()){c.each(e[i],function(j){if(j.fn&&j.context){j.fn.apply(j.context,g)
}else{j.handleEvent.apply(j,g)
}})
}return this
}})
})(_,xfalib);
(function(c,d,b){var a=b.ut.XfaUtil=function(){},e=null;
c.extend(a.prototype,{_globalUniqueId:(new Date()).getTime(),logger:null,formScaleFactor:1,getOrElse:b.ut.Class.prototype.getOrElse,_xtgEventName:{"$formready":"ready","$layoutready":"ready"},generateUID:function(){return"UID"+(++a.prototype._globalUniqueId)
},matchJsonType:function(f,g){return(f&&g&&a.prototype.getOrElse(f._class,"").toLowerCase()==(""+g).toLowerCase())
},$data:function(g,f,h){if(!d.data(g,"_xfaInitialized")){d(g).data();
d.data(g,"_xfaInitialized",true)
}return d.data(g,f,h)
},$css:function(g,f){var i={fillOpacity:true,"fill-opacity":true,fontWeight:true,"font-weight":true,lineHeight:true,"line-height":true,zIndex:true,"z-index":true,opacity:true,orphans:true,widows:true,zoom:true};
for(var j in f){var h=f[j];
if(c.isNumber(h)&&!i[j]){h+="px"
}g.style[j]=h
}},isTableHF:function(h){var g=(h instanceof b.script.Node)?h.jsonModel:h;
var f=c.find(h.children,function(j){return j._class=="assist"
},this);
var i=(f||{}).role;
if(i=="TH"||i=="TF"){return true
}else{return false
}},getUiOneOfChildTag:function(f){var g=c.find(f.children,function(j){return j._class=="ui"
});
if(!g){return undefined
}var i=b.runtime.xfa._templateSchema._getOneOfChild("ui");
var h=c.find(g.children,function(j){return i[j._class]==true
});
if(!h){return undefined
}return h._class
},dIndexOf:function(h,f){var g=-1;
c.find(h,function(j,i){return j==f&&(g=i)
});
return g
},splitStringByWidth:function(k,j,g){var h=k.length,f;
do{f=b.view.util.TextMetrics.measureExtent(k.slice(0,h),{refEl:g,maxWidth:-1}).width;
h--
}while(f>j);
if(h!=k.length-1){return k.slice(0,h+1)
}return k
},isRepeatabeEl:function(f){if(f=="subform"||f=="subformSet"){return true
}else{return false
}},computeDomJsonDiff:function(f){var h=true;
if(f.hasOwnProperty("_modelChanged")){h=f._modelChanged
}var g={};
if(h){this.copyObject(f.jsonModel,g,{exceptions:["children","{default}","extras"]})
}else{g={_class:f.className}
}if(!h&&f.jsonModel.hasOwnProperty("name")){g.name=f.jsonModel.name
}return{changed:h,jsonDifference:g}
},getLogger:function(){return a.prototype.logger||a.prototype.getOrElse(b,"runtime.xfa.Logger",null)
},XFA_CLICK_EVENT:"xfaclick",XFA_EXIT_EVENT:"xfaexit",XFA_ENTER_EVENT:"xfaenter",XFA_CHANGE_EVENT:"xfachange",XFA_PREOPEN_EVENT:"xfapreopen",btwn:function(h,g,f){return h>g&&h<f
},isWebkit:function(){return !!d.browser.webkit||/webkit/.test(navigator.userAgent.toLowerCase())||!!window.chrome||!!d.browser.chrome||/chrom(e|ium)/.test(navigator.userAgent.toLowerCase())||!!d.browser.safari||!!window.webkitURL||(/safari/.test(navigator.userAgent.toLowerCase())&&/apple computer/.test(navigator.vendor.toLowerCase()))
},getLocaleStrings:function(){return b.locale.Strings
},getLogMessages:function(){return b.locale.LogMessages
},registerLocaleProperties:function(f){e=f
},getDefaultLocaleProperty:function(g){var f=e||this.getOrElse(b,"script.Xfa._defaultLocale",null);
return this.getOrElse(f,g,null)
},encodeScriptableTags:function(g){var f;
if(c.isString(g)){return g.replace(/<(\/?)(script[^<>]*)>/gi,"&lt;$1$2&gt;").replace(/<(\/?)(img[^<>]*)>/gi,"&lt;$1$2&gt;").replace(/<(\/?)(video[^<>]*)>/gi,"&lt;$1$2&gt;").replace(/<(\/?)(audio[^<>]*)>/gi,"&lt;$1$2&gt;")
}}});
if(d.browser.msie||d.browser.mozilla){a.prototype.$css=function(g,f){d(g).css(f)
}
}})(_,jQuery,xfalib);
(function(b,a){Scanner=a.ut.Scanner=a.ut.Class.extend({initialize:function(){this._pos=0
},isEOF:function(){return(this.jsonModel._str.length<=this._pos)
},peek:function(){return(this.isEOF())?null:this.jsonModel._str.charAt(this._pos)
},optionalConsumeChar:function(c){if(this.jsonModel._str.charAt(this._pos)==c){this._pos++;
return c
}else{return null
}},getNCharIQS:function(){this._pos++;
if(this.jsonModel._str.length<=this._pos){var c=this.jsonModel._str.charAt(this._pos);
if(c!="'"){return c
}else{if(moveNextExpectedChar("'")){return this.jsonModel._str.charAt(this._pos)
}}}return null
},moveNextExpectedChar:function(c){this._pos++;
while(this._pos<this.jsonModel._str.length&&this.jsonModel._str.charAt(this._pos)!=c){this._pos++
}return this._pos<this.jsonModel._str.length
},readInteger:function(c){if(this.pos+c>this.jsonModel._str.length){return null
}var d=a.ut.PictureUtils.parseIntExact(this.jsonModel._str,this._pos,c);
this._pos+=c;
return d
}});
Scanner.lookupNext=function(k,h,d){var e=k.length;
if(h>=e){return null
}var f={};
f.startPos=h;
var l=k.charAt(h);
var m=false;
if(l=="'"){for(var j=h+1;
j<e;
j++){var g=k.charAt(j);
if(g=="'"){f.type=1;
f.len=j-h+1;
m=true;
break
}}}else{if(("a"<=l&&l<="z"||"A"<=l&&l<="Z")||d.call(null,l)){var c=e;
for(var j=1;
h+j<e;
j++){if(k.charAt(h+j)!=l){c=h+j;
break
}}f.type=2;
f.len=c-h;
f.patChar=l;
f.patPos=h;
m=true
}else{if(l=="?"||l=="+"||l=="*"){f.type=3;
f.len=1
}else{f.type=4;
f.len=1
}m=true
}}if(m){return f
}else{throw"Picture is invalid."
}}
})(_,xfalib);
(function(b,a){var c=a.ut.PictureFmt=function(){};
c.DatePicturePattern=/^date(?:\([a-zA-Z]*_[a-zA-Z]*\))?\{([\w\W]*?)\}$/;
c.TimePicturePattern=/^time(?:\([a-zA-Z]*_[a-zA-Z]*\))?\{([\w\W]*?)\}$/;
c.TextPicturePattern=/^text\{([\w\W]*?)\}$/;
c.NumPicturePattern=/^num\{([\w\W]*?)\}$/;
c.parse=function(d,g,f){var h=new a.ut.PictureEngine({jsonModel:{locale:f}});
var e=c.DatePicturePattern.exec(g);
if(e&&e[1]){return h.parseDate(d,e[1])
}e=c.TimePicturePattern.exec(g);
if(e&&e[1]){return h.parseTime(d,e[1])
}e=c.TextPicturePattern.exec(g);
if(e&&e[1]){return h.parseText(d,e[1])
}e=c.NumPicturePattern.exec(g);
if(e&&e[1]){return h.parseNumeric(d,e[1])
}throw"Invalid picture clause "+g
};
c.format=function(d,g,f,h){var i=new a.ut.PictureEngine({jsonModel:{locale:f}});
var e=c.DatePicturePattern.exec(g);
if(e&&e[1]){return i.formatDate(d,e[1])
}e=c.TimePicturePattern.exec(g);
if(e&&e[1]){return i.formatTime(d,e[1])
}e=c.TextPicturePattern.exec(g);
if(e&&e[1]){return i.formatText(d,e[1],h)
}e=c.NumPicturePattern.exec(g);
if(e&&e[1]){return i.formatNumeric(d,e[1])
}throw"Invalid picture clause "+g
};
c.parseDate=function(d,h,f){var g=c.DatePicturePattern;
var e=g.exec(h);
var i=new a.ut.PictureEngine({jsonModel:{locale:f}});
if(e&&e[1]){return i.parseDate(d,e[1])
}else{return i.parseDate(d,h)
}};
c.formatDate=function(e,h,f){var g=c.DatePicturePattern;
var d=g.exec(h);
var i=new a.ut.PictureEngine({jsonModel:{locale:f}});
if(d&&d[1]){return i.formatDate(e,d[1])
}else{return i.formatDate(e,h)
}};
c.parseTime=function(d,h,f){var g=c.TimePicturePattern;
var e=g.exec(h);
var i=new a.ut.PictureEngine({jsonModel:{locale:f}});
if(e&&e[1]){return i.parseTime(d,e[1])
}else{return i.parseTime(d,h)
}return null
};
c.formatTime=function(e,h,f){var g=c.TimePicturePattern;
var d=g.exec(h);
var i=new a.ut.PictureEngine({jsonModel:{locale:f}});
if(d&&d[1]){return i.formatTime(e,d[1])
}else{return i.formatTime(e,h)
}};
c.parseText=function(d,h,f){var g=c.TextPicturePattern;
var e=g.exec(h);
var i=new a.ut.PictureEngine({jsonModel:{locale:f}});
if(e&&e[1]){return i.parseText(d,e[1])
}else{return i.parseText(d,h)
}};
c.formatText=function(d,h,f,i){var g=c.TextPicturePattern;
var e=g.exec(h);
var j=new a.ut.PictureEngine({jsonModel:{locale:f}});
if(e&&e[1]){return j.formatText(d,e[1],i)
}else{return j.formatText(d,h,i)
}return null
};
c.parseNumeric=function(d,h,f){var g=c.NumPicturePattern;
var e=g.exec(h);
var i=new a.ut.PictureEngine({jsonModel:{locale:f}});
if(e&&e[1]){return i.parseNumeric(d,e[1])
}else{return i.parseNumeric(d,h)
}return null
};
c.formatNumeric=function(d,h,f){var g=c.NumPicturePattern;
var e=g.exec(h);
var i=new a.ut.PictureEngine({jsonModel:{locale:f}});
if(e&&e[1]){return i.formatNumeric(d,e[1])
}else{return i.formatNumeric(d,h)
}};
c.parseDateTime=function(d,h,e,f,g){};
c.formatDateTime=function(d,h,e,f,g){}
})(_,xfalib);
(function(b,a){var d=a.ut.PictureUtils=function(){};
d.padding=function(g,h,e,f){var j=["0","00","000","0000"];
var i=j[h-1]+g;
return i.slice(-h)
};
d.parseIntAggressive=function(l,i,g){var f=new Object();
var k=0;
var h=-1;
for(var e=0;
e<g&&(i+e)<l.length;
e++){var j=l.charAt(i+e);
if(j>="0"&&j<="9"){k=k*10+(j-"0")
}else{h=e;
break
}}if(h==-1){h=g
}f.value=k;
f.len=h;
return f
};
d.parseIntExact=function(j,h,g){var f=0;
d.assert(h+g<=j.length,"mismatch");
for(var e=0;
e<g;
e++){var i=j.charAt(h+e);
if(i>="0"&&i<="9"){f=f*10+(i-"0")
}else{throw"unexpected currentChar in PictureUtils.parseInt"
}}return f
};
d.isDigit=function(e){return/[0-9]/.test(e)
};
d.inString=function(f,e){return(e.indexOf(f)>=0)
};
var c=/[\u0041-\u005a\u0061-\u007a\u00aa-\u00aa\u00b5-\u00b5\u00ba-\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u0236\u0250-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ee-\u02ee\u037a-\u037a\u0386-\u0386\u0388-\u038a\u038c-\u038c\u038e-\u03a1\u03a3-\u03ce\u03d0-\u03f5\u03f7-\u03fb\u0400-\u0481\u048a-\u04ce\u04d0-\u04f5\u04f8-\u04f9\u0500-\u050f\u0531-\u0556\u0559-\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u063a\u0640-\u064a\u066e-\u066f\u0671-\u06d3\u06d5-\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff-\u06ff\u0710-\u0710\u0712-\u072f\u074d-\u074f\u0780-\u07a5\u07b1-\u07b1\u0904-\u0939\u093d-\u093d\u0950-\u0950\u0958-\u0961\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2-\u09b2\u09b6-\u09b9\u09bd-\u09bd\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e-\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd-\u0abd\u0ad0-\u0ad0\u0ae0-\u0ae1\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d-\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71-\u0b71\u0b83-\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c-\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb5\u0bb7-\u0bb9\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c60-\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd-\u0cbd\u0cde-\u0cde\u0ce0-\u0ce1\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d60-\u0d61\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd-\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84-\u0e84\u0e87-\u0e88\u0e8a-\u0e8a\u0e8d-\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5-\u0ea5\u0ea7-\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd-\u0ebd\u0ec0-\u0ec4\u0ec6-\u0ec6\u0edc-\u0edd\u0f00-\u0f00\u0f40-\u0f47\u0f49-\u0f6a\u0f88-\u0f8b\u1000-\u1021\u1023-\u1027\u1029-\u102a\u1050-\u1055\u10a0-\u10c5\u10d0-\u10f8\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1206\u1208-\u1246\u1248-\u1248\u124a-\u124d\u1250-\u1256\u1258-\u1258\u125a-\u125d\u1260-\u1286\u1288-\u1288\u128a-\u128d\u1290-\u12ae\u12b0-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0-\u12c0\u12c2-\u12c5\u12c8-\u12ce\u12d0-\u12d6\u12d8-\u12ee\u12f0-\u130e\u1310-\u1310\u1312-\u1315\u1318-\u131e\u1320-\u1346\u1348-\u135a\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7-\u17d7\u17dc-\u17dc\u1820-\u1877\u1880-\u18a8\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1d00-\u1d6b\u1e00-\u1e9b\u1ea0-\u1ef9\u1f00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59-\u1f59\u1f5b-\u1f5b\u1f5d-\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe-\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071-\u2071\u207f-\u207f\u2102-\u2102\u2107-\u2107\u210a-\u2113\u2115-\u2115\u2119-\u211d\u2124-\u2124\u2126-\u2126\u2128-\u2128\u212a-\u212d\u212f-\u2131\u2133-\u2139\u213d-\u213f\u2145-\u2149\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312c\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fa5\ua000-\ua48c\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e-\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]/;
d.isLetter=function(e){return c.test(e)
};
d.isLetterOrDigit=function(e){return this.isLetter(e)||this.isDigit(e)
};
d.skipUntil=function(h,f,j){var e=j;
while(e<h.length){var g=e;
if(f.indexOf(h.charAt(g++))>=0){break
}e=g
}return e-j
};
d.matchString=function(h,f,g){if(f+g.length>h.length){return false
}else{for(var e=0;
e<g.length;
e++){if(g.charAt(e)!=h.charAt(f+e)){return false
}}return true
}};
d.assert=function(f,e){if(!f){throw e
}};
d.getLocaleObject=function(e,f){if(e!==null&&a.runtime.xfa){return a.runtime.xfa._getLocaleSymbols(e,f)
}else{return a.ut.XfaUtil.prototype.getDefaultLocaleProperty(f)
}};
d.getHashOfLocaleObject=function(e,f){if(!d.getHashOfLocaleObject[e+"_"+f]){var g={};
b.each(d.getLocaleObject(e,f),function(l){var h=l+"";
var k=0;
for(var j=0;
j<h.length;
j++){k+=(j+1)*h.charCodeAt(j)
}g[k]=g[k]||[];
g[k].push(l)
});
d.getHashOfLocaleObject[e+"_"+f]=g
}return d.getHashOfLocaleObject[e+"_"+f]
};
d.convertNumberToLocale=function(e,j){var h=d.getLocaleObject(e,"numberSymbols.zero");
var g=h.charCodeAt(0);
j+="";
var k=[];
for(var f=0;
f<j.length;
f++){k.push(String.fromCharCode(g+parseInt(j.charAt(f))))
}return k.join("")
};
d.parsePictureClause=function(p){if(p===null||p===undefined){return[]
}var h=false,q=false,m=false,r="",o="",k="",l=false,s="",t=[],f=/^num$|^text$|^date$/,e=/^[a-zA-Z]*_[a-zA-Z]*$/,j=0,g=0;
for(;
j<p.length;
j++){s=p.charAt(j);
if(q&&s!=="'"){k+=s;
continue
}switch(s){case"'":if(!h){return null
}q=!q;
k+=s;
break;
case"{":if(h||m||o===""){return null
}h=true;
break;
case"}":if(!h||(m&&k==="")||o===""){return null
}else{g=0;
h=false;
if(f.exec(o)===null){return null
}if(r!==""&&e.exec(r)===null){return null
}t.push({category:o,mask:k,locale:r})
}break;
case"|":if(o===""||h||m){return null
}else{o=k=r="";
h=m=false
}break;
case"(":if(o===""||g===1){return null
}else{if(!h){m=true
}else{k+=s
}g++
}break;
case")":if((!m&&!h)||g===0){return null
}else{if(h){k+=s
}m=false;
g--
}break;
default:if(h){k+=s
}else{if(m){r+=s
}else{if(o!==""&&(k!==""||r!=="")){return null
}else{o+=s
}}}break
}}if(h||m||q||g!==0){return null
}return t
}
})(_,xfalib);
(function(b,a){var c=a.ut.VisitorBase=a.ut.Class.extend({consume:function(d){switch(d.type){case 1:this.consumeStringLiteral(d);
break;
case 2:this.consumeSubPattern(d);
break;
case 3:this.consumeStringWildCard(d);
break;
case 4:this.consumeCharLiteral(d);
break
}},acceptPatternChar:function(d){return false
},getPicture:function(){return this.jsonModel._sPicture
},abstractMethod:function(){throw"Not implemented"
},consumeStringWildCard:this.abstractMethod,consumeStringLiteral:this.abstractMethod,consumeCharLiteral:this.abstractMethod,consumeSubPattern:this.abstractMethod,getResult:this.abstractMethod})
})(_,xfalib);
(function(b,a){var c=a.ut.NumPictureDesc=a.ut.Class.extend({initialize:function(){this.hasRadix=false;
this.hasExpon=false;
this.hasSign=false;
this.hasPercent=false;
this.fracDigit=0;
this.intDigit=0;
this._mbLeftParenSeen=false;
this._mbRightParenSeen=false;
this._compactPattern();
this._xlatePattern();
c._super.initialize.call(this)
},getPicture:function(){return this.jsonModel._sPicture
},_match2Char:function(f,e,d){if(d+1<this.jsonModel._sPicture.length){return(this.jsonModel._sPicture.charAt(d)==f&&this.jsonModel._sPicture.charAt(d+1)==e)
}else{return false
}},_xlatePattern:function(){var e=0;
for(var d=a.ut.Scanner.lookupNext(this.jsonModel._sPicture,e,this._acceptPatternChar);
d!=null;
){this._consume(d);
e=e+d.len;
d=a.ut.Scanner.lookupNext(this.jsonModel._sPicture,e,this._acceptPatternChar)
}},_compactPattern:function(){var f=new Array();
for(var e=0,d=this.jsonModel._sPicture.length;
e<d;
e++){if(this._match2Char("D","B",e)){f.push("D");
e++
}else{if(this._match2Char("d","b",e)){f.push("d");
e++
}else{if(this._match2Char("C","R",e)){f.push("C");
e++
}else{if(this._match2Char("c","r",e)){f.push("c");
e++
}else{f.push(this.jsonModel._sPicture.charAt(e))
}}}}}this.jsonModel._sPicture=f.join("")
},_acceptPatternChar:function(d){return a.ut.PictureUtils.inString(d,"(%$,.)89BCDERSVZbcdrsvzt")
},_consume:function(d){if(d.type==2){this._subConsume(d.patChar,d.len)
}},_subConsume:function(d,e){switch(d){case"E":if(e>1||this.hasExpon||(this.fracDigit+this.intDigit)==0){throw"Illegal Numeric Picture: more than one Expon"
}this.hasExpon=true;
break;
case"(":if(e>1||this._mbLeftParenSeen||this.fracDigit+this.intDigit>0){throw"Illegal Numeric Picture:  ()"
}this._mbLeftParenSeen=true;
break;
case")":if(e>1||!this._mbLeftParenSeen||this._mbRightParenSeen){throw"Illegal Numeric Picture:  ()"
}this._mbRightParenSeen=true;
if(this.fracDigit+this.intDigit>0){this.hasSign=true
}break;
case"S":case"s":case"C":case"c":case"D":case"d":this.hasSign=true;
break;
case"%":this.hasPercent=true;
break;
case".":case"V":case"v":if(e>1||this.hasRadix){throw"Illegal Numeric Picture: too many vV."
}this.hasRadix=true;
this._mbFracStartSeen=true;
break;
case"8":case"9":case"Z":case"z":if(this.hasRadix){this.fracDigit+=e
}else{this.intDigit+=e
}break
}},parseNumberInfo:function(l){var m=l,j=Number(m),h=false;
if(j<0){h=true;
j=-j;
m=m.replace("-","")
}if(this.hasPercent){j*=100;
m=""+j
}var f=0;
if(this.hasExpon){var k=Math.pow(10,this.intDigit);
if(j<k){while(j*10<k){j*=10;
f--
}}else{while(j>k){j/=10;
f++
}}m=j+""
}var d=m.indexOf(".",0),e=d<0?0:m.length-d-1;
if(this.fracDigit<e){j=j.toFixed(this.fracDigit);
m=j+""
}if(m.indexOf("0")==0&&l.indexOf("0")!=0){m=m.substring(1)
}d=m.indexOf(".",0);
var g=d<0?m.length:d,i=this.intDigit-g;
if(i<0){throw"Exit: most significant "+i+" digit lost"
}return{integerDigit:g,radixPos:d,fractionDigit:d<0?0:m.length-d-1,msText:m,shift:f,isNegative:h,padding:i}
}});
c.gsDB="DB";
c.gsCR="CR";
c.gsE="E";
c.gsDSP="  ";
c.gsSSP=" "
})(_,xfalib);
(function(b,a){TimeInfo=a.ut.TimeInfo=a.ut.Class.extend({initialize:function(){this.mHourOfMeriDiem=-1;
this.mHourOfDay=-1;
this.mMinuteOfHour=-1;
this.mSecondOfMinute=-1;
this.mThousandthOfSecond=-1
},getISOTime:function(){var c="";
if(this.mThousandthOfSecond>0){c="-"+this.formatNum(this.mThousandthOfSecond,3)
}if(this.mSecondOfMinute>0||c!=""){c=this.formatNum(this.mSecondOfMinute,2)+c;
c=":"+c
}if(this.mMinuteOfHour>0||c!=""){c=this.formatNum(this.mMinuteOfHour,2)+c;
c=":"+c
}c=this.formatNum(this.mHourOfDay,2)+c;
return c
},formatNum:function(c,d){if(c<0){c=0
}return a.ut.PictureUtils.padding(c,d)
},getDate:function(){var c=new Date();
this.setTime(c);
return c
},setTime:function(c){c.setHours(this.mHourOfDay);
c.setMinutes(this.mMinuteOfHour);
c.setSeconds(this.mSecondOfMinute);
c.setMilliseconds(this.mThousandthOfSecond)
}});
TimeInfo.Parse=function(j,c){var g=new a.ut.Scanner({jsonModel:{_str:j}});
var d=g.readInteger(2);
var f=-1;
if(!g.isEOF()){g.optionalConsumeChar(":");
f=g.readInteger(2)
}var i=-1;
if(!g.isEOF()){g.optionalConsumeChar(":");
i=g.readInteger(2)
}var e=-1;
if(!g.isEOF()){g.optionalConsumeChar("-");
e=g.readInteger(3)
}var h=new a.ut.TimeInfo();
TimeInfo.setPropertyIfNotNull(h,d,"mHourOfDay");
TimeInfo.setPropertyIfNotNull(h,f,"mMinuteOfHour");
TimeInfo.setPropertyIfNotNull(h,i,"mSecondOfMinute");
TimeInfo.setPropertyIfNotNull(h,e,"mThousandthOfSecond");
return h
};
TimeInfo.setPropertyIfNotNull=function(e,f,c){if(f!=null){var g=Number(f);
if(!isNaN(g)){e[c]=g
}}}
})(_,xfalib);
(function(b,a){var c=a.ut.DateInfo=a.ut.Class.extend({initialize:function(d){this.date=new Date();
this._year=this.date.getFullYear();
this._month=this.date.getMonth()+1;
this._day=this.date.getDay();
c._super.initialize.call(this)
},formatNum:function(d,e){if(d<0){d=0
}return a.ut.PictureUtils.padding(d,e)
},getDate:function(){return this.date
},setDate:function(){this.date=new Date(this._year,this._month-1,this._day)
},getISODate:function(){var d=new Array();
d.push(this.formatNum(this._year,4));
d.push("-");
d.push(this.formatNum(this._month,2));
d.push("-");
d.push(this.formatNum(this._day,2));
return d.join("")
},year:function(d){if(d&&d>0&&d<9999){this._year=d
}else{throw"undefined year"
}},month:function(d){if(d&&d>0&&d<13){this._month=d
}else{throw"Invalid month "+d
}},_leapYear:function(){var d=this._year;
return d%400==0||(d%100!=0&&d%4==0)
},_maxDate:function(d){if(this._leapYear()&&d==2){return 29
}else{return c.dates[d-1]
}},day:function(e){if(e&&e>0&&e<=this._maxDate(this._month||0)){this._day=e
}else{throw"Invalid Date "+e+" for the month "+(this._month)
}}});
c.ParseIsoString=function(j,d){var g=/^(\d{4})(?:-?(\d{1,2})(?:-?(\d{1,2}))?)?$/;
var f=g.exec(j);
if(f&&f.length===4){var h=new c();
try{h.year(Number(f[1]));
h.month(Number(f[2]));
h.day(Number(f[3]));
h.setDate()
}catch(i){return null
}return h
}return null
};
c.Parse=function(f,d){d=d||"en_US";
var g=a.ut.PictureUtils.getLocaleObject(d,"datePatterns"),e;
b.find(g,function(j,i){try{e=a.ut.PictureFmt.parseDate(f,j,d);
return true
}catch(h){return false
}});
e=e||f;
return c.ParseIsoString(e)
};
c.dates=[31,28,31,30,31,30,31,31,30,31,30,31];
c.daysOfWeek=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]
})(_,xfalib);
(function(b,a){var c=a.ut.PictureEngine=a.ut.Class.extend({_lookupNext:a.ut.Scanner.lookupNext,parseDate:function(e,f,d){return this._acceptVisitor(new a.ut.DateParsingVisitor({jsonModel:{_sPicture:f,_dataString:e,_locale:this.jsonModel.locale}}))
},formatDate:function(e,d){var f=a.ut.DateInfo.Parse(e,this.jsonModel.locale);
if(f==null){return null
}else{return this._acceptVisitor(new a.ut.DateFormattingVisitor({jsonModel:{_sPicture:d,_dateInfo:f,_locale:this.jsonModel.locale}}))
}},parseTime:function(d,e){return this._acceptVisitor(new a.ut.TimeParsingVisitor({jsonModel:{_sPicture:e,_dataString:d}}))
},formatTime:function(e,d){var f=a.ut.TimeInfo.Parse(e,this.jsonModel.locale);
if(f==null){return null
}else{return this._acceptVisitor(new a.ut.TimeFormattingVisitor({jsonModel:{_sPicture:d,_timeInfo:f}}))
}},parseText:function(d,e){return this._acceptVisitor(new a.ut.TextParsingVisitor({jsonModel:{_sPicture:e,_dataString:d}}))
},formatText:function(d,e,f){return this._acceptVisitor(new a.ut.TextFormattingVisitor({jsonModel:{_sPicture:e,_text:d,relaxed:f}}))
},parseNumeric:function(d,e){var f=new a.ut.NumParsingVisitor({jsonModel:{_sPicture:e,_dataString:d,_locale:this.jsonModel.locale}});
f.parse();
return f.getResult()
},formatNumeric:function(e,f,d){return this._acceptVisitor(new a.ut.NumFormattingVisitor({jsonModel:{_sPicture:f,_locale:this.jsonModel.locale},text:e}))
},_acceptVisitor:function(d){this._scanPattern(d);
return d.getResult()
},_scanPattern:function(f){var g=0;
var e=f.getPicture();
for(var d=this._lookupNext(e,g,f.acceptPatternChar);
d!=null;
){f.consume(d);
g=g+d.len;
d=this._lookupNext(e,g,f.acceptPatternChar)
}}})
})(_,xfalib);
(function(b,a){var c=a.ut.FormattingVisitorBase=a.ut.VisitorBase.extend({initialize:function(){this._buffer=[];
c._super.initialize.call(this)
},consumeStringWildCard:function(d){this._buffer.push(" ")
},consumeStringLiteral:function(d){this._buffer.push(this.jsonModel._sPicture.substr(d.startPos+1,d.len-2))
},consumeCharLiteral:function(d){this._buffer.push(""+this.jsonModel._sPicture.charAt(d.startPos))
}})
})(_,xfalib);
(function(b,a){var c=a.ut.ParsingVisitorBase=a.ut.VisitorBase.extend({initialize:function(){this._strLen=this.jsonModel._dataString.length;
this._strPos=0;
c._super.initialize.call(this)
},consumeStringWildCard:function(d){if(chr=="?"){if(this._strPos<this._strLen){this._strPos+=1
}}else{if(chr=="+"){if(this._strPos>=this._strLen){throw"Mismatch"
}this._strPos+=1;
while(this._strPos<this._strLen){this._strPos+=1
}}else{if(chr=="*"){while(this._strPos<this._strLen){this._strPos+=1
}}}}},consumeStringLiteral:function(d){for(var e=0;
e<d.len-2;
e++){if(this.jsonModel._sPicture.charAt(d.startPos+e+1)!=this.jsonModel._dataString.charAt(this._strPos+e)){throw ("Mismatch"+this.jsonModel._sPicture.substr(d.startPos,d.len))
}}this._strPos+=d.len-2
},consumeCharLiteral:function(d){if(this.jsonModel._sPicture.charAt(d.startPos)==this.jsonModel._dataString.charAt(this._strPos)){this._strPos+=1
}else{throw"Mismatch"
}}})
})(_,xfalib);
(function(b,a){var d=a.ut.PictureUtils;
var c=a.ut.DateFormattingVisitor=a.ut.FormattingVisitorBase.extend({consumeSubPattern:function(g){var i=g.patChar;
var l=g.len;
switch(i){case"D":var m=this.jsonModel._dateInfo.date.getDate();
switch(l){case 1:break;
case 2:m=d.padding(m,2);
break
}this._buffer.push(d.convertNumberToLocale(this.jsonModel._locale,m));
break;
case"J":break;
case"M":var k=this.jsonModel._dateInfo.date.getMonth();
switch(l){case 1:this._buffer.push(d.convertNumberToLocale(this.jsonModel._locale,k+1));
break;
case 2:this._buffer.push(d.convertNumberToLocale(this.jsonModel._locale,d.padding(k+1,2)));
break;
case 3:var j=d.getLocaleObject(this.jsonModel._locale,"calendarSymbols.abbrmonthNames");
this._buffer.push(j[k]);
break;
case 4:var j=d.getLocaleObject(this.jsonModel._locale,"calendarSymbols.monthNames");
this._buffer.push(j[k]);
break
}break;
case"E":var f=this.jsonModel._dateInfo.date.getDay();
var e;
switch(l){case 1:this._buffer.push(f);
break;
case 3:e=d.getLocaleObject(this.jsonModel._locale,"calendarSymbols.abbrdayNames");
this._buffer.push(e[f]);
break;
case 4:e=d.getLocaleObject(this.jsonModel._locale,"calendarSymbols.dayNames");
this._buffer.push(e[f]);
break;
default:throw"unsupported Picture Clause "
}break;
case"e":break;
case"G":break;
case"Y":var h=this.jsonModel._dateInfo.date.getFullYear();
switch(l){case 2:if(h>2029||h<1930){throw"unsupported "+h+" by pattern YY"
}h=d.padding(h%100,2);
break;
case 4:h=d.padding(h,4);
break
}this._buffer.push(d.convertNumberToLocale(this.jsonModel._locale,h));
break;
case"w":break;
case"W":break;
default:throw"Unsupported pattern"
}},getResult:function(){return this._buffer.join("")
}})
})(_,xfalib);
(function(c,b){var a=b.ut.TextFormattingVisitor=b.ut.FormattingVisitorBase.extend({initialize:function(){this._textPos=0;
this._relaxed=typeof this.jsonModel.relaxed==="undefined"?true:this.jsonModel.relaxed;
a._super.initialize.call(this)
},consumeSubPattern:function(e){var g=e.patChar;
var h=e.len;
for(var d=0;
d<h&&(!this._relaxed||this._textPos<this.jsonModel._text.length);
d++){switch(g){case"9":var f=this.jsonModel._text.charAt(this._textPos++);
if(!b.ut.PictureUtils.isDigit(f)){throw"TextFormatting: not a digit as expected"
}this._buffer.push(f);
break;
case"A":var f=this.jsonModel._text.charAt(this._textPos++);
if(!b.ut.PictureUtils.isLetter(f)){throw"TextFormatting: not a character as expected"
}this._buffer.push(f);
break;
case"O":case"0":var f=this.jsonModel._text.charAt(this._textPos++);
if(!(b.ut.PictureUtils.isLetter(f)||b.ut.PictureUtils.isDigit(f))){throw"TextFormatting: not a character or digit as expected"
}this._buffer.push(f);
break;
case"X":var f=this.jsonModel._text.charAt(this._textPos++);
this._buffer.push(f);
break;
case"t":this._buffer.push("\t");
break;
default:this._buffer.push(g)
}}},getResult:function(){if(this._textPos<this.jsonModel._text.length){throw"TextFormatting: picture clause smaller than input Text"
}return this._buffer.join("")
},acceptPatternChar:function(d){return b.ut.PictureUtils.inString(d,"9AO0Xt")
},consumeCharLiteral:function(d){this._buffer.push(""+this.jsonModel._sPicture.charAt(d.startPos));
if(this.jsonModel._sPicture.charAt(d.startPos)==this.jsonModel._text.charAt(d.startPos)){this._textPos++
}}})
})(_,xfalib);
(function(b,a){TimeFormattingVisitor=a.ut.TimeFormattingVisitor=a.ut.FormattingVisitorBase.extend({consumeSubPattern:function(d){var e=d.patChar;
var h=d.len;
switch(e){case"H":case"K":var g=this.jsonModel._timeInfo.mHourOfDay;
if(e=="K"){g+=1
}switch(h){case 1:this._buffer.push(g);
break;
case 2:this._buffer.push(a.ut.PictureUtils.padding(g,2));
break
}break;
case"M":var i=this.jsonModel._timeInfo.mMinuteOfHour;
switch(h){case 1:this._buffer.push(i);
break;
case 2:this._buffer.push(a.ut.PictureUtils.padding(i,2));
break
}break;
case"S":var f=this.jsonModel._timeInfo.mSecondOfMinute;
switch(h){case 1:this._buffer.push(f);
break;
case 2:this._buffer.push(a.ut.PictureUtils.padding(f,2));
break
}break;
case"F":var c=this.jsonModel._timeInfo.mThousandthOfSecond;
this._buffer.push(a.ut.PictureUtils.padding(c,3));
break;
default:throw"Unsupported pattern"
}},getResult:function(){return this._buffer.join("")
}})
})(_,xfalib);
(function(b,a){var d=a.ut.PictureUtils;
var c=a.ut.NumFormattingVisitor=a.ut.FormattingVisitorBase.extend({initialize:function(e){c._super.initialize.call(this);
this._textPos=0;
this._mbDigitAddedToOutput=false;
this._mbSignAddedToOutput=false;
this._nScannedPatternDigit=0;
this._mbRadixSeen=false;
this._pictureDesc=new a.ut.NumPictureDesc({jsonModel:{_sPicture:this.jsonModel._sPicture}});
this.jsonModel._sPicture=this._pictureDesc.getPicture();
this._numberInfo=this._pictureDesc.parseNumberInfo(e.text);
this._mbNegative=this._numberInfo.isNegative;
this._msText=this._numberInfo.msText;
this._leadingPadding=this._numberInfo.padding;
this._mNumberSymbols=a.ut.PictureUtils.getLocaleObject(this.jsonModel._locale,"numberSymbols");
this._mCurrencySymbols=a.ut.PictureUtils.getLocaleObject(this.jsonModel._locale,"currencySymbols")
},_checkAndAddDecimalPoint:function(e){if(this._mAddRadix){this._buffer.push(this._fmtStr(this._mNumberSymbols.decimal,e));
this._mAddRadix=false
}},consumeSubPattern:function(f){var g=f.patChar,i=f.len;
switch(g){case"9":case"8":case"Z":case"z":if(!this._mbSignAddedToOutput){this._ensureSignIsAdded()
}while(i-->0){if(!this._mbRadixSeen){if(this._leadingPadding>this._nScannedPatternDigit++){var h=null;
if(this._mbDigitAddedToOutput){h=this._mNumberSymbols.zero
}else{if(g=="9"||g=="8"){h=this._mNumberSymbols.zero;
this._mbDigitAddedToOutput=true
}else{if(g=="Z"){h=" "
}}}if(h){this._buffer.push(this._matchChr(h))
}}else{var e=this._msText.charAt(this._textPos++);
this._ensureCharIsDigit(e);
this._buffer.push(d.convertNumberToLocale(this.jsonModel._locale,e));
this._mbDigitAddedToOutput=true
}}else{if(this._nScannedPatternDigit++<this._numberInfo.fractionDigit){var e=this._msText.charAt(this._textPos++);
this._ensureCharIsDigit(e);
this._checkAndAddDecimalPoint();
this._buffer.push(d.convertNumberToLocale(this.jsonModel._locale,e));
this._mbDigitAddedToOutput=true
}else{if(g=="9"||g=="Z"){this._checkAndAddDecimalPoint();
this._buffer.push(this._matchChr(this._mNumberSymbols.zero))
}else{if(g=="8"){var e=this._msText.charAt(this._textPos++);
if(e!=""&&this._ensureCharIsDigit(e)){this._checkAndAddDecimalPoint();
this._buffer.push(d.convertNumberToLocale(this.jsonModel._locale,e));
this._mbDigitAddedToOutput=true
}}}}}}break;
case"E":this._buffer.push("E");
this._buffer.push(""+this._numberInfo.shift);
break;
case"C":this._buffer.push((this._mbNegative)?a.ut.NumPictureDesc.gsCR:a.ut.NumPictureDesc.gsDSP);
break;
case"c":if(this._mbNegative){this._buffer.push(a.ut.NumPictureDesc.gsCR)
}break;
case"D":this._buffer.push((this._mbNegative)?a.ut.NumPictureDesc.gsDB:a.ut.NumPictureDesc.gsDSP);
break;
case"d":if(this._mbNegative){this._buffer.push(a.ut.NumPictureDesc.gsDB)
}break;
case"S":case"s":if(this._mbNegative){this._buffer.push(this._fmtStr(this._mNumberSymbols.minus))
}else{if("S"==g){this._buffer.push(this._matchChr(" "))
}}break;
case"V":case".":case"v":if(this._textPos<this._msText.length&&this._msText.charAt(this._textPos)=="."){this._textPos++
}if(g=="V"||g=="."){this._mAddRadix=true
}this._mbRadixSeen=true;
this._nScannedPatternDigit=0;
break;
case 65292:case",":while(i-->0){if(this._mbDigitAddedToOutput){this._buffer.push(this._fmtStr(this._mNumberSymbols.grouping))
}this._mbCommaSeen=true
}break;
case 65284:case"$":while(i-->0){this._buffer.push(this._fmtStr(this._mCurrencySymbols.symbol))
}break;
case 65285:case"%":while(i-->0){this._buffer.push(this._fmtStr(this._mNumberSymbols.percent))
}break;
case 65288:case 65289:case"(":case")":this._buffer.push(this._matchChr((this._mbNegative)?g:" "));
break;
default:}},_ensureCharIsDigit:function(e){if("0">e||e>"9"){throw"Nuberic Formatting: not a digit as expected "+e
}},_fmtStr:function(e){return e
},_matchStr:function(e){return e
},_matchChr:function(e){return e
},_ensureSignIsAdded:function(){if(this._mbNegative&&!this._mbDigitAddedToOutput&&!this._pictureDesc.hasSign){this._buffer.push(this._mNumberSymbols.minus);
this._mbSignAddedToOutput=true
}},getResult:function(){return this._buffer.join("")
},acceptPatternChar:function(e){return a.ut.PictureUtils.inString(e,"(%$,.)89BCDERSVZbcdrsvzt")
}})
})(_,xfalib);
(function(c,b){var a=b.ut.TimeParsingVisitor=b.ut.ParsingVisitorBase.extend({initialize:function(){this._timeInfo=new b.ut.TimeInfo();
a._super.initialize.call(this)
},consumeSubPattern:function(f){var h=f.patChar;
var l=f.len;
var d=this._strPos;
var e=l;
this._assert(d+l<=this.jsonModel._dataString.length,"Mismatch");
switch(h){case"h":if(this._timeInfo.mHourOfMeriDiem!=-1||this._timeInfo.mHourOfDay!=-1){throw"ambiguity time string"
}var i=-1;
switch(l){case 1:var j=this.parseIntAggressive(this.jsonModel._dataString,d,2);
i=j.value;
e=j.len;
break;
case 2:i=this.parseIntExact(this.jsonModel._dataString,d,2);
break
}this._timeInfo.mHourOfMeriDiem=i-1;
this._assert(this._timeInfo.mHourOfMeriDiem>=0&&this._timeInfo.mHourOfMeriDiem<=11,"Invalid Hour Of MeriDiem value.");
break;
case"k":if(this._timeInfo.mHourOfMeriDiem!=-1||this._timeInfo.mHourOfDay!=-1){throw"ambiguity time string"
}var i=-1;
switch(l){case 1:var j=this.parseIntAggressive(this.jsonModel._dataString,d,2);
i=j.value;
e=j.len;
break;
case 2:i=this.parseIntExact(this.jsonModel._dataString,d,2);
break
}this._timeInfo.mHourOfMeriDiem=i;
this._assert(this._timeInfo.mHourOfMeriDiem>=0&&this._timeInfo.mHourOfMeriDiem<=11,"Invalid hour of meriDiem value.");
break;
case"H":if(this._timeInfo.mHourOfMeriDiem!=-1||this._timeInfo.mHourOfDay!=-1){throw"ambiguity time string"
}var k=-1;
switch(l){case 1:var j=this.parseIntAggressive(this.jsonModel._dataString,d,2);
k=j.value;
e=j.len;
break;
case 2:k=this.parseIntExact(this.jsonModel._dataString,d,2);
break
}this._timeInfo.mHourOfDay=k;
this._assert(this._timeInfo.mHourOfDay>=0&&this._timeInfo.mHourOfDay<=23,"Invalid hour of day value.");
break;
case"K":if(this._timeInfo.mHourOfMeriDiem!=-1||this._timeInfo.mHourOfDay!=-1){throw"ambiguity time string"
}var k=-1;
switch(l){case 1:var j=this.parseIntAggressive(this.jsonModel._dataString,d,2);
k=j.value;
e=j.len;
break;
case 2:k=this.parseIntExact(this.jsonModel._dataString,d,2);
break
}this._timeInfo.mHourOfDay=k-1;
this._assert(this._timeInfo.mHourOfDay>=0&&this._timeInfo.mHourOfDay<=23,"Invalid hour of day value.");
break;
case"M":if(this._timeInfo.mMinuteOfHour!=-1){throw"ambiguity time string"
}var m=-1;
switch(l){case 1:var j=this.parseIntAggressive(this.jsonModel._dataString,d,2);
m=j.value;
e=j.len;
break;
case 2:m=this.parseIntExact(this.jsonModel._dataString,d,2);
break
}this._timeInfo.mMinuteOfHour=m;
this._assert(this._timeInfo.mMinuteOfHour>=0&&this._timeInfo.mMinuteOfHour<=59,"Invalid minute of hour.");
break;
case"S":if(this._timeInfo.mSecondOfMinute!=-1){throw"ambiguity time string"
}var g=-1;
switch(l){case 1:var j=this.parseIntAggressive(this.jsonModel._dataString,d,2);
g=j.value;
e=j.len;
break;
case 2:g=this.parseIntExact(this.jsonModel._dataString,d,2);
break
}this._timeInfo.mSecondOfMinute=g;
this._assert(this._timeInfo.mSecondOfMinute>=0&&this._timeInfo.mSecondOfMinute<=59,"Invalid second of minute.");
break;
case"F":this._assert(l==3,"Invalid pattern F.");
thousandthOfSecond=this.parseIntExact(this.jsonModel._dataString,d,3);
this._timeInfo.mThousandthOfSecond=thousandthOfSecond;
this._assert(this._timeInfo.mThousandthOfSecond>=0&&this._timeInfo.mThousandthOfSecond<=999,"Invalid thousand of second.");
break;
default:throw"Unsupported pattern"
}this._strPos+=e
},parseIntAggressive:b.ut.PictureUtils.parseIntAggressive,parseIntExact:b.ut.PictureUtils.parseIntExact,getResult:function(){return this._timeInfo.getISOTime()
},getTimeInfo:function(){return this._timeInfo
},_assert:function(e,d){if(!e){throw d
}}})
})(_,xfalib);
(function(b,a){var c=a.ut.TextParsingVisitor=a.ut.ParsingVisitorBase.extend({initialize:function(){c._super.initialize.call(this);
this._buffer=[]
},consumeSubPattern:function(e){var g=e.patChar;
var h=e.len;
for(var d=0;
d<h;
d++){switch(g){case"9":var f=this.jsonModel._dataString.charAt(this._strPos++);
if(!a.ut.PictureUtils.isDigit(f)){throw"TextParsing: not a digit as expected"
}this._buffer.push(f);
break;
case"A":var f=this.jsonModel._dataString.charAt(this._strPos++);
if(!a.ut.PictureUtils.isLetter(f)){throw"TextParsing: not a character as expected"
}this._buffer.push(f);
break;
case"O":case"0":var f=this.jsonModel._dataString.charAt(this._strPos++);
if(!a.ut.PictureUtils.isLetterOrDigit(f)){throw"TextParsing: not a character or digit as expected"
}this._buffer.push(f);
break;
case"X":var f=this.jsonModel._dataString.charAt(this._strPos++);
this._buffer.push(f);
break;
case"t":if(this.jsonModel._dataString.charAt(this._strPos++)=="\t"){this._buffer.push("\t")
}else{throw"TextParsing: not a Tab as expected"
}break;
default:if(this.jsonModel._dataString.charAt(this._strPos++)==g){this._buffer.push(g)
}else{throw"TextParsing: not '"+g+"' as expected"
}}}},getResult:function(){if(this._strPos<this.jsonModel._dataString.length){throw"TextParsing: picture clause smaller than input Text"
}return this._buffer.join("")
},acceptPatternChar:function(d){return a.ut.PictureUtils.inString(d,"9AO0Xt")
}})
})(_,xfalib);
(function(b,a){var c=a.ut.NumParsingVisitor=a.ut.ParsingVisitorBase.extend({initialize:function(d){this._pictureDesc=new a.ut.NumPictureDesc({jsonModel:{_sPicture:this.jsonModel._sPicture}});
this.jsonModel._sPicture=this._pictureDesc.getPicture();
this._buffer=[];
this._strPos=0;
this._hasRadix=false;
this._mbNegative=false;
this._mbDigitSeen=false;
this._mbSignSeen=false;
this._mBacktrack=null;
this._hasPercent=false;
this._mbExponSeen=false;
this._mNumberSymbols=a.ut.PictureUtils.getLocaleObject(this.options._locale,"numberSymbols");
this._mCurrencySymbols=a.ut.PictureUtils.getLocaleObject(this.options._locale,"currencySymbols")
},_lookupNext:a.ut.Scanner.lookupNext,parse:function(){var g=0;
while(true){try{for(var d=this._lookupNext(this.jsonModel._sPicture,g,this.acceptPatternChar);
d!=null;
){this.consume(d);
g=g+d.len;
d=this._lookupNext(this.jsonModel._sPicture,g,this.acceptPatternChar)
}}catch(f){if(this._mBacktrack){g=this._mBacktrack.patPos;
this._buffer.length=0;
this._strPos=this._mBacktrack.strPos;
this._mbDigitSeen=false;
this._mBacktrack=null;
continue
}}break
}},consumeSubPattern:function(d){var f=d.patChar;
var i=d.len;
var h=false;
switch(f){case"9":case"8":case"Z":case"z":while(i-->0){if(!this._mbDigitSeen){var e=this.jsonModel._dataString.charAt(this._strPos);
if(e=="-"){this._mbNegative=true;
e=this.jsonModel._dataString.charAt(++this._strPos)
}if(f=="9"||f=="8"){if(!a.ut.PictureUtils.isDigit(e)){throw"TextParsing: not a digit as expected"
}this._buffer.push(e);
this._mbDigitSeen=true
}else{if(f=="Z"){if(a.ut.PictureUtils.isDigit(e)){this._buffer.push(e);
this._mbDigitSeen=true
}else{if(e!=" "){throw"TextParsing: not a digit or space as expected"
}}}else{if(a.ut.PictureUtils.isDigit(e)){this._buffer.push(e);
this._mbDigitSeen=true;
this._mBacktrack={patPos:d.patPos+d.len-i,strPos:this._strPos}
}else{throw"TextParsing: not a digit or space as expected"
}}}++this._strPos
}else{var e=this.jsonModel._dataString.charAt(this._strPos);
if(a.ut.PictureUtils.isDigit(e)){this._buffer.push(e);
++this._strPos
}else{if(f!="z"){throw"TextParsing: not a digit as expected"
}else{++this._strPos
}}}}break;
case"V":case"v":case".":if(this._matchStr(this._mNumberSymbols.decimal)){this._hasRadix=true;
this._buffer.push(".");
this._mbDigitSeen=true
}else{throw"TextParsing: not a radix as expected"
}break;
case"E":if(this._matchStr("E")){this._buffer.push("E");
if(this._matchStr("+")){}else{if(this._matchStr("-")){this.jsonModel._buffer.push("-")
}}var g=this.jsonModel._dataString.length;
while(this._strPos<g&&a.ut.PictureUtils.isDigit(this.jsonModel._dataString.charAt(this._strPos))){this._buffer.push(this.jsonModel._dataString.charAt(this._strPos++))
}}break;
case"C":if(this._matchStr(a.ut.NumPictureDesc.gsCR)){this._mbNegative=true
}else{if(!this._matchStr(a.ut.NumPictureDesc.gsDSP)){throw"TextParsing: not a CR as expected"
}}break;
case"c":if(this._matchStr(a.ut.NumPictureDesc.gsCR)){this._mbNegative=true
}break;
case"D":if(this._matchStr(a.ut.NumPictureDesc.gsDB)){this._mbNegative=true
}else{if(!this._matchStr(a.ut.NumPictureDesc.gsDSP)){throw"TextParsing: not a CR as expected"
}}break;
case"d":if(this._matchStr(a.ut.NumPictureDesc.gsDB)){this._mbNegative=true
}break;
case"S":if(this._matchStr(this._mNumberSymbols.negative,h)){this._mbNegative=true
}else{if(!this._matchStr(" ")){throw"TextParsing: not a CR as expected"
}}break;
case"s":if(this._matchStr(this._mNumberSymbols.negative,h)){this._mbNegative=true
}break;
case 65292:case",":while(i-->0){if(!this._matchStr(this._mNumberSymbols.grouping,h)){throw"TextParsing: not a grouping symbol as expected"
}}break;
case 65284:case"$":while(i-->0){if(!this._matchStr(this._mCurrencySymbols.symbol,h)){throw"TextParsing: not a grouping symbol as expected"
}}break;
case 65285:case"%":while(i-->0){if(!this._matchStr(this._mNumberSymbols.percent,h)){throw"TextParsing: not a grouping symbol as expected"
}}this._hasPercent=true;
break;
case 65288:case 65289:case"(":case")":if(this._matchStr(f,h)){this._mbNegative=true
}else{if(!this._matchStr(" ")){throw"TextParsing: not parentesis as expected"
}}break;
case"t":while(i-->0){this._matchStr("\t",h)
}}},getResult:function(){var h=this._buffer.join("");
if(this._hasPercent){var f=new Array();
h=Number(h).toString();
var d=h.indexOf(".");
var i=d-2;
if(i==0){f.push("0")
}else{if(i==-1){f.push("0.0")
}else{if(i==-3){i=h.length-2
}}}for(var e=0;
e<h.length;
e++){if(e==i){f.push(".")
}if(e!=d){f.push(h.charAt(e))
}}h=f.join("")
}var g=Number(h);
if(this._mbNegative){g=-g
}return g.toString()
},_matchStr:function(d){if(a.ut.PictureUtils.matchString(this.jsonModel._dataString,this._strPos,d)){this._strPos+=d.length;
return true
}else{return false
}},acceptPatternChar:function(d){return a.ut.PictureUtils.inString(d,"(%$,.)89BCDERSVZbcdrsvzt")
}})
})(_,xfalib);
(function(b,a){var c=a.ut.DateParsingVisitor=a.ut.ParsingVisitorBase.extend({initialize:function(){this._dateInfo=new a.ut.DateInfo();
c._super.initialize.call(this)
},consumeSubPattern:function(h){var j=h.patChar;
var r=h.len;
var e=this._strPos;
var f=r;
this._assert(e+r<=this.jsonModel._dataString.length,"Mismatch");
switch(j){case"D":var s=-1;
switch(r){case 1:var q=a.ut.PictureUtils.parseIntAggressive(this.jsonModel._dataString,e,2);
s=q.value;
f=q.len;
break;
case 2:s=a.ut.PictureUtils.parseIntExact(this.jsonModel._dataString,e,2);
break
}this._assert(s<31&&s>0,"Invalid date string1");
this._dateInfo.day(s);
break;
case"J":break;
case"M":var p=-1,g="";
switch(r){case 1:var q=a.ut.PictureUtils.parseIntAggressive(this.jsonModel._dataString,e,2);
p=q.value;
f=q.len;
break;
case 2:p=a.ut.PictureUtils.parseIntExact(this.jsonModel._dataString,e,2);
break;
case 3:g="calendarSymbols.abbrmonthNames";
break;
case 4:g="calendarSymbols.monthNames";
break
}if(g){var m=a.ut.PictureUtils.getHashOfLocaleObject(this.jsonModel._locale,g),o=this.jsonModel._dataString,l=0,d="";
f=0;
while(e+f<o.length){l+=(f+1)*o.charCodeAt(e+f);
d+=o.charAt(e+f);
f++;
if(m[l]&&m[l]==d){break
}}var k=a.ut.PictureUtils.getLocaleObject(this.jsonModel._locale,g);
p=k.indexOf(d)+1
}this._assert(p<=12&&p>0,"Invalid date string2");
this._dateInfo.month(p);
break;
break;
case"E":var g="";
switch(r){case 1:f=1;
break;
case 3:g="calendarSymbols.abbrdayNames";
break;
case 4:g="calendarSymbols.dayNames";
break;
default:throw"unsupported Picture Clause "
}if(g){var m=a.ut.PictureUtils.getHashOfLocaleObject(this.jsonModel._locale,g);
f=0;
var o=this.jsonModel._dataString;
var l=0;
var d="";
while(e+f<o.length){l+=(f+1)*o.charCodeAt(e+f);
d+=o.charAt(e+f);
f++;
if(m[l]&&m[l]==d){break
}}}break;
case"e":break;
case"G":break;
case"Y":var i=-1;
switch(r){case 2:i=a.ut.PictureUtils.parseIntExact(this.jsonModel._dataString,e,2);
i+=2000;
if(i>=2029){i-=100
}break;
case 4:i=a.ut.PictureUtils.parseIntExact(this.jsonModel._dataString,e,4);
break
}this._assert(i<9999&&i>=0,"Invalid date string3");
this._dateInfo.year(i);
break;
case"w":break;
case"W":break;
default:throw"Unsupported pattern"
}this._strPos+=f
},getDate:function(){return this._dateInfo.date
},getResult:function(){return this._dateInfo.getISODate()
},_assert:function(e,d){if(!e){throw d
}}})
})(_,xfalib);