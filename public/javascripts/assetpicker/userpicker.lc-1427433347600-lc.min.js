(function(a,c){var b=function(e,f,d){this.currentPath=f;
this.impersonatesOnly=d;
e.filters({autocompleteCallback:this.autocompleteCallback.bind(this),optionRenderer:this.optionRenderer.bind(this)})
};
b.prototype.autocompleteCallback=function(e,d){this.lastSearch=d;
jQuery.get(this.currentPath,{search:d,impersonatesOnly:(this.impersonatesOnly)?"1":"0"},function(g){var f=[];
c(g).find("li").each(function(){var h={};
h.html=c(this).children();
h.value=c(this).data("value");
h.toString=function(){return this.value
};
f.push(h)
});
e(f)
})
};
b.prototype.optionRenderer=function(f,e,d,h){if(typeof e=="string"){var g=c("<span>");
g.text(e);
return g
}if(e.html){return e.html
}return""
};
c(a).on("foundation-contentloaded",function(e){var d=e.target;
c(d).find(".granite-userpicker").each(function(){var h=c(this).data("userpicker-path");
var g=c(this).data("userpicker-impersonates-only");
var f=(g!=undefined&&g!="false"&&g!="0"&&g!="");
new b(c(this),h+".userlist.html",f)
})
})
})(document,Granite.$||jQuery);