function new_constructor(g,f,a){var e,b=Object.create(g&&g.prototype);if(a){for(var d in a){if(a.hasOwnProperty(d)){b[d]=a[d]}}}e=function(){var h=Object.create(b);if(typeof f=="function"){f.apply(h,arguments)}return h};e.prototype=b;b.constructor=e;b.initializer=f;b.superClass=g.prototype;if(a&&a.hasOwnProperty("toString")){e.prototype.toString=a.toString;e.toString=a.toString}else{if(g&&g.prototype.hasOwnProperty("toString")){e.toString=g.prototype.toString}}return e}String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};String.prototype.format=function(){var d=this.toString();if(!arguments.length){return d}var b=typeof arguments[0]=="string"?Array.prototype.slice.call(arguments):arguments[0];for(var a in b){d=d.replace(new RegExp("\\{"+a+"\\}","gi"),b[a])}return d};(function(){if(!String.prototype.trim){var b=new RegExp("^\\s+|\\s+$","g");String.prototype.trim=function(){return this.replace(b,"")}}if(!String.prototype.trimLeft){var d=new RegExp("^\\s+","g");String.prototype.trimLeft=function(){return this.replace(d,"")}}if(!String.prototype.trimRight){var a=new RegExp("\\s+$","g");String.prototype.trimRight=function(){return this.replace(a,"")}}})();Function.prototype.delegate=function(){var b=this;var a=Array.prototype.slice.call(arguments);var d=a.shift();if(a.length!=0){return function(){var e=a.concat(Array.prototype.slice.call(arguments));return b.apply(d,e)}}else{return function(){return b.apply(d,arguments)}}};if(!Object.create){Object.create=function(b){function a(){}a.prototype=b;return new a()}}if(window.AUI==undefined){AUI={}}AUI.path="./";AUI.LOG_OFF=0,AUI.LOG_ERR=1,AUI.LOG_WARN=2,AUI.LOG_MSGS=3,AUI.LOG_STATUS=4,AUI.LOG_CHATTER=5;AUI.YUILIB=1;AUI.JQUERYLIB=2;AUI.PROTOLIB=3;AUI.logLevel=AUI.LOG_CHATTER;AUI.l10n="en_us";AUI.init=function(){(function(){var a=document.getElementsByTagName("script");var d=new RegExp("^(.*?/)aui-(min|Common).js$");for(var b=0;b<a.length;b++){var f=d.exec(a[b].src);if(f&&f.length>1){var e=f[1].split("/").slice(0,-2).join("/");if(e==""){this.path="./"}else{this.path=e+"/"}}}}).call(this);(function(){var b=3,a=document.createElement("div"),d=a.getElementsByTagName("i");do{a.innerHTML="<!--[if gt IE "+(++b)+"]><i></i><![endif]-->"}while(d[0]);if(b>4){AUI.addListener(window,"load",function(){AUI.addClass(document.body,"ie"+b)});this.ieVer=b}}).call(this)};AUI.create=function(k,d){if(!k){throw new Error("AUI.create: Cannot create element, no tag name provided")}if(!d){d={}}var h=document;if(d.doc){h=d.doc}var b=h.createElement(k);if(d.attrs){for(var g in d.attrs){b.setAttribute(g,d.attrs[g])}}if(d.props){for(var a in d.props){b[a]=d.props[a]}}if(d.style){for(var a in d.style){b.style[a]=d.style[a]}}if(d.children&&AUI.isArray(d.children)){for(var f=0;f<d.children.length;f++){var e=AUI.create(d.children[f]);b.appendChild(e)}}if(d.listeners){for(var j in d.listeners){if(AUI.isArray(d.listeners[j])){for(var f=0;f<d.listeners[j].length;f++){AUI.addListener(b,j,d.listeners[j][f])}}else{if(typeof d.listeners[j]=="function"){AUI.addListener(b,j,d.listeners[j])}}}}return b};AUI.createDOM=function(e){if(AUI.isEl(e)){return e}if(!e||!e.tag){throw new Error("AUI.createDOM: Cannot create element, no tag name provided")}var h=document;if(e.doc){h=e.doc}var g=h.createElement(e.tag);if(e.attrs){for(var a in e.attrs){g.setAttribute(a,e.attrs[a])}}if(e.props){for(var j in e.props){g[j]=e.props[j]}}if(e.style){for(var j in e.style){g.style[j]=e.style[j]}}if(e.children&&AUI.isArray(e.children)){for(var f=0;f<e.children.length;f++){var d=AUI.createDOM(e.children[f]);g.appendChild(d)}}if(e.listeners){for(var b in e.listeners){if(AUI.isArray(e.listeners[b])){for(var f=0;f<e.listeners[b].length;f++){AUI.addListener(g,b,e.listeners[b][f],g)}}else{if(typeof e.listeners[b]=="function"){AUI.addListener(g,b,e.listeners[b],g)}}}}return g};AUI.log=function(b,a){if(typeof a=="undefined"){a=AUI.LOG_ERR}if(a>AUI.logLevel){return false}if(window.console!=undefined&&!!console.log){console.log(b)}return true};AUI.error=function(a){if(window.console!=undefined&&!!console.error){console.error(a)}else{alert(a)}};AUI.setLogLevel=function(a){if(isNaN(a)){AUI.log("AUI.setLogLevel: log level must be a number, ("+a+") given");return false}AUI.logLevel=parseInt(a,10);return true};AUI.execCallback=function(d,b){var a;if(typeof d=="function"){if(b!=undefined){a=d.apply(d,b)}else{a=d.apply(d)}}else{if(typeof d=="object"&&typeof d.fn=="function"){if(typeof d.scope=="object"){if(b!=undefined){a=d.fn.apply(d.scope,b)}else{a=d.fn.apply(d.scope)}}else{if(b!=undefined){a=d.fn.apply(d.fn,b)}else{a=d.fn.apply(d.fn)}}}}return a};AUI.addListener=function(b,d,h,g,a){if(b==window){var f=window}else{var f=AUI.getEl(b);if(!f){AUI.log("AUI.addListener: element "+b+" not found or invalid");return false}}if(typeof g!="undefined"){var e=h;h=function(i){e.call(g,i)}}if(f.addEventListener){f.addEventListener(d,h,a)}else{if(f.attachEvent){f.attachEvent("on"+d,h)}}return h};AUI.removeListener=function(b,d,f,a){var e=AUI.getEl(b);if(!e){AUI.log("AUI.removeListener: element "+b+" not found or invalid");return false}if(e.removeEventListener){e.removeEventListener(d,f,a)}else{if(e.detachEvent){e.detachEvent("on"+d,f)}}return true};AUI.isAncestor=function(b,d){b=AUI.getEl(b);d=AUI.getEl(d);var a=false;if(b&&d){if(b.contains&&b!==d){a=b.contains(d)}else{if(b.compareDocumentPosition){a=!!(b.compareDocumentPosition(d)&16)}}}else{AUI.log("AUI.isAncestor: invalid input")}return a};AUI.getEventTarget=function(a){var b=a.target||a.srcElement;if(b.nodeType==3){b=b.parentNode}return b};AUI.addOption=function(a,b){if(a==window){var e=window}else{var e=AUI.getEl(a);if(!e){AUI.log("AUI.addOption: element "+a+" not found or invalid");return false}}if((window.HTMLSelectElement&&b instanceof HTMLOptionElement)||(b.tagName&&b.tagName=="OPTION")){d=b}else{if(!b||(!b.value&&!b.text)){AUI.log("AUI.addOption: element "+a+" not found or invalid");return false}if(b.value==undefined&&b.text!=undefined){b.text=b.value}if(b.text==undefined&&b.value!=undefined){b.value=b.text}var d=document.createElement("option");d.value=b.value;d.text=b.text}try{e.add(d,null)}catch(f){e.add(d)}return true};AUI.stopEvent=function(b,a){if(a==undefined){a=true}if(window.YAHOO&&window.YAHOO.util&&window.YAHOO.util.Event){YAHOO.util.Event.stopEvent(b)}else{if(window.jQuery){b.preventDefault();if(a){b.stopPropagation()}}else{var d=b||window.event;if(a){AUI.stopPropagation(b)}if(d.preventDefault){d.preventDefault()}else{d.returnValue=false}}}};AUI.preventDefault=function(a){if(window.YAHOO&&window.YAHOO.util&&window.YAHOO.util.Event){YAHOO.util.Event.preventDefault(a)}else{if(event.preventDefault){event.preventDefault()}}};AUI.stopPropagation=function(a){var b=a||window.event;if(b.stopPropagation){b.stopPropagation()}else{b.cancelBubble=true}};AUI.hasClass=function(a,d){var b=AUI.getEl(a);if(!b){AUI.log("AUI.hasClass: element "+a+" not found or invalid");return false}if(b.className.match(new RegExp("(\\s|^)"+d+"(\\s|$)"))!=null){return true}return false};AUI.addClass=function(a,d){var b=AUI.getEl(a);if(!b){AUI.log("AUI.addClass: element "+a+" not found or invalid");return false}if(!this.hasClass(b,d)){if(b.className==""){b.className=d}else{b.className+=" "+d}}return true};AUI.removeClass=function(a,e){var d=AUI.getEl(a);if(!d){AUI.log("AUI.removeClass: element "+a+" not found or invalid");return false}if(this.hasClass(d,e)){var b=new RegExp("(\\s|^)"+e+"(\\b)");d.className=d.className.replace(b,"")}return true};AUI.getStyle=function(b,a){var e=null;var d=AUI.getEl(b);if(d){if(d.currentStyle){a=a.replace(/\-(\w)/g,function(f,g){return g.toUpperCase()});e=d.currentStyle[a]}else{if(window.getComputedStyle){e=document.defaultView.getComputedStyle(d,null).getPropertyValue(a)}}}if(e==undefined){e=null}return e};AUI.getStyleUnitValue=function(a){var e="";var b="";if(typeof a=="string"){var d=a.match(/^(-?[0-9]*\.?[0-9]+)(%|[a-zA-Z]+)$/);if(d!=null){e=parseFloat(d[1]);if(d[2]){b=d[2]}}else{e=a}}else{if(!isNaN(a)&&a!=null){e=parseFloat(a)}}return{value:e,unit:b}};AUI.getStyleComponents=function(b,a){if(a==undefined){a=""}var f={top:{unit:a,value:""},right:{unit:a,value:""},bottom:{unit:a,value:""},left:{unit:a,value:""}};if(typeof b!="string"){return f}var g=b.split(" ");if(g.length==1){var d=AUI.getStyleUnitValue(b);var f={top:d,right:d,bottom:d,left:d}}else{if(g.length>1){for(var e=0;e<g.length;e++){var d=AUI.getStyleUnitValue(g[e]);if(e==0){f.top=d;if(g.length==2){f.bottom=d}}else{if(e==1){if(g.length==2||g.length==3){f.left=d;f.right=d}else{f.right=d}}else{if(e==2){f.bottom=d}else{if(e==3){f.left=d}}}}}}}return f};AUI.isEl=function(a){return a&&typeof a==="object"&&a.nodeType===1&&typeof a.nodeName==="string"};AUI.getEl=function(d,b){if(b==undefined){b=document}if(typeof d=="string"){var a=b.getElementById(d);if(a){return a}}else{if(d==window||d==document){return d}else{if(typeof d=="object"){if(AUI.isEl(d)){return d}}}}return null};AUI.getElementsByClassName=function(g,e,f){if(document.getElementsByClassName){var d=document.getElementsByClassName(g,e);if(f){if(d.length){return d[0]}else{return null}}else{return d}}else{if(e==undefined){e="*"}var d=document.getElementsByTagName(e);var a=[];for(var b=0;b<d.length;b++){if(d[b].nodeType==1&&AUI.hasClass(d[b],g)){if(f){return d[b]}else{a.push(d[b])}}}if(f){return null}return a}};AUI.setContentFromObj=function(b,e,a){var d=AUI.getEl(b);if(!d){AUI.log("AUI.setContentFromObj: element "+b+" not found or invalid");return false}if(a==undefined){a=false}if(typeof e=="string"){if(a){d.innerHTML+=e}else{d.innerHTML=e}}else{if(typeof e=="object"&&AUI.isEl(e)){if(!a){d.innerHTML=""}d.appendChild(e)}else{AUI.log("AUI.setContentFromObj: provided object was neither a string nor a DOM object");return false}}return true};AUI.getCSSPosVal=function(a){if(!isNaN(a)){return a+"px"}return a};AUI.viewport=(function(){var b={},e={},d={};function h(){var j,i;if(window.innerHeight&&window.scrollMaxY){j=document.body.scrollWidth;i=window.innerHeight+window.scrollMaxY}else{if(document.body.scrollHeight>document.body.offsetHeight){j=document.body.scrollWidth;i=document.body.scrollHeight}else{j=document.body.offsetWidth;i=document.body.offsetHeight}}b={width:j,height:i}}function g(){var j,i;if(self.innerHeight){j=self.innerWidth;i=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){j=document.documentElement.clientWidth;i=document.documentElement.clientHeight}else{if(document.body){j=document.body.clientWidth;i=document.body.clientHeight}}}e={width:j,height:i}}function f(){var i,j;if(self.pageYOffset){i=self.pageXOffset;j=self.pageYOffset}else{if(document.documentElement&&document.documentElement.scrollTop){i=document.documentElement.scrollLeft;j=document.documentElement.scrollTop}else{if(document.body){i=document.body.scrollLeft;j=document.body.scrollTop}}}d={horizontal:i,vertical:j}}function a(){h();g();f()}return{getPageSize:function(){h();return{width:b.width,height:b.height}},getWindowSize:function(){g();return{width:e.width,height:e.height}},getScrollOffset:function(){f();return{horizontal:d.horizontal,vertical:d.vertical}}}})();AUI.centerElAbsolute=function(a){var e=AUI.getEl(a);if(!e){AUI.log("AUI.centerElAbsolute: element "+a+" not found or invalid");return false}var d=AUI.viewport.getScollOffset(),b=AUI.viewport.getWindowSize();e.style.top=((d.vertical+b.height/2)-(e.offsetHeight/2))+"px";e.style.left=((b.width/2)-(e.offsetWidth/2))+"px";e.style.position="absolute";return true};AUI.centerElFixed=function(a){var d=AUI.getEl(a);if(!d){AUI.log("AUI.centerElFixed: element "+a+" not found or invalid");return false}var b=AUI.viewport.getWindowSize();d.style.top=((b.height/2)-(d.offsetHeight/2))+"px";d.style.left=((b.width/2)-(d.offsetWidth/2))+"px";d.style.position="fixed";return true};AUI.findPos=function(a){var b=AUI.getEl(a);if(!b){AUI.log("AUI.findPos: element "+a+" not found or invalid");return false}var d=curtop=0;if(b.offsetParent){do{d+=b.offsetLeft;curtop+=b.offsetTop}while((b=b.offsetParent))}return[d,curtop]};AUI.zeroPad=function(a,b){if(b==undefined){b=2}var d=a+"";while(d.length<b){d="0"+d}return d};AUI.sortAlphaNum=(function(){var b=/[^a-zA-Z]/g;var a=/[^0-9]/g;return function(e,d,i){i=1;if(i!=undefined&&!i){i=-1}var h=e.replace(b,"");var j=d.replace(b,"");if(h===j){var f=parseInt(e.replace(a,""),10);var g=parseInt(d.replace(a,""),10);return i*(f===g?0:f>g?1:-1)}else{return i*(h>j?1:-1)}}})();AUI.removeItemFromArray=function(d,e){for(var a=0;a<e.length;a++){var b=e[a];if(d===b){e.splice(a,1);return true}}return false};AUI.safeRemove=function(a){if(a.parentNode){a.parentNode.removeChild(a)}};AUI.KeyCode={getKeyCode:function(b){var a=null;if(window.event){a=window.event.keyCode}else{if(b){a=b.which}}return a},getKeyCodeValue:function(d,a){a=a||false;var b=null;if(a===true){b=this.modifiedByShift[d];if(b==undefined){b=this.keyCodeMap[d]}}else{b=this.keyCodeMap[d]}return b},getValueByEvent:function(a){return this.getKeyCodeValue(this.getKeyCode(a),a.shiftKey)},keyCodeMap:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pausebreak",20:"capslock",27:"escape",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",43:"+",44:"printscreen",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scrolllock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},modifiedByShift:{192:"~",48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",109:"_",61:"+",219:"{",221:"}",220:"|",59:":",222:'"',188:"<",189:">",191:"?",96:"insert",97:"end",98:"down",99:"pagedown",100:"left",102:"right",103:"home",104:"up",105:"pageup"}};AUI.getKey=function(a){return AUI.KeyCode.getValueByEvent(a)};AUI.getKeyCode=function(a){return a.charCode?a.charCode:a.keyCode};AUI.getClickCoords=function(b,f,e){if(f==undefined){f=window}if(e==undefined){e="px"}if(f==window){var d=AUI.viewport.getWindowSize()}else{var d={width:f.offsetWidth,height:f.offsetHeight}}var a=b.offsetX?(b.offsetX):b.pageX-d.width,g=b.offsetY?(b.offsetY):b.pageY-d.height;if(e=="%"){a=(a/d.width)*100;g=(g/d.height)*100;return{x:a,y:g}}return{x:a,y:g}};AUI.getMouseCoords=function(b){var a=b.pageX?b.pageX:b.clientX+(document.documentElement.scrollLeft||0),d=b.pageY?b.pageY:b.clientY+(document.documentElement.scrollTop||0);return{x:a,y:d}};AUI.easing={};AUI.easing.easeInOut=function(a){return(-Math.cos(a*Math.PI)/2)+0.5};AUI.easing.bounce=function(a){if(a<(1/2.75)){return(7.5625*a*a)}else{if(a<(2/2.75)){return(7.5625*(a-=(1.5/2.75))*a+0.75)}else{if(a<(2.5/2.75)){return(7.5625*(a-=(2.25/2.75))*a+0.9375)}else{return(7.5625*(a-=(2.625/2.75))*a+0.984375)}}}};AUI.easing.linear=function(a){return a};AUI.animate=function(n,l,m){var z=AUI.getEl(n);if(!z){return false}else{el=z}var k={backgroundColor:true,borderBottomColor:true,borderBottomWidth:false,borderLeftColor:true,borderLeftWidth:false,borderRightColor:true,borderRightWidth:false,borderSpacing:false,borderTopColor:true,borderTopWidth:false,bottom:false,color:true,fontSize:false,fontWeight:false,height:false,left:false,letterSpacing:false,lineHeight:false,marginBottom:false,marginLeft:false,marginRight:false,marginTop:false,maxHeight:false,maxWidth:false,minHeight:false,minWidth:false,opacity:false,outlineColor:true,outlineOffset:false,outlineWidth:false,paddingBottom:false,paddingLeft:false,paddingRight:false,paddingTop:false,right:false,textIndent:false,top:false,width:false,wordSpacing:false,zIndex:false};if(!l){return false}if(!m){m={}}var a=1000;if(m.duration){a=parseInt(m.duration,10)}var d=AUI.easing.easeInOut;if(m.easing){if(typeof m.easing=="function"){d=m.easing}else{d=AUI.easing[m.easing];if(!d){}}}function h(A){return A.replace(/([A-Z])/,"-$1").toLowerCase()}var p=(new Date).getTime();var i=p+a;var q=[];for(var e in l){if(!(e in k)){continue}var v=l[e];var j;var g;var o;if(v.length>1){var t=AUI.getStyleUnitValue(v[0]);var r=AUI.getStyleUnitValue(v[1]);if(r.unit!=t.unit){throw new Error("Specified units don't match: "+t.unit+" and "+r.unit);return false}if(r.unit==""&&t.unit==""&&e!="opacity"&&e!="zIndex"){o="px"}else{o=t.unit}j=t.value;g=r.value}else{var r=AUI.getStyleUnitValue(v[0]);var x=AUI.getStyleUnitValue(AUI.getStyle(el,h(e)));if(!k[e]){if(r.unit==""&&e!="opacity"&&e!="zIndex"){r.unit="px"}else{o=r.unit}if(x.value==""){x.value=0}if(x.unit==""){x.unit=o}}if(x.unit!=r.unit){throw new Error("Specified units don't match: "+x.unit+" and "+r.unit);return false}j=x.value;g=r.value;o=r.unit}if(k[e]){j=s(j);g=s(g)}q.push({property:e,start:j,end:g,unit:o,isColor:k[e]})}function s(B){var C=[];if(B.slice(0,3)=="rgb"){var C=B.match(/[0-9]*\.?[0-9]+/g);for(var D=0;D<C.length;D++){C[D]=parseFloat(C[D])}}else{if(c.length==4){var F=B.slice(1,2),E=B.slice(2,3),A=B.slice(3,4);B="#"+F+F+E+E+A+A}for(var D=1;D<6;D+=2){C.push(parseInt(B.slice(D,D+2),16))}}if(C.length==3){C.push(1)}return C}function u(F,D,E){var B=[];for(var A=0;A<=3;A++){var C=(F[A]+(D[A]-F[A])*E);if(A==3){C=C.toFixed(3)}else{C=Math.max(Math.min(Math.floor(C),255),0)}B.push(C)}return"rgba("+B.join(",")+")"}function y(B,C){if(B.isColor){el.style[B.property]=u(B.start,B.end,d(C))}else{if(B.property=="opacity"&&AUI.ieVer<9){var A=Math.floor(100*((B.start+(B.end-B.start)*d(C))));el.filters.item("DXImageTransform.Microsoft.Alpha").opacity=A}else{el.style[B.property]=(B.start+(B.end-B.start)*d(C)).toFixed(3)+B.unit}}}function w(){if(m.onStep){m.onStep(C)}var B=(new Date).getTime();var C=B>=i?1:(B-p)/a;for(var A=0;A<q.length;A++){y(q[A],C)}if(B>=i){clearInterval(b);if(m.onComplete){m.onComplete()}}}var b;function f(A,B,C){b=setInterval(w,10)}f()};AUI.mergeObject=function(a,b){for(var d in b){if(a[d]==undefined){a[d]=b[d]}else{if(b[d].constructor==Object){AUI.mergeObject(a[d],b[d])}else{b[d]=a[d]}}}return a};AUI.preload=function(){for(var a=0;a<arguments.length;a++){var b=new Image();b.src=arguments[a]}};AUI.isBoolean=function(a){return typeof a=="boolean"};AUI.isArray=function(a){return(a instanceof Array||(a!==null&&a!==undefined&&typeof a.length==="number"&&!(a.propertyIsEnumerable("length"))&&typeof a.splice==="function"))};AUI.isNumber=function(a){return typeof a=="number"||(!AUI.isArray(a)&&!isNaN(a))};AUI.getInt=function(a){return parseInt(a,10)};AUI.getFloat=function(a){return parseFloat(a)};AUI.init();AUI.Base=new_constructor(Object,function(){var a=this.getProtoChainArray();var d=this.l10n;for(var b=0;b<a.length;b++){var e=a[b];if(e.toString()=="Base"){continue}if(e.l10n){AUI.mergeObject(d,e.l10n)}}this.l10n=d},{toString:function(){return"Base"},l10n:{en_us:{base:"base"}},destroy:function(){},getProtoChainString:function(){var b=this;var a=[];do{a.unshift(b.toString());b=b.superClass}while(b.superClass);return a.join("->")},getProtoChainArray:function(){var b=this;var a=[];do{a.unshift(b);b=b.superClass}while(b.superClass);return a},getProtoChainObject:function(){var b=this;var a={};do{a[b.toString()]=b;b=b.superClass}while(b.superClass);return a},getString:function(a){return this.l10n[AUI.l10n][a]},exception:function(){var a=Array.prototype.slice.call(arguments);var d=a.shift();var b=this[d+"Error"];if(b){function e(g){return b.apply(this,g)}e.prototype=b.prototype;var f=new e(a);f.subClass=this.getProtoChainString();return f}else{var f=new this.ExceptionNotFoundError(d);f.subClass=this.getProtoChainString();throw f}}});AUI.Exception=new_constructor(Error,function(){this.name="Exception";this.message="General exception"},{toString:function(){if(this.prototype){return this.prototype.name}else{return this.name+": "+this.subClass+": "+this.message}}});AUI.Base.prototype.ExceptionNotFoundError=new_constructor(AUI.Exception,function(a){this.message='cannot create exception "'+a+'"; exception not found'},{name:"ExceptionNotFoundError"});AUI.Base.prototype.WTFError=new_constructor(AUI.Exception,function(a){this.message="something very odd has happened: "+a},{name:"WTF"});AUI.Base.prototype.BrowserOperationNotSupportedError=new_constructor(AUI.Exception,function(a){this.message="A required operation is not supported by your browser: "+a},{name:"BrowserOperationNotSupportedError"});AUI.EventProvider=new_constructor(AUI.Base,function(a){AUI.EventProvider.prototype.superClass.initializer.call(this,a);if(!a){a={}}this._events={};this.bindEvent("destroyComplete");if(a.events){this.bindEvents(a.events)}},{toString:function(){return"EventProvider"},destroy:function(){this.fireEvent("destroyComplete");this._events={};AUI.EventProvider.prototype.superClass.destroy.call(this)},bindEvents:function(b){for(var a=0;a<b.length;a++){this.bindEvent(b[a])}return this},bindEvent:function(a){if(this._events[a]){throw this.exception("DuplicateEvent",a)}this._events[a]={listeners:[]};return this},unbindEvent:function(a){if(!this._events[a]){throw this.exception("EventDoesNotExist","unbind event",a)}delete this._events[a];return this},unbindEvents:function(b){for(var a=0;a<b.length;a++){this.unbindEvent(b[a])}return this},providesEvent:function(a){if(this._events.hasOwnProperty(a)){return true}return false},fireEvent:function(d,h,f){var j=this._events[d];if(!j){throw this.exception("EventDoesNotExist","fire event",d)}if(!h){h={}}h.owner=this;var k=true;if("preventDefault" in h){var a=h.preventDefault;h.preventDefault=function(){k=false;a.call(h)}}else{h.preventDefault=function(){k=false}}if(f){h.firedSilently=true}for(var g=0;g<j.listeners.length;g++){var e=j.listeners[g];if(f&&!e.runIfSilent){continue}var l={};for(var b in h){if(b!="layerX"&&b!="layerY"){l[b]=h[b]}}if(e.data){l.data=e.data}e.func.call(this,l)}return k},on:function(b,d,e,a){if(!this._events[b]){throw this.exception("EventDoesNotExist","add listener",b)}if(d===undefined){throw this.exception("InvalidListenerFunction",b,"no listener function provided")}if(typeof d!="function"){throw this.exception("InvalidListenerFunction",b,"provided listener is not a function")}a=!!a;this._events[b].listeners.push({func:d,data:e,runIfSilent:a});return this},_on:function(a,b,d){this.on(a,b,d,true)},off:function(a,d){if(!this._events[a]){throw this.exception("EventDoesNotExist","remove listener",a)}if(d===undefined){throw this.exception("InvalidListenerFunction",a,"no listener function provided")}if(typeof d!="function"){throw this.exception("InvalidListenerFunction",a,"provided listener is not a function")}var f=false;for(var b=0;b<this._events[a].listeners.length;b++){var e=this._events[a].listeners[b];if(e.func==d){this._events[a].listeners.splice(b,1);f=true;break}}return f},purge:function(a){if(!this._events[a]){throw this.exception("EventDoesNotExist","purge listeners",a)}this._events[a].listeners=[];return this}});AUI.EventProvider.prototype.DuplicateEventError=new_constructor(AUI.Exception,function(a){this.message='cannot bind event; event "'+a+'" already exists'},{name:"DuplicateEventError"});AUI.EventProvider.prototype.EventDoesNotExistError=new_constructor(AUI.Exception,function(b,a){this.message="cannot "+b+'; event "'+a+'" does not exist'},{name:"EventDoesNotExistError"});AUI.EventProvider.prototype.InvalidListenerFunctionError=new_constructor(AUI.Exception,function(a,b){this.message='cannot add listener to event "'+a+'"; invalid listener function: '+b},{name:"InvalidListenerFunction"});AUI.AttrStore=new_constructor(AUI.EventProvider,function(b){AUI.AttrStore.prototype.superClass.initializer.call(this,b);var a={};this.set=function(e,f,d){return this._set(a,e,f,d)};this.setAttrs=function(e,d){return this._setAttrs(a,e,d)};this.get=function(d){return this._get(a,d)};this.getAttrs=function(){return this._doGetAttrs(a,true)};this.getAllAttrs=function(){return this._doGetAttrs(a,false)};this.modifyAttr=function(e,d,f){return this._modifyAttr(a,e,d,f)};this.seal=function(e,d){this._seal(a,e,d)};this.hasAttr=function(d){return a.hasOwnProperty(d)};this.addAttr=function(d,e){return this._addAttr(a,d,e)};this.addAttrs=function(d){return this._addAttrs(a,d)};this.removeAttr=function(d){return this._removeAttr(a,d)};this.removeAttrs=function(d){return this._removeAttrs(a,d)};this._destroy=function(){a={}};if(b&&b.attrs){this._addAttrs(a,b.attrs)}},{toString:function(){return"AttrStore"},destroy:function(){this._destroy();AUI.AttrStore.prototype.superClass.destroy.call(this)},_modifyAttr:function(d,e,b,f){if(!e&&e!==0){throw this.exception("NameNotProvided","modify attribute descriptor property")}if(!b){throw this.exception("DescriptorPropertyNameNotProvided","modify attribute descriptor property")}var a=d[e];if(!a){throw this.exception("AttrNotInStore",e,"modify")}if(a.sealed[b]){throw this.exception("DescriptorPropertySealed",e,b)}if(b=="valid"){if(typeof f!="function"){throw this.exception("InvalidDescriptor","validator property passed to modifyAttr was not a function")}a.valid=f}else{if(b=="transform"){if(typeof f!="function"){throw this.exception("InvalidDescriptor","transform property passed to modifyAttr was not a function")}a.transform=f}else{if(b=="set"){if(typeof f!="function"){throw this.exception("InvalidDescriptor","set property passed to modifyAttr was not a function")}a.set=f}else{if(b=="get"){if(typeof f!="function"){throw this.exception("InvalidDescriptor","get property passed to modifyAttr was not a function")}a.get=f}else{if(b=="writeable"){if(!AUI.isBoolean(f)){throw this.exception("InvalidDescriptor","writeable property passed to modifyAttr was not a boolean")}a.writeable=f}else{if(b=="enumerable"){if(!AUI.isBoolean(f)){throw this.exception("InvalidDescriptor","enumerable property passed to modifyAttr was not a boolean")}a.enumerable=f}else{if(b=="writeOnce"){if(!AUI.isBoolean(f)){throw this.exception("InvalidDescriptor","writeOnce property passed to modifyAttr was not a boolean")}a.writeOnce=f}else{throw this.exception("InvalidDescriptorPropertyName",'modify descriptor for attribute "'+e+'"',b)}}}}}}}},_seal:function(d,e,b){if(!e&&e!==0){throw this.exception("NameNotProvided","seal attribute descriptor property")}if(!b){throw this.exception("DescriptorPropertyNameNotProvided","seal attribute descriptor property")}var a=d[e];if(!a){throw this.exception("AttrNotInStore",e,'seal attribute desriptor property "'+b+'"')}if(!a.sealed.hasOwnProperty(b)){throw this.exception("InvalidDescriptorPropertyName","seal descriptor property for attribute "+e,b)}a.sealed[b]=true},_addAttr:function(b,d,e){if(!d&&d!==0){throw this.exception("NameNotProvided","add")}if(this.hasAttr(d)){throw this.exception("DuplicateAttr",d)}if(!e){e={}}if((e.set&&!e.get)||(e.get&&!e.set)){throw this.exception("InvalidDescriptor","setter and getter must both be provided")}var a={value:e.value,writeOnce:!!e.writeOnce,writeable:e.writeable==undefined||e.writeOnce?true:!!e.writeable,enumerable:e.enumerable==undefined?true:!!e.enumerable,set:typeof e.set=="function"?e.set:undefined,get:typeof e.get=="function"?e.get:undefined,valid:typeof e.valid=="function"?e.valid:undefined,transform:typeof e.transform=="function"?e.transform:undefined,sealed:{writeOnce:false,writeable:false,enumerable:false,set:false,get:false,valid:false,transform:false}};if(e.hasOwnProperty("value")&&a.transform){a.value=a.transform.call(this,a.value)}if(e.hasOwnProperty("value")&&a.valid&&!a.valid.call(this,a.value)){throw this.exception("InvalidValue",d,a.value)}b[d]=a;if(a.writeable){this.bindEvent("set:"+d);this.bindEvent("beforeChange:"+d);this.bindEvent("change:"+d)}return this},_addAttrs:function(b,d){for(var a in d){this._addAttr(b,a,d[a])}},_removeAttr:function(a,b){if(a[b].writeable){this.unbindEvent("set:"+b);this.unbindEvent("beforeChange:"+b);this.unbindEvent("change:"+b)}delete a[b];return this},_removeAttrs:function(a,d){for(var b=0;b<d.length;b++){delete a[d[b]]}return this},_set:function(i,g,b,e){if(!g&&g!==0){throw this.exception("NameNotProvided","set")}var f=i[g];if(!f){throw this.exception("AttrNotInStore",g,"set")}if(!f.writeable){throw this.exception("AttrNotWriteable",g)}if(f.transform){b=f.transform.call(this,b)}if(f.valid&&!f.valid.call(this,b)){throw this.exception("InvalidValue",g,b)}var a=this.get(g);var h=f.value;var j=true;if(h!==b){j=this.fireEvent("beforeChange:"+g,{curValue:a,newValue:b,attrName:g},e)}if(j){if(f.set){f.set.call(this,b);f.value=b}else{f.value=b}if(h!==b){this.fireEvent("change:"+g,{oldValue:a,newValue:this.get(g),attrName:g},e)}if(f.writeOnce&&f.writeable){f.writeable=false}}if(j){var d;if(this.hasAttr(g)){d=this.get(g)}this.fireEvent("set:"+g,{oldValue:a,newValue:d,attrName:g},e)}return j},_setAttrs:function(b,e,a){var f=true;for(var d in e){if(!this._set(b,d,e[d],a)){f=false}}return f},_get:function(b,d){if(!d&&d!==0){throw this.exception("NameNotProvided","get")}var a=b[d];if(!a){throw this.exception("AttrNotInStore",d,"get")}if(a.get){return a.get.call(this)}else{return a.value}},_doGetAttrs:function(d,b){var f={};for(var e in d){var a=d[e];if(b&&!a.enumerable){continue}f[e]=a}return f}});AUI.AttrStore.prototype.NameNotProvidedError=new_constructor(AUI.Exception,function(a){this.message="cannot "+a+" attribute, name not provided"},{name:"NameNotProvidedError"});AUI.AttrStore.prototype.DescriptorPropertyNameNotProvidedError=new_constructor(AUI.Exception,function(a){this.message="cannot "+a+" attribute, descriptor property name not provided"},{name:"DescriptorPropertyNameNotProvidedError"});AUI.AttrStore.prototype.DuplicateAttrError=new_constructor(AUI.Exception,function(a){this.message='cannot add attribute, attribute "'+a+'" already exists in store'},{name:"DuplicateAttrError"});AUI.AttrStore.prototype.InvalidDescriptorError=new_constructor(AUI.Exception,function(a){this.message="invalid descriptor; "+a},{name:"InvalidDescriptorError"});AUI.AttrStore.prototype.InvalidDescriptorPropertyNameError=new_constructor(AUI.Exception,function(b,a){this.message="cannot "+b+'; invalid attribute descriptor property name "'+a+'"'},{name:"InvalidDescriptorPropertyNameError"});AUI.AttrStore.prototype.DescriptorPropertySealedError=new_constructor(AUI.Exception,function(b,a){this.message='cannot modify descriptor property "'+a+'" for attribute "'+b+'"; it is sealed'},{name:"DescriptorPropertySealedError"});AUI.AttrStore.prototype.AttrNotWriteableError=new_constructor(AUI.Exception,function(a){this.message='cannot set attribute "'+a+'"; attribute is not writeable'},{name:"AttrNotWriteableError"});AUI.AttrStore.prototype.AttrNotInStoreError=new_constructor(AUI.Exception,function(b,a){this.message="cannot "+a+' attribute "'+b+'"; attribute does not exist in store'},{name:"AttrNotInStoreError"});AUI.AttrStore.prototype.InvalidValueError=new_constructor(AUI.Exception,function(a,b){this.message='cannot set attribute "'+a+'" to value "'+b+'"; value is invalid'},{name:"InvalidValueError"});AUI.Widget=new_constructor(AUI.AttrStore,function(a,b){AUI.Widget.prototype.superClass.initializer.call(this,a);if(!b){throw this.exception("ContainerDescriptorNotProvided")}this.initAttrs();if(a){if(a.append&&a.prepend){throw this.exception("InvalidConfig","config.prepend and config.append cannot both be specified")}if(a.insertAfter&&a.insertBefore){throw this.exception("InvalidConfig","config.insertAfter and config.insertBefore cannot both be specified")}if((a.append||a.prepend)&&(a.insertAfter||a.insertBefore)){throw this.exception("InvalidConfig","config can only contain one of config.insertAfter, config.insertBefore, config.append, or config.prepend")}if(a.append){b.append=true;delete a.append}else{if(a.prepend){b.prepend=true;delete a.prepend}else{if(a.insertBefore&&AUI.getEl(a.insertBefore)){b.insertBefore=AUI.getEl(a.insertBefore);delete a.insertBefore}else{if(a.insertAfter&&AUI.getEl(a.insertAfter)){b.insertAfter=AUI.getEl(a.insertAfter);delete a.insertAfter}else{b.append=true}}}}}else{b.append=true}this.set("containerDescriptor",b);this.initEvents();if(a){delete a.attrs;delete a.events;for(var d in a){this.set(d,a[d])}}},{l10n:{en_us:{widget:"widget"}},toString:function(){return"Widget"},destroy:function(){this.purgeListeners();var a=this.get("els").getAttrs();for(var b in a){AUI.safeRemove(b)}AUI.safeRemove(this.el("container"));AUI.Widget.prototype.superClass.destroy.call(this)},addEl:function(e,h){if(!e){throw this.exception("ElementNameNotProvided")}var g;var f=AUI.getEl(h);if(f){g=f}else{var d=h;if(!h.tag){throw this.exception("InvalidElementConfig","config.tag not provided")}var i=!!d.append+!!d.prepend+!!d.insertBefore+!!d.insertAfter;if(i>1){throw this.exception("InvalidElementConfig","multiple elements provided for relative insert")}var b;if(d.append){b=AUI.getEl(d.append);if(!b){throw this.exception("InvalidElementConfig","could not find element using selector provided in config.append")}}if(d.prepend){b=AUI.getEl(d.prepend);if(!b){throw this.exception("InvalidElementConfig","could not find element using selector provided in config.prepend")}}if(d.insertBefore){b=AUI.getEl(d.insertBefore);if(!b){throw this.exception("InvalidElementConfig","could not find element using selector provided in config.insertBefore")}}if(d.insertAfter){b=AUI.getEl(d.insertAfter);if(!b){throw this.exception("InvalidElementConfig","could not find element using selector provided in config.insertAfter")}}var a=d.tag;delete d.tag;g=AUI.create(a,d)}this.get("els").addAttr(e,{value:{el:g,listeners:{}},writeable:false});if(b){if(d.append){b.appendChild(g)}else{if(d.prepend){b.insertBefore(g,b.firstChild)}else{if(d.insertBefore){if(!b.parentNode){throw this.exception("InvalidElementConfig","node to insertBefore does not have a parent")}b.parentNode.insertBefore(g,b)}else{if(d.insertAfter){if(!b.parentNode){throw this.exception("InvalidElementConfig","node to insertAfter does not have a parent")}b.parentNode.insertBefore(g,b.nextSibling)}}}}}return g},removeEl:function(d){var a=this.get("els");var b=a.get(d);this.purgeListeners(d);b.listeners={};AUI.safeRemove(b.el);a.removeAttr(d);return this},el:function(a){return this.get("els").get(a).el},addListener:function(f,b,e,a){if(f==window){f="__window"}else{if(f==document){f="__document"}else{if(f==document.body){f="__document.body"}}}var d=this.get("els").get(f);if(e===undefined){throw this.exception("InvalidListenerFunction",b+" for element "+f,"no listener function provided")}if(typeof e!="function"){throw this.exception("InvalidListenerFunction",b+" for element "+f,"provided listener is not a function")}AUI.addListener(d.el,b,e,undefined,a);if(!d.listeners[b]){d.listeners[b]=[]}d.listeners[b].push(e);return this},removeListener:function(j,b,f,a){if(j==window){j="__window"}else{if(j==document){j="__document"}else{if(j==document.body){j="__document.body"}}}var e=this.get("els").get(j);var g=e.listeners[b];if(g){for(var d=0;d<g.length;d++){var h=g[d];if(h==f){AUI.removeListener(e.el,b,h,a);return true}}}return false},purgeListeners:function(a,k){var h=this.get("els");if(a==undefined){var f=h.getAllAttrs();for(var d in f){this.purgeListeners(d)}return this}var e=h.get(a);if(k){var b=e.listeners[k];if(b){for(var g=0;g<b.length;g++){var j=b[g];AUI.removeListener(e.el,k,j)}}}else{for(var k in e.listeners){this.purgeListeners(a,k)}}return this},initEvents:function(){this.bindEvent("renderComplete")},initAttrs:function(){this.addAttr("rendered",{value:false,writeOnce:true});this.addAttr("containerDescriptor",{writeOnce:true,enumerable:false});this.addAttr("enabled",{value:true,valid:AUI.isBoolean});this.addAttr("visible",{value:true,valid:AUI.isBoolean});this.addAttr("tabIndex",{value:null,valid:function(a){return AUI.isNumber(a)||a==null}});this.addAttr("focus",{value:false,valid:AUI.isBoolean});this.addAttr("parent",{valid:AUI.isEl,transform:AUI.getEl});this.addAttr("els",{value:new AUI.AttrStore(),writeable:false,enumerable:false});this.get("els").addAttr("container",{value:{el:null,listeners:{}},writeOnce:true});this.get("els").addAttr("__window",{value:{el:window,listeners:{}},writeable:false,enumerable:false});this.get("els").addAttr("__document",{value:{el:document,listeners:{}},writeable:false,enumerable:false});this.get("els").addAttr("__document.body",{value:{el:document.body,listeners:{}},writeable:false,enumerable:false})},renderUI:function(){var e=this.get("containerDescriptor");var a=AUI.create(e.tag,e);this.removeAttr("containerDescriptor");this.get("els").set("container",{el:a,listeners:{}});if(e.insertAfter){var f=AUI.getEl(e.insertAfter);if(f&&f.parentNode){this.set("parent",e.insertAfter.parentNode)}}else{if(e.insertBefore){var b=AUI.getEl(e.insertBefore);if(b&&b.parentNode){this.set("parent",e.insertBefore.parentNode)}}}var d=this.get("parent");if(!d){throw this.exception("InvalidConfig","could not find parent or parent not set")}if(a.parentNode!=d){if(e.prepend){d.insertBefore(a,d.firstChild)}else{if(e.append){d.appendChild(a)}else{if(e.insertBefore&&e.insertBefore.parentNode){e.insertBefore.parentNode.insertBefore(a,e.insertBefore)}else{if(e.insertAfter&&e.insertAfter.parentNode){e.insertAfter.parentNode.insertBefore(a,e.insertAfter.nextSibling)}}}}}},bindUI:function(){this._on("change:enabled",function(a){this._makeEnabled(a.newValue)});this._on("change:visible",function(a){this._makeVisible(a.newValue)});this._on("change:parent",function(a){this._doMove(a.newValue)});this._on("change:tabIndex",function(a){this._doTabIndexChange(a.newValue)});this._on("change:focus",function(a){this._doFocus(a.newValue)});this.addListener("container","focus",function(a){this.set("focus",true)}.delegate(this));this.addListener("container","blur",function(a){this.set("focus",false)}.delegate(this))},syncUI:function(){this._doTabIndexChange(this.get("tabIndex"));this._makeEnabled(this.get("enabled"));this._makeVisible(this.get("visible"))},render:function(){if(this.get("rendered")){return this}this.renderUI();this.bindUI();this.syncUI();this.fireEvent("renderComplete");this.set("rendered",true);return this},show:function(){this.set("visible",true);return this},hide:function(){this.set("visible",false);return this},enable:function(){this.set("enabled",true);return this},disable:function(){this.set("enabled",false);return this},_doMove:function(a){a.appendChild(this.el("container"))},_makeEnabled:function(a){if(a){AUI.removeClass(this.el("container"),"disabled");this._doTabIndexChange(this.get("tabIndex"))}else{AUI.addClass(this.el("container"),"disabled");this._doTabIndexChange(null)}},_makeVisible:function(a){if(a){AUI.removeClass(this.el("container"),"hidden")}else{AUI.addClass(this.el("container"),"hidden")}},_doTabIndexChange:function(a){if(a==null){this.el("container").removeAttribute("tabIndex")}else{this.el("container").tabIndex=a}},_doFocus:function(a){if(a){this.el("container").focus()}else{this.el("container").blur()}}});AUI.Widget.prototype.ElementNameNotProvidedError=new_constructor(AUI.Exception,function(){this.message="cannot add element; element name not provided"},{name:"ElementNameNotProvidedError"});AUI.Widget.prototype.InvalidElementConfigError=new_constructor(AUI.Exception,function(a){this.message="cannot add element; configuration invalid: "+a},{name:"InvalidElementConfigError"});AUI.Widget.prototype.InvalidConfigError=new_constructor(AUI.Exception,function(a){this.message="cannot create instance; configuration invalid: "+a},{name:"InvalidConfigError"});AUI.Widget.prototype.ContainerDescriptorNotProvidedError=new_constructor(AUI.Exception,function(){this.message="cannot execute constructor; container descriptor not provided"},{name:"ContainerDescriptorNotProvidedError"});AUI.Animation=new_constructor(AUI.EventProvider,function(b){AUI.Animation.prototype.superClass.initializer.call(this);this._steps=[];this._running=false;this._interval=undefined;this.initEvents();if(b){for(var a=0;a<b.length;a++){this.add(b[a].el,b[a].props,b[a].config)}}},{initEvents:function(){this.bindEvent("animationStart");this.bindEvent("stepComplete");this.bindEvent("animationStop");this.bindEvent("animationResume");this.bindEvent("animationComplete")},isRunning:function(){return this._running},start:function(){if(this.isRunning()){return false}if(this._steps.length==0){return false}if(this.fireEvent("animationStart",{})){var a=this._steps[0];this._runStep(a)}return true},stop:function(){if(this.isRunning()){if(this.fireEvent("animationStop",{})){this._doStop()}}return this},clearSteps:function(){this.stop();this._steps=[];return this},_doStop:function(){this._running=false;clearInterval(this._interval)},resume:function(){if(this.isRunning()){return this}if(this.fireEvent("animationResume",{})){this._runStep(this._steps[0])}return this},next:function(){this._steps.shift();if(this._steps.length!=0){this._runStep(this._steps[0])}return this},addStep:function(a){var d={duration:1000,elapsed:0,els:[],onStart:null,onComplete:null};if(a.duration){d.duration=parseInt(a.duration,10)}if(typeof a.onComplete=="function"){d.onComplete=a.onComplete}if(typeof a.onStart=="function"){d.onStart=a.onStart}var e=function(f){var l={el:null,props:[]};l.el=AUI.getEl(f.el);if(!l.el){throw new Error("Element '"+f.el+"' is invalid");return this}if(!f.hasOwnProperty("props")){throw new Error("Property 'props' not provided");return this}for(var i in f.props){if(!this.validProps.hasOwnProperty(i)){continue}var g=f.props[i];var k={cssProp:i,easingFunc:AUI.easing.easeInOut,from:null,to:null,by:null,unit:"",relative:false,isColor:this._isColor(i)};if(g.easing){if(typeof g.easing=="function"){k.easing=g.easing}else{k.easingFunc=AUI.easing[g.easing];if(!k.easingFunc){throw new Error("Invalid easing function: "+g.easing);return this}}}if(g.hasOwnProperty("from")&&g.hasOwnProperty("to")){var j=AUI.getStyleUnitValue(g.from);var m=AUI.getStyleUnitValue(g.to);if(j.unit!=m.unit){throw new Error("From units ("+j.unit+") and to units ("+m.unit+") don't match");return this}if(j.unit==""&&m.unit==""&&i!="opacity"&&i!="zIndex"){k.unit="px"}else{k.unit=j.unit}k.from=j.value;k.to=m.value}else{if(g.hasOwnProperty("to")){var h=AUI.getStyleUnitValue(AUI.getStyle(l.el,this._getCSSPropName(i)));var m=AUI.getStyleUnitValue(g.to);if(this._isColor(i)){k.from=h.value;k.to=m.value}else{if(m.unit==""&&i!="opacity"&&i!="zIndex"){m.unit="px"}if(h.unit!=m.unit){throw new Error("Current units ("+h.unit+") and specified units ("+m.unit+") don't match");return this}if(h.value==""){h.value=0}k.from=parseFloat(h.value);k.to=m.value;k.unit=h.unit;k.relative=true}}else{if(g.hasOwnProperty("by")){if(this._isColor(i)){return this}var h=AUI.getStyleUnitValue(AUI.getStyle(l.el,this._getCSSPropName(i)));k.unit=h.unit;k.from=null;k.to=null;k.by=g.by;k.relative=true}}}if(this._isColor(i)){k.from=this._toRGBa(k.from);k.to=this._toRGBa(k.to)}l.props.push(k)}d.els.push(l)}.delegate(this);if(a.els){for(var b=0;b<a.els.length;b++){e(a.els[b])}}else{if(!a.hasOwnProperty("props")){return}e({el:a.el,props:a.props})}this._steps.push(d);return this},_interpolateColor:function(g,e,f){var b=[];for(var a=0;a<=3;a++){var d=(g[a]+(e[a]-g[a])*f);if(a==3){d=d.toFixed(3)}else{d=Math.max(Math.min(Math.floor(d),255),0)}b.push(d)}if(b[3]==1){return"rgb("+b[0]+","+b[1]+","+b[2]+")"}else{return"rgba("+b.join(",")+")"}},_applyAnimation:function(b,d,f){if(d.isColor){b.style[d.cssProp]=this._interpolateColor(d.from,d.to,d.easingFunc(f))}else{if(d.cssProp=="opacity"&&AUI.ieVer<9){var a=Math.floor(100*((d.from+(d.to-d.from)*d.easingFunc(f))));if(b.style.filter==""){b.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity="+a+")"}else{if(b.filters.item("DXImageTransform.Microsoft.Alpha")){b.filters.item("DXImageTransform.Microsoft.Alpha").opacity=a}else{b.style.filter+=", progid:DXImageTransform.Microsoft.Alpha(opacity="+a+")"}}}else{var e=(d.from+(d.to-d.from)*d.easingFunc(f)).toFixed(3)+d.unit;b.style[d.cssProp]=e}}},_runStep:function(k){this._running=true;var b=(new Date).getTime();b-=k.elapsed;var l=b+k.duration;var e;if(k.elapsed==0){for(var h=0;h<k.els.length;h++){var n=k.els[h];for(var g=0;g<n.props.length;g++){var f=n.props[g];if(f.relative){var m=AUI.getStyleUnitValue(AUI.getStyle(n.el,this._getCSSPropName(f.cssProp)));if(f.isColor){f.from=m.value}else{if(f.cssProp=="opacity"&&m.value==""){f.from=1}else{f.from=parseFloat(m.value)}}if(f.by!=null){f.to=f.from+f.by}}}}}var d=true;var a=function(){e=(new Date).getTime();var u=e>=l?1:(e-b)/k.duration;for(var q=0;q<k.els.length;q++){var s=k.els[q];for(var p=0;p<s.props.length;p++){this._applyAnimation(s.el,s.props[p],u)}}k.elapsed=e-b>k.duration?k.duration:e-b;if(d&&k.onStart){k.onStart.call(this,o);d=false}if(e>=l){var r=[];for(var q=0;q<k.els.length;q++){r.push(k.els[q].el)}var t=this.fireEvent("stepComplete",{els:r,duration:k.duration});if(!t){return}if(this._steps.length>1){var t=true;var o={preventDefault:function(){t=false}};if(k.onComplete){k.onComplete.call(this,o)}if(t){this.next()}}else{if(k.onComplete){k.onComplete.call(this,{})}this._doStop();this.fireEvent("animationComplete")}this._steps.shift()}}.delegate(this);clearInterval(this._interval);this._interval=setInterval(function(){if(this._running){a()}else{this._doStop()}}.delegate(this),10)},_toRGBa:function(d){var e=[];if(d.slice(0,3)=="rgb"){var e=d.match(/[0-9]*\.?[0-9]+/g);for(var f=0;f<e.length;f++){e[f]=parseFloat(e[f])}}else{if(c.length==4){var j=d.slice(1,2),h=d.slice(2,3),a=d.slice(3,4);d="#"+j+j+h+h+a+a}for(var f=1;f<6;f+=2){e.push(parseInt(d.slice(f,f+2),16))}}if(e.length==3){e.push(1)}return e},_isColor:function(a){return this.validProps[a]},_getCSSPropName:function(a){return a.replace(/([A-Z])/,"-$1").toLowerCase()},validProps:{backgroundColor:true,borderBottomColor:true,borderBottomWidth:false,borderLeftColor:true,borderLeftWidth:false,borderRightColor:true,borderRightWidth:false,borderSpacing:false,borderTopColor:true,borderTopWidth:false,bottom:false,color:true,fontSize:false,fontWeight:false,height:false,left:false,letterSpacing:false,lineHeight:false,marginBottom:false,marginLeft:false,marginRight:false,marginTop:false,maxHeight:false,maxWidth:false,minHeight:false,minWidth:false,opacity:false,outlineColor:true,outlineOffset:false,outlineWidth:false,paddingBottom:false,paddingLeft:false,paddingRight:false,paddingTop:false,right:false,textIndent:false,top:false,width:false,wordSpacing:false,zIndex:false}});AUI.Dialog=new_constructor(AUI.Widget,function(a){AUI.Dialog.prototype.superClass.initializer.call(this,a,{tag:"div",props:{className:"AUI_Dialog"}});if(AUI.dialogStack==undefined){AUI.dialogStack=[]}},{toString:function(){return"Dialog"},initEvents:function(){AUI.Dialog.prototype.superClass.initEvents.call(this)},initAttrs:function(){AUI.Dialog.prototype.superClass.initAttrs.call(this);this.set("visible",false);this.addAttr("position",{value:[undefined,undefined],valid:AUI.isArray});this.addAttr("center",{value:true,valid:AUI.isBoolean});this.addAttr("width",{value:"auto"});this.addAttr("height",{value:"auto"});this.addAttr("zIndex",{value:1000,transform:AUI.getInt,valid:AUI.isNumber});this.addAttr("padding",{value:true});this.addAttr("modal",{value:true,valid:AUI.isBoolean});this.addAttr("header",{value:""});this.addAttr("content",{value:""});this.addAttr("footer",{value:""})},append:function(a,b){this._setContent(a,b,true)},renderUI:function(){this.set("parent",document.body);AUI.Dialog.prototype.superClass.renderUI.call(this);this.addEl("outerContainer",{tag:"div",props:{className:"AUI_Dialog_outerContainer"},append:this.el("container")});this.addEl("outerBorder",{tag:"div",props:{className:"AUI_Dialog_outerBorder"},append:this.el("outerContainer")});this.addEl("innerContainer",{tag:"div",props:{className:"AUI_Dialog_innerContainer"},append:this.el("outerContainer")});this.addEl("headerContainer",{tag:"div",props:{className:"AUI_Dialog_header"},append:this.el("innerContainer")});this.addEl("close",{tag:"div",props:{className:"AUI_CloseButton AUI_Dialog_close"},append:this.el("headerContainer")});this.addEl("header",{tag:"div",append:this.el("headerContainer")});this.addEl("contentContainer",{tag:"div",props:{className:"AUI_Dialog_contentContainer"},append:this.el("innerContainer")});this.addEl("content",{tag:"div",props:{className:"AUI_Dialog_content"},append:this.el("contentContainer")});this.addEl("footer",{tag:"div",props:{className:"AUI_Dialog_footer"},append:this.el("innerContainer")});this.addEl("underlay",{tag:"div",props:{className:"AUI_Dialog_underlay"},append:this.el("container")})},bindUI:function(){AUI.Dialog.prototype.superClass.bindUI.call(this);this.addListener("close","click",function(){this.set("visible",false)}.delegate(this));this._on("change:header",function(a){this._setContent("header",a.newValue)});this._on("change:content",function(a){this._setContent("content",a.newValue)});this._on("change:footer",function(a){this._setContent("footer",a.newValue);this._setContentPaddingForFooter()});this._on("change:position",function(a){this._setPosition(a.newValue)});this._on("change:center",function(a){this._setCenter(a.newValue)});this._on("set:visible",function(a){if(a.newValue){if(AUI.dialogStack.length){var b=AUI.dialogStack[AUI.dialogStack.length-1];this.set("zIndex",b.get("zIndex")+1)}AUI.removeItemFromArray(this,AUI.dialogStack);AUI.dialogStack.push(this);this._centerDialogWithoutClipping();if(AUI.ieVer&&AUI.ieVer<8){this._setContentHeightWithoutBoxSizing()}}else{if(AUI.dialogStack[AUI.dialogStack.length-1]==this){AUI.removeItemFromArray(this,AUI.dialogStack)}}});this._on("change:width",function(a){this._setWidth(a.newValue);this._centerDialogWithoutClipping()});this._on("change:height",function(a){this._setHeight(a.newValue);this._centerDialogWithoutClipping();this._setContentPaddingForFooter()});this._on("change:modal",function(a){this._setModal(a.newValue)});this._on("change:zIndex",function(a){this._setZIndex(a.newValue)});if(AUI.ieVer&&AUI.ieVer<8){this.addListener(window,"scroll",function(){var a=document.documentElement.scrollTop||document.body.scrollTop;this.el("container").style.top=a+"px"}.delegate(this))}this.addListener(window,"resize",function(a){if(AUI.ieVer==6){var b=AUI.viewport.getWindowSize();this.el("container").style.height=b.height+"px"}if(AUI.ieVer<8){this.el("contentContainer").style.marginTop=0;this.el("contentContainer").style.paddingTop=0;this._setContentHeightWithoutBoxSizing()}}.delegate(this))},_addResizeListener:function(){if(!this._resizeListenerRef){this._resizeListenerRef=function(){if(this.get("visible")){this._centerDialogWithoutClipping()}}.delegate(this);this.addListener(window,"resize",this._resizeListenerRef)}},_removeResizeListener:function(){if(this._resizeListenerRef){this.removeListener(window,"resize",this._resizeListenerRef);this._resizeListenerRef=undefined}},syncUI:function(){AUI.Dialog.prototype.superClass.syncUI.call(this);this._setContent("footer",this.get("footer"));this._setContent("content",this.get("content"));this._setContent("header",this.get("header"));var a=this.get("position");if(a[0]!==undefined&&a[1]!==undefined){this._setPosition(a)}this._setWidth(this.get("width"));this._setHeight(this.get("height"));this._centerDialogWithoutClipping();this._setModal(this.get("modal"));this._setZIndex(this.get("zIndex"));this._setPadding(this.get("padding"))},_setPadding:function(a){if(a){AUI.addClass(this.el("container"),"AUI_Dialog_padded")}else{AUI.removeClass(this.el("container"),"AUI_Dialog_padded")}},_setZIndex:function(a){this.el("container").style.zIndex=a},_setModal:function(a){if(a){this.el("underlay").style.display="block"}else{this.el("underlay").style.display="none"}},_doContentAdd:function(b,d){if(AUI.isEl(d)){this.el(b).appendChild(d)}else{if(AUI.isArray(d)){for(var a=0;a<d.length;a++){this._doContentAdd(b,d[a])}}else{this.el(b).innerHTML+=d}}},_setContent:function(b,d,a){if(this.get("els").hasAttr(b)){if(!a){this.el(b).innerHTML=""}this._doContentAdd(b,d);if(b=="footer"){if(d==""){AUI.addClass(this.el("container"),"AUI_Dialog_noFooter")}else{this._setContentPaddingForFooter();AUI.removeClass(this.el("container"),"AUI_Dialog_noFooter")}}}},_setWidth:function(a){this.el("outerContainer").style.width=a;if(AUI.getStyleUnitValue(a).unit!="%"){this._addResizeListener()}else{this._removeResizeListener()}},_setHeight:function(a){if(a!="auto"){AUI.addClass(this.el("container"),"AUI_Dialog_withHeight")}this.el("outerContainer").style.height=a;if(this.get("footer")!=""){this._setContentPaddingForFooter()}if(AUI.getStyleUnitValue(a).unit!="%"){this._addResizeListener()}else{this._removeResizeListener()}},_setContentHeightWithoutBoxSizing:function(){var a=this.el("outerContainer").offsetHeight;var b=a-this.el("footer").offsetHeight-this.el("headerContainer").offsetHeight;if(this.get("footer")!=""){b-=2}this.el("contentContainer").style.height=b+"px"},_setContentPaddingForFooter:function(){if(this.get("height")!="auto"){this.el("contentContainer").style.marginBottom=(-1*this.el("footer").offsetHeight)+"px"}else{this.el("contentContainer").style.marginBottom=0}this.el("contentContainer").style.paddingBottom=(this.el("footer").offsetHeight)+"px"},_centerDialogWithoutClipping:function(){this._setCenter(this.get("center"))},_setCenter:function(a){if(a){var e=AUI.getStyleUnitValue(this.get("width"));var d=AUI.getStyleUnitValue(this.get("height"));var b=AUI.viewport.getWindowSize();if(e.unit=="%"){this.el("outerContainer").style.left=Math.floor(e.value/2)+"%"}else{if(e.value=="auto"){e.value=this.el("outerContainer").offsetWidth}if(e.value>b.width-80){e.value=Math.max(b.width-80,0);this._setWidth(e.value+"px")}else{this._setWidth(this.get("width"))}this.el("outerContainer").style.marginLeft="-"+Math.floor(e.value/2)+"px";this.el("outerContainer").style.left="50%"}if(d.unit=="%"){this.el("outerContainer").style.top=Math.floor(d.value/2)+"%"}else{if(d.value=="auto"){this.el("outerContainer").style.height="auto";if(AUI.ieVer&&AUI.ieVer<8){this.el("contentContainer").style.height="auto"}d.value=this.el("outerContainer").offsetHeight}if(d.value>b.height-80){d.value=Math.max(b.height-80,0);this._setHeight(d.value+"px")}else{this._setHeight(this.get("height"))}this.el("outerContainer").style.marginTop="-"+Math.floor(d.value/2)+"px";this.el("outerContainer").style.top="50%"}}else{this.el("outerContainer").style.marginLeft="";this.el("outerContainer").style.marginTop="";this._setPosition(this.get("position"))}if(AUI.ieVer==6){var d=d||AUI.getStyleUnitValue(this.get("height"));if(d.value=="auto"){d.value=this.el("outerContainer").offsetHeight}if(d.unit=="%"){var b=b||AUI.viewport.getWindowSize();d.value=b.height*d.value/100}this.el("content").style.height=(d.value-(this.get("footer")==""?0:40)-32)+"px"}},_setPosition:function(a){this.el("outerContainer").style.top=a[0];this.el("outerContainer").style.left=a[1]}});AUI.Menu=new_constructor(AUI.Widget,function(a){AUI.Menu.prototype.superClass.initializer.call(this,a,{tag:"ul",props:{className:"AUI_Menu"}})},{toString:function(){return"Menu"},destroy:function(){var a=this.get("subMenus");for(var b in a){a[b].destroy()}AUI.Menu.prototype.superClass.destroy.call(this)},initEvents:function(){AUI.Menu.prototype.superClass.initEvents.call(this);this.bindEvent("itemClicked")},initAttrs:function(){AUI.Menu.prototype.superClass.initAttrs.call(this);this.set("visible",false);this.addAttr("type",{value:"floating",valid:function(b){return !this.get("rendered")&&(b=="floating"||b=="tileless")}});this.addAttr("fixed",{value:true,valid:AUI.isBoolean});this.addAttr("parentMenu",{value:null,writeOnce:true,enumerable:false});this.addAttr("parentLiId",{value:null,writeOnce:true,enumerable:false});this.addAttr("rootMenu",{value:this,writeOnce:true,enumerable:false});this.addAttr("subMenus",{value:[],enumerable:false});this.addAttr("itemIds",{value:[],enumerable:false});this.addAttr("highlightedItemId",{value:undefined,valid:function(b){if(b==undefined||this.get("itemObjs")[b]){return true}return false}});this.addAttr("hoveredItemId",{valid:function(b){if(b==undefined||this.get("itemObjs")[b]){return true}return false}});this.addAttr("documentClickListener",{value:null,writeOnce:true,enumerable:false});this.addAttr("subMenuShowDelayTime",{value:150,transform:AUI.getInt,valid:AUI.isNumber});this.addAttr("subMenuMouseOutHideDelay",{value:1000,transform:AUI.getInt,valid:AUI.isNumber});this.addAttr("items",{value:[],valid:AUI.isArray});this.addAttr("itemObjs",{value:{}});this.addAttr("itemClickListeners",{value:{}});var a;this.addAttr("width",{set:function(b){if(!this.get("rendered")){return a}return this._setWidth(b)},get:function(){if(!this.get("rendered")){return a}return this.el("container").style.width||this.el("container").offsetWidth+"px"}})},addItems:function(b){var a=this.get("items");for(var d=0;d<b.length;d++){a.push(b[d])}return this},_drawMenuItem:function(i,f){if(!i.id){throw this.exception("InvalidItemConfig","item.id not present");return false}if(!i.label){throw this.exception("InvalidItemConfig","item.label not present");return false}var h=this.addEl("item_"+i.id+"_li",{tag:"li",props:{id:"AUI_Menu_item_"+i.id+"_li",className:"AUI_Menu_item"},attrs:{tabindex:-1},append:f});var e=this.addEl("item_"+i.id+"_label",{tag:"a",props:{id:"AUI_Menu_item_"+i.id+"_label",className:"AUI_Menu_label",innerHTML:i.label},attrs:{tabindex:-1},append:h});var d=this.get("type");if(d=="tileless"){AUI.addClass(e,"AUI_Menu_nav_titleless_label")}if(i.icon){this.addEl("item_"+i.id+"_icon",{tag:"img",attrs:{src:i.icon},props:{id:"AUI_Menu_item_"+i.id+"_icon",className:"AUI_Menu_icon"},prepend:this.el("item_"+i.id+"_label")})}var a=undefined;if(i.url){a=function(k){window.open(i.url,i.target?i.target:"_self").focus()};e.href=i.url;if(i.target){e.target=i.target}}if(i.onClick){var g;var j={item:{id:i.id,label:i.label,url:i.url,target:i.target}};var g;if(a){g=function(k){a();var l=this.fireEvent("itemClicked",j);if(l){i.onClick(j)}}}else{g=function(k){var l=this.fireEvent("itemClicked",j);if(l){i.onClick(j)}}}this.get("itemClickListeners")[i.id]=g}if(a&&!i.onClick){this.get("itemClickListeners")[i.id]=a}if(i.children&&i.children.length){var b=new AUI.Menu({rootMenu:this.get("rootMenu"),parentMenu:this,parentLiId:i.id,parent:h,fixed:false,prepend:true});b.addItems(i.children);b.render();AUI.addClass(e,"has_children");this.addListener("item_"+i.id+"_label","mouseover",function(k){this._showSubMenuWithDelay(i.id);this.set("hoveredItemId",i.id);this.el("item_"+i.id+"_li").focus()}.delegate(this));this.addListener("item_"+i.id+"_label","mouseout",function(k){if(AUI.isAncestor(h,k.relatedTarget)){AUI.stopEvent(k,true)}else{}}.delegate(this));this.addAttr("item_"+i.id+"_subMenu",{value:b,writeable:false});this.get("subMenus")[i.id]=b}else{this.addListener("item_"+i.id+"_label","mouseover",function(k){if(this._shownSubMenu){this._hideSubMenuWithDelay(this._shownSubMenu,this.get("subMenuShowDelayTime"))}this.set("hoveredItemId",i.id);this.el("item_"+i.id+"_li").focus()}.delegate(this));this.addListener("item_"+i.id+"_label","mouseout",function(k){this.set("hoveredItemId",undefined);clearTimeout(this._itemHighlightTimeout)}.delegate(this))}},_cancelSubMenuHide:function(){clearTimeout(this._subMenuHideTimeout)},_cancelSubMenuShow:function(){clearTimeout(this.subMenushowTimeout)},_hideSubMenuWithDelay:function(b,a){if(!b&&this._shownSubMenu){b=this._shownSubMenu}this._cancelSubMenuHide();this._cancelSubMenuShow();if(!a){a=this.get("subMenuMouseOutHideDelay")}this._subMenuHideTimeout=setTimeout(function(){this._hideSubMenu(b)}.delegate(this),a)},_hideSubMenu:function(d){if(!d&&this._shownSubMenu){d=this._shownSubMenu}var b=this.el("item_"+d+"_label"),a=this.get("item_"+d+"_subMenu");a.set("hoveredItemId",undefined);a.hide();this._shownSubMenu=undefined},_showSubMenuWithDelay:function(a){this._cancelSubMenuShow();this.subMenushowTimeout=setTimeout(function(){this._showSubMenu(a)}.delegate(this),this.get("subMenuShowDelayTime"))},_showSubMenu:function(e){this._cancelSubMenuShow();if(this._shownSubMenu&&e!=this._shownSubMenu){this._hideSubMenu()}var d=this.el("item_"+e+"_label"),b=this.get("item_"+e+"_subMenu");this.set("hoveredItemId",e);var a=d.offsetWidth;b.show(a,true);this._shownSubMenu=e},_highlightItem:function(b){if(this.get("els").hasAttr("item_"+b+"_label")){var a=this.el("item_"+b+"_label");AUI.addClass(a,"highlighted")}},_unhighlightItem:function(b){if(this.get("els").hasAttr("item_"+b+"_label")){var a=this.el("item_"+b+"_label");AUI.removeClass(a,"highlighted")}},_addHoverHighlight:function(b){if(this.get("els").hasAttr("item_"+b+"_label")){var a=this.el("item_"+b+"_label");AUI.addClass(a,"hovered")}},_removeHoverHighlight:function(b){if(this.get("els").hasAttr("item_"+b+"_label")){var a=this.el("item_"+b+"_label");AUI.removeClass(a,"hovered")}},_hideUp:function(){var a=this.get("parentMenu");if(!this.get("fixed")&&a){a._hideUp();this.hide()}this.set("hoveredItemId",undefined)},show:function(a){if(a){this.el("container").style.left=a+"px"}AUI.Menu.prototype.superClass.show.call(this)},hide:function(){AUI.Menu.prototype.superClass.hide.call(this);if(this._shownSubMenu){this._hideSubMenu()}},renderUI:function(){AUI.Menu.prototype.superClass.renderUI.call(this);var a=this.get("type");if(a=="tileless"){AUI.addClass(this.el("container"),"AUI_Menu_nav_titleless")}},bindUI:function(){AUI.Menu.prototype.superClass.bindUI.call(this);this._on("change:items",function(a){this._clearMenuItems();this._drawMenuItems()}.delegate(this));this.addListener("container","click",function(g){var h=AUI.getEventTarget(g);var b=h.id.match("^AUI_Menu_item_(.*?)(_label|_icon|_li)$");if(!b){return}var e=b[1];var i=this.get("itemObjs")[e];if(b&&i){var d=this.get("itemClickListeners");var a=null;if(d[e]&&!i.url){a=d[e]}if(a){a.call(this)}else{var f="boo";var j={item:{id:i.id,label:i.label}};this.fireEvent("itemClicked",j)}this._hideUp()}else{}}.delegate(this));if(this.get("fixed")){this.set("documentClickListener",function(a){if(this._shownSubMenu){this.set("hoveredItemId",undefined);this._hideSubMenu()}}.delegate(this))}else{if(this.get("parentMenu")){this.addListener("container","mouseover",function(a){this.get("parentMenu")._cancelSubMenuHide();this.get("parentMenu")._cancelSubMenuShow()}.delegate(this))}}this._on("beforeChange:focus",function(a){if(a.newValue&&this.get("items").length){this.el("item_"+this.get("items")[0].id+"_li").focus()}}.delegate(this));this._on("change:highlightedItemId",function(a){if(a.oldValue){this._unhighlightItem(a.oldValue)}if(a.newValue){this._highlightItem(a.newValue)}}.delegate(this));this._on("change:hoveredItemId",function(a){var b=this.get("parentLiId");if(b){this.get("parentMenu").set("hoveredItemId",b)}if(a.oldValue){this._removeHoverHighlight(a.oldValue)}if(a.newValue){this._addHoverHighlight(a.newValue)}}.delegate(this));this.addListener("container","keydown",function(k){var j=AUI.getKey(k);if(j=="up"||j=="down"||j=="left"||j=="right"||j=="space"||j=="return"){AUI.stopEvent(k,false);var f=this.get("items");var h=this.get("hoveredItemId");if(!h){return}var e;for(var b=0;b<f.length;b++){if(f[b].id==h){e=b;break}}if(j=="up"||j=="down"){var d;var f=this.get("items");if(j=="up"){d=Math.max(0,e-1)}else{if(j=="down"){d=Math.min(f.length-1,e+1)}}if(this._shownSubMenu){this._hideSubMenu()}this.set("hoveredItemId",f[d].id);this.el("item_"+f[d].id+"_li").focus();AUI.stopPropagation(k)}else{if(j=="right"){if(f[e].children&&f[e].children.length){this._showSubMenu(f[e].id);this.get("item_"+h+"_subMenu").set("focus",true);this.set("focus",false,true);AUI.stopPropagation(k)}}else{if(j=="left"){var g=this.get("parentMenu");if(g){this.hide();g.get("item_"+g.get("hoveredItemId")+"_subMenu").set("focus",false);g.set("focus",true,true);if(AUI.ieVer&&AUI.ieVer==7){g.el("item_"+g.get("hoveredItemId")+"_li").tabIndex=0;g.el("item_"+g.get("hoveredItemId")+"_li").focus();g.el("item_"+g.get("hoveredItemId")+"_li").tabIndex=-1}else{g.el("item_"+g.get("hoveredItemId")+"_li").focus()}g._addHoverHighlight(g.get("hoveredItemId"));AUI.stopPropagation(k)}}else{if(j=="space"||j=="return"){AUI.stopEvent(k,false);var a=this.get("itemClickListeners");if(a[h]){a[h].call(this);this._hideUp();this.set("focus",false);this.get("rootMenu").set("hoveredItemId",undefined)}else{var l={item:{id:h,label:this.get("itemObjs")[h].label}};this.set("focus",true);this.fireEvent("itemClicked",l)}}}}}}else{if(j=="escape"||j=="tab"){this._hideUp();this.set("focus",false);this.get("rootMenu").set("hoveredItemId",undefined)}}}.delegate(this))},_clearMenuItems:function(){var a=this.get("itemObjs");var b=this.get("subMenus");this.set("hoveredItemId",undefined);this.set("highlightedItemId",undefined);for(var d in a){this.removeEl("item_"+d+"_label");this.removeEl("item_"+d+"_li");if(d in b){b[d].destroy();this.removeAttr("item_"+d+"_subMenu")}}this.set("itemObjs",{});this.set("subMenus",{})},_drawMenuItems:function(){var a=this.el("container");var d=this.get("items");var b=this.get("itemObjs");for(var e=0;e<d.length;e++){var f=d[e];if(b[f.id]==undefined){b[f.id]=d[e]}else{throw this.exception("DuplicateItemId",f.id)}this._drawMenuItem(d[e],a)}if(d[0]){this.el("item_"+d[0].id+"_li").tabIndex=0;this.addListener("item_"+d[0].id+"_li","focus",function(g){var h=this.get("items");this.set("hoveredItemId",h[0].id)}.delegate(this))}},_makeVisible:function(d){AUI.Menu.prototype.superClass._makeVisible.call(this,d);if(this.get("fixed")){var a=this.get("documentClickListener");if(d){this.addListener(document,"click",a)}else{if(a){var b=this.removeListener(document,"click",a)}}}},syncUI:function(a){AUI.Menu.prototype.superClass.syncUI.call(this);this._drawMenuItems();if(this.get("fixed")){AUI.addClass(this.el("container"),"AUI_Menu_fixed")}else{this.set("visible",false)}if(this.get("width")){this._setWidth(this.get("width"))}},_setWidth:function(a){this.el("container").style.width=a}});AUI.Widget.prototype.DuplicateItemIdError=new_constructor(AUI.Exception,function(a){this.message="cannot add item; duplicate ID: "+a},{name:"DuplicateItemIdError"});AUI.Widget.prototype.InvalidItemConfigError=new_constructor(AUI.Exception,function(a){this.message="cannot add item; configuration invalid: "+a},{name:"InvalidItemConfigError"});AUI.ProgressBar=new_constructor(AUI.Widget,function(a){AUI.ProgressBar.prototype.superClass.initializer.call(this,a,{tag:"div",props:{className:"AUI_ProgressBar"}})},{toString:function(){return"ProgressBar"},initAttrs:function(){AUI.ProgressBar.prototype.superClass.initAttrs.call(this);this.addAttr("anim",{value:new AUI.Animation()});this.addAttr("progress",{transform:function(a){return Math.max(Math.min(a,100),0)},valid:function(a){return AUI.isNumber(a)&&a>=0&&a<=100}});this.addAttr("size",{value:"large",valid:function(a){return a=="small"||a=="large"}});this.addAttr("width",{transform:function(a){if(!isNaN(a)){return a+"px"}else{return a}}})},renderUI:function(){AUI.ProgressBar.prototype.superClass.renderUI.call(this);this.addEl("fill",{tag:"div",props:{className:"AUI_ProgressBar_fill"},append:this.el("container")})},bindUI:function(){AUI.ProgressBar.prototype.superClass.bindUI.call(this);this._on("change:width",function(a){this._setWidth(a.newValue)});this._on("change:size",function(a){this._setSize(a.newValue)});this._on("change:progress",function(a){this._setProgress(a.oldValue,a.newValue)})},syncUI:function(a){AUI.ProgressBar.prototype.superClass.syncUI.call(this);this._setSize(this.get("size"));var b=this.get("width");if(b==undefined){if(this.get("size")=="small"){this.set("width",40)}else{this.set("width",75)}}else{this._setWidth(b)}this._setProgress(0,this.get("progress"),false)},_setSize:function(a){if(a=="small"){AUI.addClass(this.el("container"),"AUI_ProgressBar_small")}else{AUI.removeClass(this.el("container"),"AUI_ProgressBar_small")}},_setWidth:function(a){this.el("container").style.width=a},_setProgress:function(b,e,a){if(a==undefined){a=true}if(a){var d=this.get("anim");d.clearSteps();d.addStep({el:this.el("fill"),props:{width:{from:this.el("fill").style.width,to:e+"%"}},duration:this.SLIDE_DURATION});d.start()}else{this.el("fill").style.width=e+"%"}},SLIDE_DURATION:250});AUI.SearchField=new_constructor(AUI.Widget,function(a){AUI.SearchField.prototype.superClass.initializer.call(this,a,{tag:"div",props:{className:"AUI_SearchField AUI_SearchIcon"}})},{initAttrs:function(){AUI.SearchField.prototype.superClass.initAttrs.call(this);this.addAttr("input",{value:AUI.Input(),enumerable:false,writeable:false});this.addAttr("value",{get:function(){return this.get("input").get("value")},set:function(a){return this.get("input").set("value",a)}});this.addAttr("name",{get:function(){return this.get("input").get("name")},set:function(a){return this.get("input").set("name",a)}});this.addAttr("placeholder",{get:function(){return this.get("input").get("placeholder")},set:function(a){return this.get("input").set("placeholder",a)}});this.addAttr("width",{get:function(){return this.get("input").get("width")},set:function(a){return this.get("input").set("width",a)}});this.addAttr("formSubmit",{value:false,valid:AUI.isBoolean})},renderUI:function(){AUI.SearchField.prototype.superClass.renderUI.call(this);this.get("input").set("parent",this.el("container"));this.get("input").render();this.addEl("closeButton",{tag:"div",props:{className:"AUI_SearchField_Close"},append:this.el("container")})},initEvents:function(){AUI.SearchField.prototype.superClass.initEvents.call(this);this.bindEvent("beforeSubmit");this.bindEvent("submit");this.bindEvent("clear")},bindUI:function(){AUI.SearchField.prototype.superClass.bindUI.call(this);this.get("input")._on("set:value",function(a){if(a.newValue==""){this._hideClose()}else{this._showClose()}this.fireEvent("set:value",a)}.delegate(this));this.addListener("closeButton","click",function(a){if(this.get("enabled")){var b=this.get("input").get("value");this.get("input").set("value","");this.fireEvent("clear",{oldValue:b,newValue:""})}}.delegate(this));this.get("input")._on("change:value",function(a){this.fireEvent("change:value",a)}.delegate(this));this.get("input")._on("beforeChange:value",function(a){this.fireEvent("beforeChange:value",a)}.delegate(this));this._on("change:enabled",function(a){if(!a.newValue){this.get("input").set("enabled",false);AUI.addClass(this.el("container"),"disabled")}else{this.get("input").set("enabled",true);AUI.removeClass(this.el("container"),"disabled")}}.delegate(this));this.get("input").addListener("container","keydown",function(a){var d=AUI.getKeyCode(a);if(d==13){var b=this.fireEvent("beforeSubmit",{value:this.get("value")});if(b){this.fireEvent("submit",{value:this.get("value")});if(!this.get("formSubmit")){a.preventDefault()}}}else{if(d==27){this.set("value","")}}}.delegate(this))},syncUI:function(){AUI.SearchField.prototype.superClass.syncUI.call(this);if(!this.get("input").get("value")){this._hideClose()}if(!this.get("enabled")){this.get("input").set("enabled",false);AUI.addClass(this.el("container"),"disabled")}if(!this.get("placeholder")){this.set("placeholder","Search")}},_hideClose:function(){AUI.addClass(this.el("closeButton"),"hidden")},_showClose:function(){AUI.removeClass(this.el("closeButton"),"hidden")}});AUI.SimpleSearch=new_constructor(AUI.SearchField,function(a){AUI.SimpleSearch.prototype.superClass.initializer.call(this,a)},{renderUI:function(){AUI.SimpleSearch.prototype.superClass.renderUI.call(this);this.addEl("searchButton",{tag:"button",props:{className:"AUI_SearchField_Search"},attrs:{tabindex:0,type:this.get("formSubmit")?"submit":"button"},append:this.el("container")});this.addEl("searchImage",{tag:"div",append:this.el("searchButton")});AUI.removeClass(this.el("container"),"AUI_SearchIcon")},bindUI:function(){AUI.SimpleSearch.prototype.superClass.bindUI.call(this);this.addListener("searchButton","click",function(a){var b=this.fireEvent("beforeSubmit",{value:this.get("value")});if(b){this.fireEvent("submit",{value:this.get("value")})}}.delegate(this));this._on("change:enabled",function(a){if(!a.newValue){this.el("searchButton").disabled=true}else{this.el("searchButton").disabled=false}}.delegate(this))},syncUI:function(){AUI.SimpleSearch.prototype.superClass.syncUI.call(this);if(!this.get("enabled")){this.el("searchButton").disabled=true}}});AUI.Panels=new_constructor(AUI.Widget,function(a,b){if(!b){b={tag:"div",props:{className:"AUI_Panels"}}}AUI.Panels.prototype.superClass.initializer.call(this,a,b)},{toString:function(){return"Panels"},initAttrs:function(){AUI.Panels.prototype.superClass.initAttrs.call(this);this.addAttr("panels",{value:[],valid:AUI.isArray});this.addAttr("currentPanel",{value:undefined})},hasPanel:function(d){var a=this.get("panels");for(var b=0;b<a.length;b++){if(a[b].id==d){return true}}return false},addPanel:function(a){if(!a.hasOwnProperty("id")){throw this.exception("InvalidPanelConfig","panelConfig.id not provided")}if(this.hasPanel(a.id)){throw this.exception("DuplicatePanelId",a.id)}if(!a.hasOwnProperty("title")){throw this.exception("InvalidPanelConfig","panelConfig.title not provided")}if(!a.hasOwnProperty("title")){throw this.exception("InvalidPanelConfig","panelConfig.title not provided")}this.get("panels").push(a)},addPanels:function(b){for(var a=0;a<b.length;a++){this.addPanel(b[a])}return this},removePanel:function(b){if(!this.hasPanel(b)){throw this.exception("PanelDoesNotExist","remove",b)}var a=this.get("panels");this._removePanel(panel)},_removePanel:function(a){this.removeEl("panel_"+a.id);AUI.removeItemFromArray(a,this.get("panels"))},numPanels:function(){return this.get("panels").length},clearPanels:function(d){var a=this.get("panels");for(var b=0;b<a.length;b++){this._removePanel(a[b])}},setPanelContent:function(a,b){if(!this.hasPanel(a)){throw this.exception("PanelDoesNotExist","set panel content",a)}this.el("panel_"+panel.id).innerHTML=b},showPanel:function(a){if(!this.hasPanel(a)){throw this.exception("PanelDoesNotExist","show",a)}this.set("currentPanel",a)},_showPanel:function(b,a){if(a){AUI.addClass(this.el("panel_"+a),"hidden")}AUI.removeClass(this.el("panel_"+b),"hidden")},_renderPanel:function(e){var b={tag:"div",props:{className:"AUI_Panels_panel hidden"},append:this.el("panelContainer")};if(e.content){b.props.innerHTML=e.content}var a=this.addEl("panel_"+e.id,b);if(e.panel){var d=AUI.getEl(e.panel);if(!d){throw this.exception("InvalidPanelConfig","panel element specified in panelConfig.panel cannot be found")}a.appendChild(d)}},_renderPanels:function(){var a=this.get("panels");for(var b=0;b<a.length;b++){this._renderPanel(a[b],b)}},renderUI:function(){AUI.Panels.prototype.superClass.renderUI.call(this);this.addEl("panelContainer",{tag:"div",props:{className:"AUI_Panels_panelContainer"},append:this.el("container")})},bindUI:function(){AUI.Panels.prototype.superClass.bindUI.call(this);this._on("beforeChange:currentPanel",function(a){if(!this.hasPanel(a.newValue)){a.preventDefault()}});this._on("change:currentPanel",function(a){this._showPanel(a.newValue,a.oldValue)});this._on("change:panels",function(a){this._clearPanels();this._renderPanels()})},syncUI:function(a){AUI.Panels.prototype.superClass.syncUI.call(this);this._renderPanels();if(this.get("currentPanel")){this._showPanel(this.get("currentPanel"),undefined,false)}}});AUI.Panels.prototype.PanelDoesNotExistError=new_constructor(AUI.Exception,function(a,b){this.message="cannot "+a+" panel; panel with id "+b+" does not exist"},{name:"PanelDoesNotExistError"});AUI.Panels.prototype.DuplicatePanelIdError=new_constructor(AUI.Exception,function(a){this.message="cannot add panel; duplicate ID: "+a},{name:"DuplicatePanelIdError"});AUI.Panels.prototype.InvalidPanelConfigError=new_constructor(AUI.Exception,function(a){this.message="cannot add panel; configuration invalid: "+a},{name:"InvalidPanelConfigError"});AUI.Tabs=new_constructor(AUI.Panels,function(a){AUI.Tabs.prototype.superClass.initializer.call(this,a,{tag:"div",props:{className:"AUI_Tabs"}})},{toString:function(){return"Tabs"},initAttrs:function(){AUI.Tabs.prototype.superClass.initAttrs.call(this);this.addAttr("type",{value:"secondary",valid:function(a){return !this.get("rendered")&&(a=="primary"||a=="secondary"||a=="finger")}});this.addAttr("color",{value:"grey",valid:function(a){return !this.get("rendered")&&(a=="white"||a=="grey")}})},_showPanel:function(b,a){AUI.Tabs.prototype.superClass._showPanel.call(this,b,a);if(a){AUI.removeClass(this.el("tab_"+a),"AUI_Tabs_selected")}AUI.addClass(this.el("tab_"+b),"AUI_Tabs_selected")},_renderPanel:function(a){AUI.Tabs.prototype.superClass._renderPanel.call(this,a);var b={tag:"li",props:{className:"AUI_Tabs_tab"},append:this.el("tabContainer")};if(a.title){b.props.innerHTML=a.title}this.addEl("tab_"+a.id,b);this.addListener("tab_"+a.id,"click",function(){this.set("currentPanel",a.id)}.delegate(this))},renderUI:function(){AUI.Tabs.prototype.superClass.renderUI.call(this);var a=this.el("container");if(this.get("color")=="white"){AUI.addClass(this.el("container"),"AUI_Tabs_white")}var b=this.get("type");if(b=="finger"){this.addEl("table",{tag:"table",append:this.el("container")});this.addEl("tbody",{tag:"tbody",append:this.el("table")});this.addEl("tr",{tag:"tr",append:this.el("tbody")});this.addEl("tabsCell",{tag:"td",props:{className:"AUI_Tabs_finger_tabContainer"},append:this.el("tr")});this.addEl("panelsCell",{tag:"td",props:{className:"AUI_Tabs_finger_panelContainer"},append:this.el("tr")});a=this.el("tabsCell");this.el("panelsCell").appendChild(this.el("panelContainer"))}this.addEl("tabContainer",{tag:"ul",props:{className:"AUI_Tabs_tabContainer"},prepend:a})},syncUI:function(){AUI.Tabs.prototype.superClass.syncUI.call(this);AUI.addClass(this.el("container"),"AUI_Tabs_"+this.get("type"));if(this.get("currentPanel")==undefined){if(this.get("panels").length!=0){this.set("currentPanel",this.get("panels")[0].id)}}}});AUI.Accordion=new_constructor(AUI.Panels,function(a){AUI.Accordion.prototype.superClass.initializer.call(this,a,{tag:"div",props:{className:"AUI_Accordion"}})},{toString:function(){return"Accordion"},initAttrs:function(){AUI.Accordion.prototype.superClass.initAttrs.call(this);this.addAttr("anim",{value:new AUI.Animation(),writeable:false,enumerable:false})},_showPanel:function(g,e,a){var f=this.get("anim");f.clearSteps();if(a===undefined){a=true}if(a){this.el("panel_"+g).style.width=(this.el("top_"+g).offsetWidth)+"px";var d=this.el("panel_"+g).offsetHeight;this.el("panel_"+g).style.overflow="hidden";var b={duration:300,els:[{el:this.el("panel_"+g),props:{height:{from:0,to:d}}}],onStart:function(){AUI.removeClass(this.el("panel_"+g),"hidden")}.delegate(this),onComplete:function(){if(e){AUI.removeClass(this.el("section_"+e),"AUI_Accordion_expanded");AUI.addClass(this.el("panel_"+e),"hidden");this.el("panel_"+e).style.height=""}this.el("panel_"+g).style.width="";this.el("panel_"+g).style.height="";this.el("panel_"+g).style.overflow="";AUI.addClass(this.el("section_"+g),"AUI_Accordion_expanded")}.delegate(this)};if(e){this.el("panel_"+e).style.overflow="hidden";b.els.push({el:this.el("panel_"+e),props:{height:{from:this.el("panel_"+e).offsetHeight,to:0}},onComplete:function(){this.el("panel_"+e).style.overflow=""}})}f.addStep(b);f.start()}else{AUI.Accordion.prototype.superClass._showPanel.call(this,g,e);AUI.addClass(this.el("section_"+g),"AUI_Accordion_expanded");if(e){AUI.removeClass(this.el("section_"+e),"AUI_Accordion_expanded")}}},_renderPanel:function(d,e){AUI.Accordion.prototype.superClass._renderPanel.call(this,d);var b=this.addEl("section_"+d.id,{tag:"div",props:{className:"AUI_Accordion_section"},append:this.el("panelContainer")});var a=this.addEl("top_"+d.id,{tag:"div",props:{className:"AUI_Accordion_heading"},append:b});this.addEl("icon_"+d.id,{tag:"div",props:{className:"AUI_Accordion_icon"},append:a});this.addEl("heading_"+d.id,{tag:"span",props:{innerHTML:d.title||"",className:"AUI_Accordion_title"},append:a});this.addEl("subHeading_"+d.id,{tag:"span",props:{innerHTML:d.description||"",className:"AUI_Accordion_description"},append:a});b.appendChild(this.el("panel_"+d.id));this.addListener("top_"+d.id,"click",function(){if(this.get("enabled")){this.set("currentPanel",d.id)}}.delegate(this));if(e==this.get("panels").length-1){AUI.addClass(b,"AUI_Accordion_lastSection")}},renderUI:function(){AUI.Accordion.prototype.superClass.renderUI.call(this)},syncUI:function(){AUI.Accordion.prototype.superClass.syncUI.call(this)}});AUI.Steps=new_constructor(AUI.Panels,function(a){AUI.Steps.prototype.superClass.initializer.call(this,a,{tag:"div",props:{className:"AUI_Steps"}})},{toString:function(){return"Steps"},initAttrs:function(){AUI.Steps.prototype.superClass.initAttrs.call(this);this.addAttr("color",{value:"blue",valid:function(a){return a=="blue"||a=="green"}});this.addAttr("clickable",{value:false,valid:AUI.isBoolean})},addSteps:function(){AUI.Steps.prototype.superClass.addPanels.apply(this,arguments)},_showPanel:function(g,d){AUI.Steps.prototype.superClass._showPanel.call(this,g,d);var b=this.get("panels");var a=-1;for(var f=0;f<=b.length;f++){if(b[f].id==g){a=f;break}}if(a==0){}else{for(var f=0;f<a;f++){var e=b[f].id;AUI.removeClass(this.el("stepNumberTable_"+e),"AUI_Steps_selected");AUI.addClass(this.el("stepNumberTable_"+e),"AUI_Steps_complete")}}if(a==b.length-1){}else{for(var f=a+1;f<b.length;f++){var e=b[f].id;AUI.removeClass(this.el("stepNumberTable_"+e),"AUI_Steps_selected");AUI.removeClass(this.el("stepNumberTable_"+e),"AUI_Steps_complete")}}AUI.addClass(this.el("stepNumberTable_"+g),"AUI_Steps_selected");AUI.addClass(this.el("stepLabel_"+g),"AUI_Steps_stepLabel_selected");if(d){AUI.removeClass(this.el("stepLabel_"+d),"AUI_Steps_stepLabel_selected")}AUI.removeClass(this.el("stepNumberTable_"+g),"AUI_Steps_complete")},_renderPanel:function(b,e){AUI.Steps.prototype.superClass._renderPanel.call(this,b);var d={tag:"td"};d.insertBefore=this.el("stepTableNumberRowRightBarCurve");this.addEl("stepTd_"+b.id,d);this.addEl("stepNumberTable_"+b.id,{tag:"table",props:{className:"AUI_Steps_stepNumberTable"},append:this.el("stepTd_"+b.id)});this.addEl("stepNumberTbody_"+b.id,{tag:"tbody",append:this.el("stepNumberTable_"+b.id)});this.addEl("stepNumberTr_"+b.id,{tag:"tr",append:this.el("stepNumberTbody_"+b.id)});this.addEl("stepNumberLine_left_"+b.id,{tag:"td",props:{className:"AUI_Steps_stepLineLeft"},append:this.el("stepNumberTr_"+b.id)});this.addEl("stepNumberTd_"+b.id,{tag:"td",props:{className:"AUI_Steps_stepNumber",innerHTML:e+1},append:this.el("stepNumberTr_"+b.id)});this.addEl("stepNumberLine_right_"+b.id,{tag:"td",props:{className:"AUI_Steps_stepLineRight"},append:this.el("stepNumberTr_"+b.id)});var a={tag:"td",props:{className:"AUI_Steps_stepLabel",innerHTML:b.title||""},insertBefore:this.el("stepTableLabelRightCell")};b.clickListener=this._makeClickListener(b.id);this.addEl("stepLabel_"+b.id,a)},renderUI:function(){AUI.Steps.prototype.superClass.renderUI.call(this);this.addEl("stepTableContainer",{tag:"div",props:{className:"AUI_Steps_stepTableContainer"},prepend:this.el("container")});this.addEl("stepTable",{tag:"table",props:{className:"AUI_Steps_stepList noSelect"},append:this.el("stepTableContainer")});this.addEl("stepTableBody",{tag:"tbody",append:this.el("stepTable")});this.addEl("stepTableNumberRow",{tag:"tr",append:this.el("stepTableBody")});this.addEl("stepTableNumberRowLeftBarCurve",{tag:"td",props:{className:"AUI_Steps_stepLeftBarCurve"},append:this.el("stepTableNumberRow")});this.addEl("stepTableNumberRowRightBarCurve",{tag:"td",props:{className:"AUI_Steps_stepRightBarCurve"},append:this.el("stepTableNumberRow")});this.addEl("stepTableLabelRow",{tag:"tr",append:this.el("stepTableBody")});this.addEl("stepTableLabelLeftCell",{tag:"td",append:this.el("stepTableLabelRow")});this.addEl("stepTableLabelRightCell",{tag:"td",append:this.el("stepTableLabelRow")})},bindUI:function(){AUI.Steps.prototype.superClass.bindUI.call(this);this._on("change:clickable",function(a){this._setClickable(a.newValue)});this._on("change:color",function(a){this._setColor(a.newValue)})},syncUI:function(){AUI.Steps.prototype.superClass.syncUI.call(this);this._setColor(this.get("color"));this._setClickable(this.get("clickable"));if(this.get("currentPanel")==undefined){if(this.get("panels").length!=0){this.set("currentPanel",this.get("panels")[0].id)}}},_setColor:function(a){this.el("container").className="AUI_Steps";AUI.addClass(this.el("container"),"AUI_Steps_"+a)},_makeClickListener:function(a){return function(b){this.set("currentPanel",a)}.delegate(this)},_setClickable:function(a){if(a){AUI.addClass(this.el("stepTable"),"AUI_Steps_clickable");var d=this.get("panels");for(var e=0;e<d.length;e++){var b=d[e];this.addListener("stepNumberTd_"+b.id,"click",b.clickListener)}}else{AUI.removeClass(this.el("stepTable"),"AUI_Steps_clickable");var d=this.get("panels");for(var e=0;e<d.length;e++){var b=d[e];this.removeListener("stepNumberTd_"+b.id,"click",b.clickListener)}}}});AUI.CollapsiblePanel=new_constructor(AUI.Widget,function(a){AUI.CollapsiblePanel.prototype.superClass.initializer.call(this,a,{tag:"div",props:{className:"AUI_CollapsiblePanel"}})},{toString:function(){return"CollapsiblePanel"},initAttrs:function(){AUI.CollapsiblePanel.prototype.superClass.initAttrs.call(this);this.addAttr("panel",{writeOnce:true,valid:AUI.isEl,transform:AUI.getEl});this.addAttr("title",{value:""});this.addAttr("description",{value:""});this.addAttr("content",{value:""});this.addAttr("expanded",{value:true,valid:AUI.isBoolean});this.addAttr("animate",{value:true,valid:AUI.isBoolean});this.addAttr("anim",{value:new AUI.Animation(),writeable:false,enumerable:false})},renderUI:function(){if(this.get("panel")&&this.get("panel").parentNode){this.set("parent",this.get("panel").parentNode);delete this.get("containerDescriptor").append;delete this.get("containerDescriptor").prepend;delete this.get("containerDescriptor").insertAfter;this.get("containerDescriptor").insertBefore=this.get("panel")}AUI.CollapsiblePanel.prototype.superClass.renderUI.call(this);var b=this.addEl("top",{tag:"div",props:{className:"AUI_CollapsiblePanel_heading"},append:this.el("container")});this.addEl("icon",{tag:"div",props:{className:"AUI_CollapsiblePanel_icon"},append:b});this.addEl("title",{tag:"span",props:{innerHTML:this.get("title"),className:"AUI_CollapsiblePanel_title"},append:b});this.addEl("description",{tag:"span",props:{innerHTML:this.get("description"),className:"AUI_CollapsiblePanel_description"},append:b});var d={tag:"div",props:{className:"AUI_CollapsiblePanel_content"},append:this.el("container")};if(this.get("content")){d.props.innerHTML=this.get("content")}var a=this.addEl("content",d);if(this.get("panel")){a.appendChild(this.get("panel"))}},bindUI:function(){AUI.CollapsiblePanel.prototype.superClass.bindUI.call(this);this._on("change:expanded",function(a){this._doExpand(a.newValue)}.delegate(this));this._on("change:title",function(a){this._setTitle(a.newValue)}.delegate(this));this._on("change:description",function(a){this._setDescription(a.newValue)}.delegate(this));this._on("change:content",function(a){this._setContent(a.newValue)}.delegate(this));this.addListener("top","click",function(){this.set("expanded",!this.get("expanded"))}.delegate(this))},syncUI:function(){AUI.CollapsiblePanel.prototype.superClass.syncUI.call(this);this._doExpand(this.get("expanded"),false)},_setTitle:function(a){this.el("title").innerHTML=a},_setDescription:function(a){this.el("description").innerHTML=a},_setContent:function(a){this.el("content").innerHTML=a},_doExpand:function(e,a){var f=this.get("anim");f.clearSteps();if(a===undefined){a=this.get("animate")}if(e){if(a){this.el("content").style.overflow="hidden";this.el("content").style.width=(this.el("top").offsetWidth)+"px";var d=this.el("content").offsetHeight;var b={duration:300,els:[{el:this.el("content"),props:{height:{from:0,to:d}}}],onStart:function(){AUI.removeClass(this.el("content"),"hidden")}.delegate(this),onComplete:function(){this.el("content").style.width="";this.el("content").style.height="";this.el("content").style.overflow="";AUI.addClass(this.el("container"),"AUI_CollapsiblePanel_expanded")}.delegate(this)};f.addStep(b);f.start()}else{AUI.addClass(this.el("container"),"AUI_CollapsiblePanel_expanded")}}else{if(!AUI.ieVer||AUI.ieVer>7){this.el("content").style.overflow="hidden"}if(a){var b={duration:300,els:[{el:this.el("content"),props:{height:{from:this.el("content").offsetHeight,to:0}}}],onComplete:function(){AUI.addClass(this.el("content"),"hidden");this.el("content").style.width="";this.el("content").style.height="";this.el("content").style.overflow="";AUI.removeClass(this.el("container"),"AUI_CollapsiblePanel_expanded")}.delegate(this)};if(AUI.ieVer<8){b.onStart=function(){this.el("content").style.overflow="hidden"}.delegate(this)}f.addStep(b);f.start()}else{AUI.removeClass(this.el("container"),"AUI_CollapsiblePanel_expanded");AUI.addClass(this.el("content"),"hidden")}}}});AUI.Notification=new_constructor(AUI.Widget,function(a){AUI.Notification.prototype.superClass.initializer.call(this,a,{tag:"div",props:{className:"AUI_Notification"}})},{toString:function(){return"Notification"},initAttrs:function(){AUI.Notification.prototype.superClass.initAttrs.call(this);this.addAttr("width",{value:null,valid:AUI.isNumber});this.addAttr("height",{value:null,valid:AUI.isNumber});this.addAttr("message",{value:""});this.addAttr("animate",{value:true,valid:AUI.isBoolean});this.addAttr("anim",{value:new AUI.Animation(),writeable:false,enumerable:false})},renderUI:function(){AUI.Notification.prototype.superClass.renderUI.call(this);this.addEl("contentContainer",{tag:"div",props:{className:"AUI_Notification_Container"},append:this.el("container")})},bindUI:function(){AUI.Notification.prototype.superClass.bindUI.call(this);this._on("change:message",function(a){this._setContent(a.newValue)});this._on("change:width",function(a){this._setWidth(a.newValue)});this._on("change:height",function(a){this._setHeight(a.newValue)})},syncUI:function(){AUI.Notification.prototype.superClass.syncUI.call(this);if(this.get("width")){this._setWidth(this.get("width"))}if(this.get("height")){this._setHeight(this.get("height"))}this._setContent(this.get("message"))},_setWidth:function(a){this.el("contentContainer").style.width=a+"px"},_setHeight:function(a){this.el("contentContainer").style.height=a+"px"},_setContent:function(a){this.el("contentContainer").innerHTML=a},_makeVisible:function(b){var a=this.get("anim");if(!this.get("animate")||!this.get("rendered")){return AUI.Notification.prototype.superClass._makeVisible.call(this,b)}if(b){a.clearSteps();a.addStep({el:this.el("container"),props:{opacity:{from:0,to:1}},onStart:function(){AUI.Notification.prototype.superClass._makeVisible.call(this,true)}.delegate(this),duration:400})}else{a.clearSteps();a.addStep({el:this.el("container"),props:{opacity:{from:1,to:0}},onComplete:function(){AUI.Notification.prototype.superClass._makeVisible.call(this,false)}.delegate(this),duration:400})}a.start()}});AUI.Alert=new_constructor(AUI.Notification,function(a){AUI.Alert.prototype.superClass.initializer.call(this,a)},{initAttrs:function(){AUI.Alert.prototype.superClass.initAttrs.call(this);this.addAttr("type",{value:"error",valid:function(b){return this._colormap.hasOwnProperty(b)}});this.addAttr("closable",{value:false,valid:AUI.isBoolean});this.addAttr("header",{value:false,valid:AUI.isBoolean});var a=null;this.addAttr("label",{set:function(b){a=b},get:function(){return a==null?this.get("type"):a}})},_setContent:function(a){this.el("content").innerHTML=a},renderUI:function(){AUI.Alert.prototype.superClass.renderUI.call(this);this.addEl("icon",{tag:"div",props:{className:"AUI_Alert_Icon"},prepend:this.el("container")});this.addEl("label",{tag:"strong",props:{className:"AUI_Alert_Label"},append:this.el("contentContainer")});this.addEl("content",{tag:"span",props:{className:"AUI_Alert_Content"},append:this.el("contentContainer")});this.addEl("close",{tag:"div",props:{className:"AUI_CloseButton"},prepend:this.el("container")});AUI.addClass(this.el("container"),"AUI_Alert")},bindUI:function(){AUI.Alert.prototype.superClass.bindUI.call(this);this.addListener("close","click",function(a){this.hide()}.delegate(this));this._on("change:type",function(a){this._setType(a.newValue,a.oldValue)});this._on("change:header",function(a){this._setHasHeader(a.newValue)});this._on("change:label",function(a){this._setLabel(a.newValue)});this._on("change:closable",function(a){this._setClosable(a.newValue)})},syncUI:function(){AUI.Alert.prototype.superClass.syncUI.call(this);this._setType(this.get("type"));this._setClosable(this.get("closable"));this._setLabel(this.get("label"));this._setHasHeader(this.get("header"))},_setType:function(a,b){if(b){AUI.removeClass(this.el("container"),"AUI_Notification_"+this._colormap[b]);AUI.removeClass(this.el("icon"),"AUI_Alert_Icon_"+b.capitalize())}AUI.addClass(this.el("container"),"AUI_Notification_"+this._colormap[a]);AUI.addClass(this.el("icon"),"AUI_Alert_Icon_"+a.capitalize())},_setLabel:function(a){if(a==""){this.el("label").style.display="none"}else{this.el("label").innerHTML=a;this.el("label").style.display=""}},_setHasHeader:function(a){if(a){AUI.addClass(this.el("container"),"AUI_Alert_Header");AUI.addClass(this.el("contentContainer"),"AUI_Alert_Header")}else{AUI.removeClass(this.el("container"),"AUI_Alert_Header");AUI.removeClass(this.el("contentContainer"),"AUI_Alert_Header")}},_setClosable:function(a){if(a){AUI.addClass(this.el("container"),"AUI_Alert_closable")}else{AUI.removeClass(this.el("container"),"AUI_Alert_closable")}},_colormap:{error:"Red",notice:"Orange",success:"Green",help:"Blue",info:"Blue",loading:"Blue"}});AUI.Tooltip=new_constructor(AUI.Notification,function(a){AUI.Tooltip.prototype.superClass.initializer.call(this,a)},{initAttrs:function(){AUI.Tooltip.prototype.superClass.initAttrs.call(this);this.set("visible",false);if(AUI.ieVer&&AUI.ieVer<8){this.set("animate",false)}this.addAttr("pointAt",{valid:AUI.isEl,transform:AUI.getEl});this.addAttr("zIndex",{value:15000,transform:AUI.getInt,valid:AUI.isNumber});this.addAttr("color",{value:"blue",valid:function(a){if(a=="blue"||a=="green"||a=="orange"||a=="red"){return true}return false}});this.addAttr("position",{value:undefined,valid:function(a){return a==undefined||(AUI.isArray(a)&&a.length==2&&AUI.isNumber(a[0])&&AUI.isNumber(a[1]))}});this.addAttr("pointFrom",{value:"top",valid:function(a){if(a=="top"||a=="left"||a=="right"||a=="bottom"){return true}return false}})},renderUI:function(){this.set("parent",document.body);AUI.Tooltip.prototype.superClass.renderUI.call(this);this.addEl("arrow",{tag:"div",props:{className:"AUI_Notification_Arrow"},append:this.el("container")});this.el("container").style.position="absolute";if(this.get("animate")){this.el("container").style.opacity=0}},bindUI:function(){AUI.Tooltip.prototype.superClass.bindUI.call(this);this._on("beforeChange:visible",function(a){if(a.newValue==true){this._setPosition()}});this._on("change:zIndex",function(a){this._setZIndex(a.newValue)});this._on("change:width",function(a){this._setPosition()});this._on("change:message",function(a){this._setPosition()});this._on("change:height",function(a){this._setPosition()});this._on("change:position",function(a){this._setPosition(a.newValue)});this._on("change:color",function(a){AUI.removeClass(this.el("container"),"AUI_Notification_"+a.oldValue.capitalize());this._setColor(a.newValue)});this._on("change:pointAt",function(a){this._setPosition()});this._on("change:pointFrom",function(a){AUI.removeClass(this.el("arrow"),"AUI_Notification_Arrow"+a.oldValue.capitalize());this._setArrowClass(a.newValue);this._setPosition()})},syncUI:function(){AUI.Tooltip.prototype.superClass.syncUI.call(this);this._setColor(this.get("color"));this._setPosition(this.get("position"));this._setArrowClass(this.get("pointFrom"));this._setZIndex(this.get("zIndex"))},_setZIndex:function(a){this.el("container").style.zIndex=a},_setColor:function(a){AUI.addClass(this.el("container"),"AUI_Notification_"+a.capitalize())},_setArrowClass:function(a){AUI.addClass(this.el("arrow"),"AUI_Notification_Arrow"+a.capitalize())},_setPosition:function(g){var a=0;var b=0;if(!g&&!this.get("pointAt")){return}else{if(!g){g=AUI.findPos(this.get("pointAt"));a=this.get("pointAt").offsetWidth;b=this.get("pointAt").offsetHeight}}var f,e;var d=6;switch(this.get("pointFrom")){case"right":g[1]+=b/2;f=g[1]-this.el("container").offsetHeight/2;e=g[0]+a+d;this.el("arrow").style.top=(this.el("container").offsetHeight/2-this.el("arrow").offsetHeight/2)+"px";this.el("arrow").style.left=(AUI.getStyleUnitValue(AUI.getStyle(this.el("contentContainer"),"padding-left")).value*(-1)-2)+"px";break;case"left":g[1]+=b/2;f=g[1]-this.el("container").offsetHeight/2;e=g[0]-this.el("container").offsetWidth-d;this.el("arrow").style.top=(this.el("container").offsetHeight/2-this.el("arrow").offsetHeight/2)+"px";this.el("arrow").style.left=(this.el("container").offsetWidth+AUI.getStyleUnitValue(AUI.getStyle(this.el("contentContainer"),"padding-left")).value*(-1)+2)+"px";break;case"top":f=g[1]-this.el("container").offsetHeight-d;e=g[0]+a/2-this.el("container").offsetWidth/2;this.el("arrow").style.top=(this.el("container").offsetHeight-3)+"px";this.el("arrow").style.left="";break;case"bottom":f=g[1]+b+d;e=g[0]+a/2-this.el("container").offsetWidth/2;this.el("arrow").style.top=(AUI.getStyleUnitValue(AUI.getStyle(this.el("contentContainer"),"padding-top")).value*(-1)-2)+"px";this.el("arrow").style.left="";break}this.el("container").style.top=f+"px";this.el("container").style.left=e+"px"}});AUI.Input=new_constructor(AUI.Widget,function(a){AUI.Input.prototype.superClass.initializer.call(this,a,{tag:"input",props:{type:"text"}})},{initAttrs:function(){AUI.Input.prototype.superClass.initAttrs.call(this);this.addAttr("placeholder");this.addAttr("width",{value:"100px"});this.addAttr("name");this.addAttr("value",{value:""})},bindUI:function(){AUI.Input.prototype.superClass.bindUI.call(this);this.bindEvent("error:validate");this.addListener("container","keydown",function(a){if(!this.get("enabled")){return}a=a||window.event;if(a.altKey||a.metaKey||a.ctrlKey){return}this.filter(a)}.delegate(this));this.addListener("container","keyup",function(a){if(!this.get("enabled")){return}var b=this.el("container").value;if(b!=this.get("value")){var d=this.getSel();this.set("value",this.el("container").value);this.setSel(d);AUI.preventDefault(a)}else{if(this.validate(b)){this.hideError()}}}.delegate(this));this._on("change:placeholder",function(a){this._setPlaceholder(a.newValue)}.delegate(this));this._on("change:width",function(a){this._setWidth(a.newValue)}.delegate(this));this._on("change:name",function(a){this._setName(a.newValue)});this._on("beforeChange:value",function(a){if(!this.validate(a.newValue)){this.fireEvent("error:validate",{value:a.newValue});a.preventDefault()}});this._on("change:value",function(a){this.update()});this._on("error:validate",function(a){this.showError()})},syncUI:function(){AUI.Input.prototype.superClass.syncUI.call(this);if(this.get("placeholder")){this.el("container").placeholder=this.get("placeholder")}var b=this.get("value");if(b!=undefined){this._setValue(this.get("value"))}this._setWidth(this.get("width"));var a=this.get("name");if(a){this._setName(a)}},getSel:function(){var f=this.el("container");var d={start:0,end:0};if(typeof f.selectionStart=="number"&&typeof f.selectionEnd=="number"){d.start=f.selectionStart;d.end=f.selectionEnd}else{if(document.selection){var b=document.selection.createRange().getBookmark();var e=f.createTextRange();var a=e.duplicate();e.moveToBookmark(b);a.setEndPoint("EndToStart",e);d.start=a.text.length;d.end=d.start+e.text.length}}return d},setSel:function(d){var b=this.el("container");if(b.setSelectionRange){b.focus();b.setSelectionRange(d.start,d.end)}else{if(b.createTextRange){var a=b.createTextRange();a.collapse(true);a.moveEnd("character",d.end);a.moveStart("character",d.start);a.select()}}},_makeEnabled:function(a){if(a){this.el("container").disabled=false}else{this.el("container").disabled=true}AUI.Input.prototype.superClass._makeEnabled.call(this,a)},_setName:function(a){this.el("container").setAttribute("name",a)},_setWidth:function(a){this.el("container").style.width=a},_setValue:function(a){this.el("container").value=a},_setPlaceholder:function(a){this.el("container").placeholder=a},showError:function(){AUI.addClass(this.el("container"),"AUI_Inputs_Errorbox")},hideError:function(){AUI.removeClass(this.el("container"),"AUI_Inputs_Errorbox")},update:function(){if(this.validate(this.get("value"))){this.hideError()}this._setValue(this.get("value"))},filter:function(a){},validate:function(a){return true}});AUI.Input_Integer=new_constructor(AUI.Input,function(a){AUI.Input_Integer.prototype.superClass.initializer.call(this,a)},{filter:function(b){var a=AUI.getKeyCode(b);if(a>=65&&a<=90||b.shiftKey&&(a>=48&&a<=57)||a==106||a==107||a==110||a==111||(a>=186&&a<=188)||a>=190){b.returnValue=false;AUI.preventDefault(b)}if(a==189||a==109){if(this.getSel().start!=0||this.get("value").toString().match(/-/)){b.returnValue=false;AUI.preventDefault(b)}}},validate:function(a){if(a==""){return true}var b=new RegExp("[0-9]|\\.");if(!b.test(a)){return false}return true}});AUI.Input_Combobox=new_constructor(AUI.Input,function(a){AUI.Input_Combobox.prototype.superClass.initializer.call(this,a)},{initAttrs:function(){AUI.Input_Combobox.prototype.superClass.initAttrs.call(this);this.addAttr("values")},validate:function(b){var a=this.get("values");for(var d=0;d<a.length;d++){if(a[d]==b){return true}}return false}});AUI.ComboBox=new_constructor(AUI.Widget,function(a){AUI.ComboBox.prototype.superClass.initializer.call(this,a,{tag:"div",props:{className:"AUI_ComboBox"}})},{initAttrs:function(){AUI.ComboBox.prototype.superClass.initAttrs.call(this);this.addAttr("items",{value:[],valid:AUI.isArray,transform:function(d){if(!d){return}for(var e=0;e<d.length;e++){if(d[e].value==undefined){d[e].value=d[e].label}}return d}});this.addAttr("input",{enumerable:false,writeable:false,value:AUI.Input_Combobox()});this.addAttr("menu",{enumerable:false,writeable:false,value:AUI.Menu()});this.addAttr("name",{set:function(d){return this.get("input").set("name",d)},get:function(d){return this.get("input").get("name")}});this.addAttr("placeholder",{set:function(d){return this.get("input").set("placeholder",d)},get:function(){return this.get("input").get("placeholder")}});this.addAttr("documentClickListener",{value:{hide:function(d){this.set("menuVisible",false);this.removeListener(document,"click",this.get("documentClickListener").hide)}.delegate(this),focus:function(){this.get("input").set("focus",true);this.removeListener(document,"click",this.get("documentClickListener").focus,true)}.delegate(this)},enumerable:false,writeOnce:true});var b=undefined;this.addAttr("value",{set:function(d){if(!this.get("rendered")){b=d;return d}return this._setByValue(d)},get:function(){if(!this.get("rendered")){return b}if(this._indexOfItem("id",this.get("selectedItem"))==undefined){return undefined}return this.get("items")[this._indexOfItem("id",this.get("selectedItem"))].value}});this.addAttr("selectedItem",{valid:function(d){if(this.get("rendered")){if(this.get("menu").get("itemObjs")[d]||d==undefined){return true}return false}return true}});this.addAttr("menuVisible",{value:false,valid:AUI.isBoolean});var a;this.addAttr("width",{get:function(){if(!this.get("rendered")){return a}return this.el("container").style.width||this.el("container").offsetWidth+"px"},set:function(d){if(!this.get("rendered")){a=d;return a}return this._setWidth(d)}})},renderUI:function(){AUI.ComboBox.prototype.superClass.renderUI.call(this);this.addEl("menuContainer",{tag:"div",props:{className:"AUI_MenuContainer"},append:this.el("container")});var a=this.get("input");a.set("parent",this.el("menuContainer"));a.set("values",this._itemsToString(this.get("items")));a.render();var b=this.get("menu");b.set("parent",this.el("menuContainer"));b.set("items",this.get("items"));b.render();this.addEl("more",{tag:"div",props:{className:"AUI_ComboBox_more"},append:this.el("container")});this.addEl("moreTriangle",{tag:"div",props:{className:"AUI_ComboBox_triangle"},append:this.el("more")})},bindUI:function(){AUI.ComboBox.prototype.superClass.bindUI.call(this);this.addListener("more","click",function(a){if(this.get("enabled")){this.set("menuVisible",!this.get("menuVisible"))}else{this.set("menuVisible",false)}}.delegate(this));this._on("change:menuVisible",function(a){var f=function(g){this.get("menu").set("focus",false);this.removeListener(document,"click",this.get("documentClickListener").hide)}.delegate(this);if(a.newValue){this.get("menu").show();this.get("menu").set("focus",true);AUI.addClass(this.el("container"),"down");this.get("menu").set("focus",true);var d=this.get("value");if(d){var b=this._indexOfItem("value",d);if(b){this.get("menu").set("hoveredItemId",this.get("items")[b].id)}}setTimeout(function(){this.addListener(document,"click",this.get("documentClickListener").hide);this.addListener(document,"click",this.get("documentClickListener").focus,true)}.delegate(this),0);this.addListener(window,"blur",f)}else{this.get("menu").hide();this.get("menu").set("focus",false);AUI.removeClass(this.el("container"),"down");var e=this.get("selectedItem");if(e){this._setItem(this.get("items")[this._indexOfItem("id",e)])}this.removeListener(window,"blur",f)}});this.get("menu").on("itemClicked",function(a){this.set("selectedItem",a.item.id)}.delegate(this));this.get("input")._on("change:value",function(a){this.fireEvent("change:value",a)}.delegate(this));this.get("input")._on("beforeChange:value",function(a){this.fireEvent("beforeChange:value",a)}.delegate(this));this.get("input")._on("set:value",function(a){this.fireEvent("set:value",a)}.delegate(this));this._on("change:enabled",function(a){if(!a.newValue){AUI.addClass(this.el("container"),"disabled");this.get("input").set("enabled",false);this.set("menuVisible",false)}else{AUI.removeClass(this.el("container"),"disabled");this.get("input").set("enabled",true)}});this._on("change:items",function(a){var b=this.get("value");this.set("selectedItem",undefined,true);this.set("value",undefined,true);this.get("input").set("values",this._itemsToString(this.get("items")));this.get("menu").set("items",this.get("items"));this.set("value",b,true);if(!this.get("input").validate(b)){this.get("input").fireEvent("error:validate",{value:b})}});this.addListener("container","keydown",function(a){var b=AUI.getKey(a);if(b=="return"){this.get("input").set("focus",true);this.set("menuVisible",!this.get("menuVisible"));AUI.preventDefault(a);this._removeClickListeners();return}if(!this.get("menuVisible")){if(b=="down"||b=="up"){this.set("menuVisible",true);AUI.preventDefault(a);this._removeClickListeners()}}if(b=="escape"||b=="tab"){this.get("input").set("focus",true);if(this.get("menuVisible")){this.set("menuVisible",false)}this._removeClickListeners()}}.delegate(this));this.get("menu")._on("change:focus",function(a){if(!a.newValue){this.set("menuVisible",false)}}.delegate(this));this.get("menu")._on("change:items",function(a){var b=this.get("menu").get("width");this.set("width",b)}.delegate(this))},syncUI:function(){AUI.ComboBox.prototype.superClass.syncUI.call(this);this.get("input").showError=function(){AUI.addClass(this.el("container"),"AUI_Inputs_Errorbox")}.delegate(this);this.get("input").hideError=function(){AUI.removeClass(this.el("container"),"AUI_Inputs_Errorbox")}.delegate(this);if(!this.get("items")||!this.get("items").length){throw this.exception("InvalidItemConfig","No valid items were provided.");return}var b=this.get("items")[this._indexOfItem("value",this.get("value"))];if(b!=undefined){this._setByValue(b.value);this.get("input").set("value",b.value)}if(!this.get("enabled")){this.get("input").set("enabled",false)}var a;if(this.get("width")){a=this.get("width")}else{a=this.get("menu").get("width")}this._setWidth(a)},_removeClickListeners:function(){this.removeListener(document,"click",this.get("documentClickListener").hide);this.removeListener(document,"click",this.get("documentClickListener").focus,true)},_indexOfItem:function(d,e){var a=this.get("items");for(var b=0;b<a.length;b++){if(e==a[b][d]){return b}}},_setByValue:function(d){var a=this.get("items");for(var b=0;b<a.length;b++){if(d==a[b].value){this._setItem(a[b]);return}}},_setItem:function(a){this.get("input").set("value",a.value);this.set("selectedItem",a.id);if(this.get("rendered")){this.get("input").update()}},_itemsToString:function(b){var a=new Array(b.length);for(var d=0;d<b.length;d++){a[d]=b[d].value}return a},_setWidth:function(d){var a=this.get("input").el("container");var b=AUI.getStyleUnitValue(AUI.getStyle(a,"padding-left")).value+AUI.getStyleUnitValue(AUI.getStyle(a,"padding-left")).value+2;this.get("input").set("width",AUI.getStyleUnitValue(d).value-b+"px");this.el("menuContainer").style.width=AUI.getStyleUnitValue(d).value+"px"}});AUI.Stepper=new_constructor(AUI.Widget,function(a){AUI.Stepper.prototype.superClass.initializer.call(this,a,{tag:"div",props:{className:"AUI_Stepper"}})},{initAttrs:function(){AUI.Stepper.prototype.superClass.initAttrs.call(this);this.addAttr("value",{set:function(a){return this.get("input").set("value",a)},get:function(a){return this.get("input").get("value")},transform:function(a){if(!this.get("rendered")){return a}if(a!=this.get("input").get("value")){this.get("input").set("value",a)}return a}});this.addAttr("name",{set:function(a){return this.get("input").set("name",a)},get:function(){return this.get("input").get("name")}});this.addAttr("width",{value:"100px"});this.addAttr("initialDelay",{value:500,valid:function(a){return AUI.isNumber(a)&&a>0}});this.addAttr("delay",{value:100,valid:function(a){return AUI.isNumber(a)&&a>0}});this.addAttr("type",{value:AUI.Input_Integer,enumerable:false,transform:function(a){if(!this.get("rendered")){if(typeof(a)=="string"){return this._inputTypes[a]}return a}else{return a}}});this.addAttr("input",{value:this.get("type")(),writeable:false,enumerable:false});this.addAttr("step",{value:undefined,transform:function(a){if(typeof(a)=="function"){return a.delegate(this)}return function(b){if(b>0){return parseFloat(this.get("value"))+a}else{return parseFloat(this.get("value"))-a}}}});this.addAttr("min",{value:-100,valid:AUI.isNumber});this.addAttr("max",{value:100,valid:function(a){return AUI.isNumber(a)&&a>this.get("min")}});this.addAttr("boundsChecker",{value:function(a){var b=parseFloat(a);if(b>=this.get("min")&&b<=this.get("max")){return true}else{return false}}.delegate(this),valid:function(a){return typeof(a)=="function"}});this.addAttr("placeholder")},renderUI:function(){AUI.Stepper.prototype.superClass.renderUI.call(this);this.addEl("group",{tag:"div",props:{className:"AUI_Stepper_Group"},append:this.el("container")});this.addEl("up",{tag:"div",props:{className:"AUI_Stepper_Up"},append:this.el("group")});this.addEl("down",{tag:"div",props:{className:"AUI_Stepper_Down"},append:this.el("group")});this.get("input").set("parent",this.el("container"));this.get("input").render()},bindUI:function(){AUI.Stepper.prototype.superClass.bindUI.call(this);var a=false;var d=null;var e=this;function f(h){d=setTimeout(function(){d=setInterval(function(){e.get("input").set("value",h())},e.get("delay"))},e.get("initialDelay"));e.get("input").set("value",h())}function b(){if(d){clearInterval(d);d=null}}var g=function(h){return function(){return e.get("step").call(e,h)}};this.addListener("up","mousedown",function(h){if(!this.get("enabled")||h.button==2){return}a=true;b();f(g(1))}.delegate(this));this.addListener("down","mousedown",function(h){if(!this.get("enabled")||h.button==2){return}a=true;b();f(g(-1))}.delegate(this));this.addListener("up","mouseup",function(h){this.get("input").setSel({start:0,end:this.get("input").get("value").toString().length})}.delegate(this));this.addListener("down","mouseup",function(h){this.get("input").setSel({start:0,end:this.get("input").get("value").toString().length})}.delegate(this));this.addListener("up","mouseup",function(){a=false;b();this.get("input").hideError()}.delegate(this));this.addListener("down","mouseup",function(){a=false;b();this.get("input").hideError()}.delegate(this));this.addListener("container","keydown",function(h){var j=AUI.getKeyCode(h);if(j==38||j==40){AUI.preventDefault(h);var i;if(j==38){i=1}else{if(j==40){i=-1}}if(!d){f(g(i))}}}.delegate(this));this.addListener("container","keyup",b);this.get("input")._on("change:focus",function(h){if(!a){b()}});this.addListener(document.body,"mouseup",function(h){if(a){b()}});this.addListener(window,"blur",function(h){if(a){b()}});this._on("change:placeholder",function(h){this.get("input").set("placeholder",h.newValue)});this._on("change:boundsChecker",function(h){this._setBoundChecker(this.get("boundsChecker"))});this._on("change:width",function(h){this.get("input").set("width",h.newValue)});this._on("change:placeholder",function(h){this.get("input").set("placeholder",h.newValue)});this._on("change:enabled",function(h){this._setWidth(h.newValue)});this.get("input")._on("change:value",function(h){this.fireEvent("change:value",h)}.delegate(this));this.get("input")._on("beforeChange:value",function(h){this.fireEvent("beforeChange:value",h)}.delegate(this));this.get("input")._on("set:value",function(h){this.fireEvent("set:value",h)}.delegate(this))},syncUI:function(){AUI.Stepper.prototype.superClass.syncUI.call(this);var a=this.get("value");if(a!=undefined&&a!=null){this.set("value",a);this.get("input").set("value",a)}this._setBoundChecker(this.get("boundsChecker"));this.get("input").set("width",this.get("width"));if(this.get("placeholder")!=null&&this.get("placeholder")!=undefined){this.get("input").set("placeholder",this.get("placeholder"))}},_makeEnabled:function(a){AUI.Stepper.prototype.superClass._makeEnabled.call(this,a);this.get("input").set("enabled",a)},_setBoundChecker:function(b){var d=this;var e=this.get("type").prototype.validate;if(e){var a=function(g){var f=e(g);if(f){if(g==""){return true}return b.call(d,g)}else{return false}};this.get("input").validate=a}},_setWidth:function(a){this.get("input").set("width",a)},_inputTypes:{integer:AUI.Input_Integer}});AUI.FormField=new_constructor(AUI.Widget,function(a,b){AUI.FormField.prototype.superClass.initializer.call(this,a,b)},{toString:function(){return"FormField"},initAttrs:function(){AUI.FormField.prototype.superClass.initAttrs.call(this);this.addAttr("name");this.addAttr("value")},renderUI:function(){AUI.FormField.prototype.superClass.renderUI.call(this);this.addEl("hiddenField",{tag:"input",attrs:{type:"hidden"},props:{value:undefined},append:this.el("container")})},bindUI:function(){AUI.FormField.prototype.superClass.bindUI.call(this);this._on("change:name",function(a){this._setHiddenFieldName(a.newValue)});this._on("change:value",function(a){this._setHiddenFieldValue(a.newValue)})},syncUI:function(b){AUI.FormField.prototype.superClass.syncUI.call(this);var a=this.get("name");if(a){this._setHiddenFieldName(a)}var d=this.get("value");if(d!==undefined){this._setHiddenFieldValue(d)}},_setHiddenFieldName:function(a){this.el("hiddenField").setAttribute("name",a)},_setHiddenFieldValue:function(a){this.el("hiddenField").value=a}});AUI.Slider=new_constructor(AUI.FormField,function(a){AUI.Slider.prototype.superClass.initializer.call(this,a,{tag:"div",props:{className:"AUI_FormField AUI_Slider_Container openHand"}})},{toString:function(){return"Slider"},initAttrs:function(){AUI.Slider.prototype.superClass.initAttrs.call(this);this.addAttr("axis",{value:"x",valid:function(a){return !this.get("rendered")&&(a=="x"||a=="y")}});this.addAttr("ticks",{value:false,valid:function(a){return !this.get("rendered")&&AUI.isBoolean(a)}});this.addAttr("length",{value:90,enumerable:true,valid:function(a){if(AUI.isNumber(a)&&a>10){return true}return false},transform:function(a){if(this.get("ticks")){var b=Math.floor(a/AUI.Slider.prototype.TICK_OFFSET);return b*AUI.Slider.prototype.TICK_OFFSET}else{return a}}});this.addAttr("min",{value:0,valid:AUI.isNumber});this.addAttr("max",{value:100,valid:function(a){return AUI.isNumber(a)&&a>this.get("min")}});this.addAttr("fill",{value:false,valid:function(a){return !this.get("rendered")&&AUI.isBoolean(a)}});this.addAttr("_currentPxVal",{enumerable:false,value:0});this.addAttr("_currentTick",{enumerable:false});this.modifyAttr("value","transform",function(e){if(this.get("ticks")){var f=Math.floor(this.get("length")/AUI.Slider.prototype.TICK_OFFSET);var b=this.get("max")-this.get("min");var a=b/f;var d=e-this.get("min");if(e<=this.get("min")){this.set("_currentTick",0);return this.get("min")}else{if(e>=this.get("max")){this.set("_currentTick",f);return this.get("max")}else{this.set("_currentTick",Math.round(d/a));return this.get("_currentTick")*a+this.get("min")}}}else{if(e>=this.get("max")){return this.get("max")}else{if(e<=this.get("min")){return this.get("min")}else{return e}}}});this.addAttr("mouseupListener",{value:function(a){this._removeStopListeners();this.dragging=false;AUI.removeClass(document.body,"closedHand");AUI.removeClass(this.el("container"),"closedHand");AUI.addClass(this.el("container"),"openHand")}.delegate(this),writeable:false,enumerable:false});this.addAttr("mousemoveListener",{value:function(a){if(this.dragging){this.set("value",this._pixelToActual(this.startPxValue+this.getScreenPos(a)-this.startPos))}}.delegate(this),writeable:false,enumerable:false});this.set("tabIndex",0)},renderUI:function(){AUI.Slider.prototype.superClass.renderUI.call(this);this.addEl("thumb",{tag:"div",props:{className:"AUI_Slider_Thumb"},style:{overflow:"hidden"},append:this.el("container")});this.addEl("fillMask",{tag:"div",props:{className:"AUI_Slider_FillMask"},append:this.el("container")});this.addEl("fill",{tag:"div",props:{className:"AUI_Slider_Fill"},append:this.el("fillMask")});this.addEl("ticks",{tag:"div",props:{className:"AUI_Slider_Tick"},append:this.el("container")})},_removeStopListeners:function(){document.onselectstart=this.oldSelectStart;this.removeListener(document.body,"mouseup",this.get("mouseupListener"));this.removeListener(document.body,"mousemove",this.get("mousemoveListener"))},_addStopListeners:function(){this.oldSelectStart=document.onselectstart;document.onselectstart=function(){return false};this.addListener(document.body,"mouseup",this.get("mouseupListener"));this.addListener(document.body,"mousemove",this.get("mousemoveListener"))},_getScreenPosY:function(a){return a.screenY},_getScreenPosX:function(a){return a.screenX},_getOffsetY:function(a){if(a.pageY){return a.pageY-AUI.findPos(this.el("container"))[1]}else{if(a.clientY){return(a.clientY+document.body.scrollTop+document.documentElement.scrollTop)-AUI.findPos(this.el("container"))[1]}else{this.exception("BrowserOperationNotSupported","OffsetY and pageY not supported on this browser. No way to find where your mouse is!");return 0}}},_getOffsetX:function(a){if(a.pageX){return a.pageX-AUI.findPos(this.el("container"))[0]}else{if(a.clientX){return(a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft)-AUI.findPos(this.el("container"))[0]}else{this.exception("BrowserOperationNotSupported","OffsetX and pageX not supported on this browser. No way to find where your mouse is!");return 0}}},bindUI:function(){AUI.Slider.prototype.superClass.bindUI.call(this);this.startPos=null;this.startPxValue=0;this.dragging=false;this.set("_currentPxVal",this._calculatePixelValue(this.get("value")));this.bindEvent("slide");if(this.get("axis")=="y"){this.getScreenPos=this._getScreenPosY;this.getOffset=this._getOffsetY}else{this.getScreenPos=this._getScreenPosX;this.getOffset=this._getOffsetX}this.addListener("container","mousedown",function(a){if(!this.get("enabled")){return}var b=AUI.getEventTarget(a);if(b==this.el("container")||b==this.el("fillMask")||b==this.el("fill")||b==this.el("ticks")){if(!this.fireEvent("slide",{value:this.get("value")})){return}this.set("value",this._pixelToActual(this.getOffset(a)-this.el("thumb").offsetWidth/2))}this.dragging=true;this.startPos=this.getScreenPos(a);this.startPxValue=this.get("_currentPxVal");this._addStopListeners();AUI.removeClass(this.el("container"),"openHand");AUI.addClass(document.body,"closedHand");AUI.addClass(this.el("container"),"closedHand")}.delegate(this));this.addListener("container","keydown",function(a){if(!this.get("enabled")){return}var e=AUI.getKey(a);var d;var g=this.get("value");if(this.get("ticks")){var b=Math.floor(this.get("length")/AUI.Slider.prototype.TICK_OFFSET)+((this.get("length")>AUI.Slider.prototype.TICK_OFFSET)?1:0);d=(this.get("max")-this.get("min"))/b}else{d=(this.get("max")-this.get("min"))/50}var f=this.get("axis");if(e=="left"||e=="right"||e=="up"||e=="down"){AUI.stopEvent(a)}if(f=="x"){if(e=="left"||e=="down"){this.set("value",this.get("value")-d)}else{if(e=="right"||e=="up"){this.set("value",this.get("value")+d)}}}else{if(f=="y"){if(e=="left"||e=="down"){this.set("value",this.get("value")-d)}else{if(e=="right"||e=="up"){this.set("value",this.get("value")+d)}}}}}.delegate(this));this._on("change:length",function(a){this._doSetLength(a.newValue)});this._on("change:value",function(a){var b=this._calculatePixelValue(a.newValue);if(this.get("rendered")){this._updateSlider(b)}this.set("_currentPxVal",b)})},_doSetLength:function(b){this._updateLength(b);var a=this._calculatePixelValue(this.get("value"));this._updateSlider(a);this.set("_currentPxVal",a)},syncUI:function(){AUI.Slider.prototype.superClass.syncUI.call(this);if(!this.get("ticks")){this.el("ticks").style.display="none"}if(!this.get("fill")){this.el("fill").style.display="none"}var a;if(this.get("axis")=="x"){a="width";AUI.addClass(this.el("container"),"AUI_Slider_Horizontal")}else{a="height";AUI.addClass(this.el("container"),"AUI_Slider_Vertical")}if(this.get("fill")){if(a=="width"){this.el("fill").style.marginLeft=-this.get("length")+"px"}else{this.el("fill").style.marginTop=-this.get("length")+"px";this.el("fillMask").style.marginTop=-this.TICK_HEIGHT/2+"px"}}if(this.get("value")==undefined){this.set("value",this.get("min"))}else{this.set("value",this.get("value"))}this.set("length",this.get("length"),true);this._doSetLength(this.get("length"))},_updateSlider:function(a){if(this.get("axis")=="y"){this.el("thumb").style.top=a+"px"}else{this.el("thumb").style.left=a+"px"}if(this.get("fill")){if(this.get("axis")=="y"){this.el("fill").style.marginTop=this.TICK_HEIGHT/2+a-2+"px"}else{this.el("fill").style.marginLeft=-this.get("length")-this.TICK_HEIGHT/2+a+"px"}}},_calculatePixelValue:function(h){if(h===undefined){h=this.get("value")}var g=this.get("length");var d=this.get("max")-this.get("min");var e=h-this.get("min");var b;if(h<=this.get("min")){b=0}else{if(h>=this.get("max")){b=g}else{b=e/d*g}}if(this.get("ticks")){var i=Math.floor(this.get("length")/AUI.Slider.prototype.TICK_OFFSET);var a=(i)*AUI.Slider.prototype.TICK_OFFSET;var f=a/i;b=this.get("_currentTick")*f}if(this.get("axis")=="y"){b=g-b}return b},_pixelToActual:function(a){if(this.get("axis")=="y"){a=this.get("length")-a-this.TICK_HEIGHT}return(a/(this.get("length")))*(this.get("max")-this.get("min"))+this.get("min")},_updateLength:function(a){if(this.get("axis")=="x"){this.el("container").style.width=a+"px";this.el("fill").style.width=a+"px";this.el("fillMask").style.width=a+"px";this.el("ticks").style.width=a-AUI.Slider.prototype.TICK_OFFSET+"px"}else{this.el("container").style.height=a+"px";this.el("fill").style.height=a+"px";this.el("fillMask").style.height=a+"px";this.el("ticks").style.height=a-AUI.Slider.prototype.TICK_OFFSET+"px";if(this.get("fill")){this.el("ticks").style.marginTop=-a+AUI.Slider.prototype.TICK_OFFSET+"px"}else{this.el("ticks").style.marginTop=-a+7+AUI.Slider.prototype.TICK_OFFSET+"px"}}},TICK_OFFSET:15,TICK_HEIGHT:12});AUI.OnOff=new_constructor(AUI.FormField,function(a){AUI.OnOff.prototype.superClass.initializer.call(this,a,{tag:"div",props:{className:"AUI_FormField AUI_OnOff"}})},{l10n:{en_us:{on:"On",off:"Off"}},toString:function(){return"OnOff"},initAttrs:function(){AUI.OnOff.prototype.superClass.initAttrs.call(this);this.addAttr("animate",{value:true,valid:AUI.isBoolean});this.addAttr("anim",{value:new AUI.Animation(),writeable:false,enumerable:false});this.set("tabIndex",0)},renderUI:function(){AUI.OnOff.prototype.superClass.renderUI.call(this);this.addEl("slideContainer",{tag:"div",props:{className:"AUI_OnOff_slideContainer"},append:this.el("container")});this.addEl("onText",{tag:"div",props:{className:"AUI_OnOff_text",innerHTML:this.getString("on")},append:this.el("slideContainer")});this.addEl("switch",{tag:"div",props:{className:"AUI_OnOff_switch"},append:this.el("slideContainer")});this.addEl("offText",{tag:"div",props:{className:"AUI_OnOff_text",innerHTML:this.getString("off")},append:this.el("slideContainer")})},bindUI:function(){AUI.OnOff.prototype.superClass.bindUI.call(this);this.addListener("container","click",function(){if(this.get("enabled")){this.set("value",!this.get("value"))}}.delegate(this));this.addListener("container","keydown",function(a){if(!this.get("enabled")){return}var b=AUI.getKey(a);if(b=="space"||b=="return"){this.set("value",!this.get("value"));AUI.stopEvent(a)}else{if(b=="left"){this.set("value",false)}else{if(b=="right"){this.set("value",true)}}}}.delegate(this));this._on("change:value",function(a){this._setState(a.newValue)})},syncUI:function(){AUI.OnOff.prototype.superClass.syncUI.call(this);this._setState(this.get("value"),false)},_setName:function(a){this.el("hiddenField").setAttribute("name",a)},_setState:function(a,b){if(b===undefined){b=this.get("animate")}if(a){AUI.addClass(this.el("container"),"on");AUI.removeClass(this.el("container"),"off");if(b){var d=this.get("anim");d.clearSteps();d.addStep({el:this.el("slideContainer"),props:{marginLeft:{to:0}},duration:this.SLIDE_DURATION});d.start()}else{this.el("slideContainer").style.marginLeft="0"}}else{AUI.addClass(this.el("container"),"off");AUI.removeClass(this.el("container"),"on");if(b){var d=this.get("anim");d.clearSteps();d.addStep({el:this.el("slideContainer"),props:{marginLeft:{to:this.SLIDE_AMT}},duration:this.SLIDE_DURATION});d.start()}else{this.el("slideContainer").style.marginLeft=this.SLIDE_AMT+"px"}}this.el("hiddenField").value=a},SLIDE_AMT:-41,SLIDE_DURATION:125});AUI.YesNo=new_constructor(AUI.FormField,function(a){AUI.YesNo.prototype.superClass.initializer.call(this,a,{tag:"div",props:{className:"AUI_FormField AUI_YesNo"}})},{l10n:{en_us:{yes:"Yes",no:"No"}},toString:function(){return"YesNo"},initAttrs:function(){AUI.YesNo.prototype.superClass.initAttrs.call(this);this.set("tabIndex",0)},renderUI:function(){AUI.YesNo.prototype.superClass.renderUI.call(this);this.addEl("yesButton",{tag:"button",props:{tabIndex:-1,className:"AUI_YesNo_yes",innerHTML:this.getString("yes")},append:this.el("container")});this.addEl("noButton",{tag:"button",props:{tabIndex:-1,className:"AUI_YesNo_no",innerHTML:this.getString("no")},append:this.el("container")})},bindUI:function(){AUI.YesNo.prototype.superClass.bindUI.call(this);this.addListener("yesButton","click",function(){if(this.get("enabled")){this.set("value",true)}}.delegate(this));this.addListener("noButton","click",function(){if(this.get("enabled")){this.set("value",false)}}.delegate(this));this._on("change:value",function(a){this._setState(a.newValue)});this.addListener("container","keydown",function(a){if(!this.get("enabled")){return}var b=AUI.getKey(a);if(b=="space"||b=="return"){this.set("value",!this.get("value"));AUI.stopEvent(a)}}.delegate(this))},syncUI:function(){AUI.YesNo.prototype.superClass.syncUI.call(this);this._setState(this.get("value"),false)},_setState:function(b,a){if(a==undefined){a=true}if(b===true){AUI.addClass(this.el("yesButton"),"down");AUI.removeClass(this.el("noButton"),"down")}else{if(b===false){AUI.addClass(this.el("noButton"),"down");AUI.removeClass(this.el("yesButton"),"down")}else{AUI.removeClass(this.el("yesButton"),"down");AUI.removeClass(this.el("noButton"),"down")}}}});AUI.DropDown=new_constructor(AUI.FormField,function(a){AUI.DropDown.prototype.superClass.initializer.call(this,a,{tag:"div",props:{className:"AUI_FormField AUI_DropDown"}})},{l10n:{en_us:{selectAnOption:"Select an option..."}},toString:function(){return"DropDown"},initAttrs:function(){AUI.DropDown.prototype.superClass.initAttrs.call(this);this.addAttr("quiet",{value:false,valid:AUI.isBoolean});this.addAttr("type",{value:"dropdown",valid:function(a){switch(a){case"dropdown":case"dropdown_quiet":case"split_action":return true;default:return false}}});this.addAttr("selectedItemObj",{value:undefined,enumerable:false});this.addAttr("items",{values:[],valid:AUI.isArray,transform:function(a){if(!a){return}for(var b=0;b<a.length;b++){if(a[b].value==undefined){a[b].value=a[b].label}}return a}});this.addAttr("menu",{value:new AUI.Menu({visible:false}),writeable:false,enumerable:false});this.addAttr("menuVisible",{value:false,valid:AUI.isBoolean});this.addAttr("documentClickListener",{value:{hide:function(a){this.set("menuVisible",false);this.removeListener(document,"click",this.get("documentClickListener").hide)}.delegate(this),focus:function(){this.set("focus",true);this.removeListener(document,"click",this.get("documentClickListener").focus,true)}.delegate(this)},enumerable:false,writeOnce:true});this.addAttr("selectedItem",{valid:function(a){if(this.get("rendered")){if(this.get("menu").get("itemObjs")[a]||a==undefined){return true}return false}return true}});this.addAttr("display",{value:"dynamic",valid:function(a){if(a!="static"&&a!="dynamic"){return false}return true}});this.addAttr("displayHTML");this.addAttr("width",{value:"auto"});this.set("tabIndex",0)},renderUI:function(){AUI.DropDown.prototype.superClass.renderUI.call(this);this.addEl("selectContainer",{tag:"div",props:{className:"AUI_DropDown_selectContainer"},append:this.el("container")});this.addEl("selectLabel",{tag:"div",props:{className:"AUI_DropDown_selectLabel noSelect",innerHTML:"&nbsp;"},append:this.el("selectContainer")});this.addEl("more",{tag:"div",props:{className:"AUI_DropDown_more"},append:this.el("container")});this.addEl("triangleDown",{tag:"div",props:{className:"AUI_DropDown_triangle"},append:this.el("more")});var a=this.get("menu");a.set("parent",this.el("selectContainer"));a.render()},bindUI:function(){AUI.DropDown.prototype.superClass.bindUI.call(this);this._on("change:menuVisible",function(b){this._menuVisibleHandler(b)},true);this._on("change:items",function(b){this.set("selectedItemObj",undefined,true);var e=this.get("selectedItem");this.set("selectedItem",undefined,true);this._setMenuItems(b.newValue);if(this.get("width")=="auto"){this._setWidth(this.get("width"))}try{this.set("selectedItem",e,true)}catch(d){}});this._on("change:selectedItem",function(b){this._selectItem(b.newValue,b.firedSilently)});this._on("change:width",function(b){this._setWidth(b.newValue)});this.addListener("container","keydown",function(b){this._keyDownHandler(b)}.delegate(this));this._bindContainerClickHandlers();var a=this.get("menu");a.on("itemClicked",function(b){this.set("selectedItemObj",b.item);this.set("selectedItem",b.item.id)}.delegate(this));a._on("change:focus",function(b){if(!b.newValue){this.set("menuVisible",false);this.el("more").focus()}}.delegate(this));this._on("change:displayHTML",function(b){this._setDisplayHTML(b.newValue)})},syncUI:function(){AUI.DropDown.prototype.superClass.syncUI.call(this);this._setQuiet(this.get("quiet"));if(this.get("displayHTML")){this._setDisplayHTML(this.get("displayHTML"))}if(this.get("items")){this._setMenuItems(this.get("items"))}if(this.get("selectedItem")){this._selectItem(this.get("selectedItem"))}this._setWidth(this.get("width"))},_setDisplayHTML:function(a){this.el("selectLabel").innerHTML=a},_setMenuItems:function(a){this.get("menu").set("items",a)},_menuVisibleHandler:function(a){var d=this.get("menu");var e=function(f){d.set("focus",false);this.removeListener(document,"click",this.get("documentClickListener").hide)}.delegate(this);if(a.newValue){this.el("selectLabel").style.position="relative";d.show();this._setDown(true);d.set("focus",true);var b=this.get("selectedItemObj");if(b){this.get("menu").set("hoveredItemId",b.id)}setTimeout(function(){this.addListener(document,"click",this.get("documentClickListener").hide);this.addListener(document,"click",this.get("documentClickListener").focus,true)}.delegate(this),0);this.addListener(window,"blur",e)}else{var b=this.get("selectedItemObj");if(b){this._selectItem(b.id)}this.el("selectLabel").style.position="";d.hide();d.set("focus",false);AUI.removeClass(this.el("container"),"down");this.removeListener(window,"blur",e)}},_bindContainerClickHandlers:function(){this.addListener("container","click",function(a){if(this.get("enabled")){this.set("menuVisible",!this.get("menuVisible"))}}.delegate(this))},_setDown:function(a){if(a){AUI.addClass(this.el("container"),"down")}else{AUI.removeClass(this.el("container"),"down")}},_setQuiet:function(a){if(a){AUI.addClass(this.el("container"),"AUI_DropDown_quiet")}else{AUI.removeClass(this.el("container"),"AUI_DropDown_quiet")}},_keyDownHandler:function(a){var b=AUI.getKey(a);if(b=="space"||b=="return"){if(this.get("enabled")){this.set("focus",true);this.set("menuVisible",!this.get("menuVisible"));AUI.preventDefault(a);this._removeClickListeners()}return}if(b=="escape"||b=="tab"){this.set("focus",true);if(this.get("menuVisible")){this.set("menuVisible",false)}this._removeClickListeners()}else{if(b=="down"||b=="up"){this.set("menuVisible",true);AUI.preventDefault(a);this._removeClickListeners()}}},_removeClickListeners:function(){this.removeListener(document,"click",this.get("documentClickListener").hide);this.removeListener(document,"click",this.get("documentClickListener").focus,true)},_selectItem:function(h,a){var g=this.get("menu");var f=undefined;if(h!==undefined){var d=g.get("itemObjs")[h];f=d.value;var e=this.get("selectedItemObj");g.set("hoveredItemId",d.id);this.set("selectedItemObj",d);var b=d.label;if(d.icon){b='<img src="'+d.icon+'" class="AUI_DropDown_icon">'+b}if(this.get("display")=="dynamic"){this.set("displayHTML",b)}}else{if(this.get("display")=="dynamic"){this.set("displayHTML","")}}this.set("value",f,a);g.hide();this._setDown(false)},_setWidth:function(a){if(a=="auto"){a="";a=this.get("menu").get("width")}this.el("selectContainer").style.width=a;this.get("menu").set("width","");if(AUI.getStyleUnitValue(this.get("menu").get("width")).value<AUI.getStyleUnitValue(a).value){this.get("menu").set("width",a)}}});AUI.CheckList=new_constructor(AUI.DropDown,function(a){AUI.CheckList.prototype.superClass.initializer.call(this,a,{tag:"div",props:{className:"AUI_FormField AUI_DropDown"}})},{initAttrs:function(){AUI.CheckList.prototype.superClass.initAttrs.call(this);this.modifyAttr("items","transform",function(a){if(!a){return}for(var b=0;b<a.length;b++){if(a[b].value==undefined){a[b].value=a[b].label}if(a[b].checked){a[b].icon=AUI.path+"images/ui/Checklist/checkbox_checked.png";a[b].checked=true}else{a[b].icon=AUI.path+"images/ui/Checklist/checkbox_unchecked.png";a[b].checked=false}}return a});this.modifyAttr("selectedItem","enumerable",false)},initEvents:function(){AUI.CheckList.prototype.superClass.initEvents.call(this);this.bindEvent("checkedItem")},bindUI:function(){AUI.CheckList.prototype.superClass.bindUI.call(this);this._on("change:selectedItemObj",function(a){this._toggleItemCheck(a.newValue)})},syncUI:function(){AUI.CheckList.prototype.superClass.syncUI.call(this);if(this.get("displayHTML")){this._setDisplayHTML(this.get("displayHTML"))}},_selectItem:function(e){var d=this.get("menu");var b=undefined;if(e!==undefined){var a=d.get("itemObjs")[e];b=a.value}this._setDown(false)},_bindContainerClickHandlers:function(){var a=function(b){if(this.get("enabled")){if(!this.get("menuVisible")){this.set("menuVisible",true)}else{this.set("menuVisible",false)}}}.delegate(this);this.addListener("selectLabel","click",a);this.addListener("more","click",a);this.get("menu").addListener("container","click",function(b){if(this.get("selectedItemObj")){this.get("menu").set("hoveredItemId",this.get("selectedItemObj").id)}AUI.stopPropagation(b)}.delegate(this))},check:function(g,f,b){var a=this.get("items");var e;for(var d=0;d<a.length;d++){if(a[d].id==g){e=a[d]}}if(e.checked!=f){this._toggleItemCheck(e,b)}},_toggleItemCheck:function(d,b){var a=this.get("items");d=a[this._indexOf(d,a)];d.checked=!d.checked;this._applySelect(d);if(!b){this.fireEvent("checkedItem",{checked:d.checked,item:d})}},getCheckedItems:function(){var a=this.get("items");var d=[];for(var b=0;b<a.length;b++){if(a[b].checked){d.push(a[b])}}return d},_applySelect:function(a){if(a.checked){this.get("menu").el("item_"+a.id+"_icon").src=AUI.path+"images/ui/Checklist/checkbox_checked.png"}else{this.get("menu").el("item_"+a.id+"_icon").src=AUI.path+"images/ui/Checklist/checkbox_unchecked.png"}this.get("menu").set("hoveredItemId",a.id)},_keyDownHandler:function(a){var b=AUI.getKey(a);if(b=="space"||b=="return"){if(this.get("enabled")){if(!this.get("menuVisible")){this.set("menuVisible",true)}AUI.stopEvent(a,false)}return}if(this.get("menuVisible")){if(b=="escape"||b=="tab"){this.set("menuVisible",false)}}else{if(b=="down"||b=="up"){this.set("menuVisible",true);AUI.stopEvent(a)}}},_indexOf:function(d,a){for(var b=0;b<a.length;b++){if(d.id==a[b].id){return b}}return -1}});AUI.SplitAction=new_constructor(AUI.DropDown,function(a){AUI.SplitAction.prototype.superClass.initializer.call(this,a)},{initAttrs:function(){AUI.SplitAction.prototype.superClass.initAttrs.call(this);this.bindEvent("itemClick")},renderUI:function(){AUI.SplitAction.prototype.superClass.renderUI.call(this);this.addEl("triangleUp",{tag:"div",props:{className:"AUI_DropDown_triangle_up"},insertBefore:this.el("triangleDown")});AUI.addClass(this.el("container"),"AUI_DropDown_split")},bindUI:function(){AUI.SplitAction.prototype.superClass.bindUI.call(this);this.addListener("selectContainer","keydown",function(a){var b=AUI.getKey(a);if(b=="space"||b=="return"){if(this.get("menuVisible")){this.set("menuVisible",false);this.el("more").focus()}else{this._doClick();AUI.addClass(this.el("selectContainer"),"down")}AUI.stopEvent(a)}}.delegate(this));this.addListener("selectContainer","keyup",function(a){var b=AUI.getKey(a);if(b=="space"||b=="return"){AUI.removeClass(this.el("selectContainer"),"down");AUI.stopEvent(a)}}.delegate(this))},syncUI:function(){AUI.SplitAction.prototype.superClass.syncUI.call(this);if(AUI.ieVer&&AUI.ieVer==7){var a=AUI.getStyleUnitValue(this.get("menu").get("width"));this.el("selectLabel").style.width=(a.value-14)+"px"}},_setWidth:function(){AUI.SplitAction.prototype.superClass._setWidth.apply(this,arguments);if(AUI.ieVer&&AUI.ieVer==7){var a=AUI.getStyleUnitValue(this.get("menu").get("width"));this.el("selectLabel").style.width=(a.value-14)+"px"}},_bindContainerClickHandlers:function(){this.addListener("more","click",function(a){if(this.get("enabled")){this.set("menuVisible",!this.get("menuVisible"));AUI.stopPropagation(a)}}.delegate(this));this.addListener("selectLabel","click",function(a){this._doClick()}.delegate(this))},_menuVisibleHandler:function(a){AUI.SplitAction.prototype.superClass._menuVisibleHandler.call(this,a);if(a.newValue){if(this.get("type")=="split_action"){var b=this.get("menu").get("items");var g=this.get("menu").get("hoveredItemId");var e=0;if(g){var f=false;for(var d=0;d<b.length;d++){if(g!=b[d].id){this.get("menu").el("item_"+b[d].id+"_label").style.height="auto";if(!f){e+=this.get("menu").el("item_"+b[d].id+"_li").offsetHeight;if(AUI.ieVer&&AUI.ieVer==7){e+=5}}}else{if(AUI.ieVer&&AUI.ieVer==7){this.get("menu").el("item_"+b[d].id+"_label").style.height="18px"}else{this.get("menu").el("item_"+b[d].id+"_label").style.height="19px"}f=true}}if(AUI.ieVer&&AUI.ieVer==7){e-=1}this.get("menu").el("container").style.top=-e-this.el("selectLabel").offsetHeight+"px"}}}},_doClick:function(b){var a;if(!b){b=this.get("selectedItem")}a=this.get("menu").get("itemObjs")[b];this.fireEvent("itemClick",{id:a.id,label:a.label,value:a.value})},_doTabIndexChange:function(a){if(a==null){this.el("selectContainer").tabIndex=-1;this.el("more").tabIndex=-1}else{this.el("selectContainer").tabIndex=0;this.el("more").tabIndex=0}},_selectItem:function(a){AUI.SplitAction.prototype.superClass._selectItem.call(this,a);if(a!==undefined){this._doClick()}}});AUI.Selector=new_constructor(AUI.FormField,function(a){AUI.Selector.prototype.superClass.initializer.call(this,a,{tag:"div",props:{className:"AUI_FormField AUI_Selector"}})},{toString:function(){return"Selector"},initAttrs:function(){AUI.Selector.prototype.superClass.initAttrs.call(this);this.set("tabIndex",0);this.addAttr("states",{value:[],valid:function(b){return !this.get("rendered")&&AUI.isArray(b)}});var a=false;this.addAttr("state",{transform:function(b){if(!a){a=true;this.set("value",this.get("states")[b].value);a=false}return b}.delegate(this),valid:function(b){return b==undefined||(AUI.isNumber(b)&&(!this.get("rendered")||(b>=0&&b<this.get("states").length)))}});this.modifyAttr("value","transform",function(f){if(!a){var b=this.get("states");for(var d=0;d<b.length;d++){var e=b[d];if(e.value==f){a=true;this.set("state",d);a=false;break}}}return f}.delegate(this))},renderUI:function(){AUI.Selector.prototype.superClass.renderUI.call(this);var a=this.get("states");for(var b=0;b<a.length;b++){var d=a[b];var e="";if(b==0){e=" AUI_Selector_firstButton"}if(b==a.length-1){e=" AUI_Selector_lastButton"}d.num=b;d.button=this.addEl("button_"+b,{tag:"button",attrs:{type:"button"},props:{tabIndex:-1,className:"AUI_Selector_button"+e,innerHTML:d.label},append:this.el("container")})}},bindUI:function(){AUI.Selector.prototype.superClass.bindUI.call(this);var a=this.get("states");for(var b=0;b<a.length;b++){this._addButtonListener(a[b])}this._on("change:state",function(d){this._setButtonStateFromStateNum(d.newValue)});this.addListener("container","keydown",function(d){if(!this.get("enabled")){return}var e=AUI.getKey(d);if(e=="left"||e=="up"||e=="right"||e=="down"||e=="space"||e=="return"){var f=this.get("state");if(f==undefined){this.set("state",0)}else{if(e=="left"||e=="up"){if(f>0){this.set("state",--f)}}else{if(e=="right"||e=="down"){if(f<this.get("states").length-1){this.set("state",++f)}}else{if(e=="space"||e=="return"){if(f<this.get("states").length-1){f++}else{f=0}this.set("state",f)}}}}AUI.stopEvent(d)}}.delegate(this))},syncUI:function(){AUI.Selector.prototype.superClass.syncUI.call(this);var e=this.get("state");var d=this.get("value");if(e!=undefined){this._setButtonStateFromStateNum(e)}else{if(d!=undefined){var a=this.get("states");for(var b=0;b<a.length;b++){var e=a[b];if(e.value==d){this.set("state",b);break}}}}},_addButtonListener:function(a){this.addListener("button_"+a.num,"click",function(){if(!this.get("enabled")){return}this.set("value",a.value);this.set("state",a.num)}.delegate(this))},_setButtonStateFromStateNum:function(d){var a=this.get("states");for(var b=0;b<a.length;b++){if(d==b){AUI.addClass(this.el("button_"+b),"down")}else{AUI.removeClass(this.el("button_"+b),"down")}}}});AUI.CounterButton=new_constructor(AUI.Widget,function(b){var a="button";if(b&&b.tag){a=b.tag}var d={};if(b&&b.props){d=b.props}if(d.className){d.className+=" AUI_CounterButton"}else{d.className="AUI_CounterButton"}delete b.props;AUI.CounterButton.prototype.superClass.initializer.call(this,b,{tag:a,props:d})},{toString:function(){return"CounterButton"},initEvents:function(){AUI.CounterButton.prototype.superClass.initEvents.call(this);this.bindEvent("click")},initAttrs:function(){AUI.CounterButton.prototype.superClass.initAttrs.call(this);this.addAttr("value",{value:""});this.addAttr("color",{value:"green"});this.addAttr("label",{value:""})},renderUI:function(){AUI.CounterButton.prototype.superClass.renderUI.call(this);this.addEl("counter",{tag:"div",append:this.el("container")});this.addEl("label",{tag:"span",append:this.el("container")})},bindUI:function(){AUI.CounterButton.prototype.superClass.bindUI.call(this);this._on("change:label",function(a){this._setLabel(a.newValue)});this._on("change:color",function(a){this._setColor(a.newValue,a.oldValue)});this._on("change:value",function(a){this._setValue(a.newValue)});this.addListener("container","click",function(a){this.fireEvent("click",a)}.delegate(this))},syncUI:function(){AUI.CounterButton.prototype.superClass.syncUI.call(this);this._setValue(this.get("value"));this._setLabel(this.get("label"));this._setColor(this.get("color"))},_setColor:function(a,b){AUI.addClass(this.el("container"),"AUI_CounterButton_"+a);if(b){AUI.removeClass(this.el("container"),"AUI_CounterButton_"+b)}},_applyIncrement:function(b,d){var a=parseInt(this.get("value"),10);if(!isNaN(a)){if(b==undefined){b=1}b=b*d;this.set("value",a+b)}},increment:function(a){this._applyIncrement(a,1)},decrement:function(a){this._applyIncrement(a,-1)},_setLabel:function(a){this.el("label").innerHTML=a},_setValue:function(a){this.el("counter").innerHTML=a},_makeEnabled:function(a){AUI.Input.prototype.superClass._makeEnabled.call(this,a);if(a){this.el("container").disabled=false}else{this.el("container").disabled=true}}});